<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>MFC - &#28404;&#27700;&#36870;&#21521;&#35838;&#31243;&#31508;&#35760;</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="1015827">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">BinaryLearning</span>
                    <img class="space-logo" src="global.logo" />
                </h1>
                <a href="Binary-Learning.html" class="ht-space-link">
                    <h2>&#28404;&#27700;&#36870;&#21521;&#35838;&#31243;&#31508;&#35760;</h2>
                </a>
                <p><br><a href="https://github.com/gh0stkey/Binary-Learning" target="_blank">ᴀᴜᴛʜᴏʀ: ᴋᴇʏ</a><br><br>不积跬步，无以至千里；<br>不积小流，无以成江海。</p>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=1015822"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Binary-Learning.html">&#28404;&#27700;&#36870;&#21521;&#35838;&#31243;&#31508;&#35760;</a></li>
                                                                                     <li><a href="%E5%88%9D%E7%BA%A7%E7%AF%87.html">&#21021;&#32423;&#31687;</a></li>
                                                            </ul>
</div>            <h1 id="src-1015822"> <span>MFC</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

    <div class="section section-1" id="src-1015822_safe-id-TUZDLU1GQ-eahOacrOi0qA">
        <h1 class="heading "><span>MFC&#30340;&#26412;&#36136;</span></h1>
<p   
>MFC&#30340;&#26412;&#36136;&#23601;&#26159;&#23545;Win32&#30340;&#23553;&#35013;</p>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLU1GQ-S7i-e7jQ">
        <h2 class="heading "><span>MFC&#20171;&#32461;</span></h2>
<p   
>MFC&#65288;Microsoft Foundation Classes&#65292;&#24494;&#36719;&#22522;&#30784;&#31867;&#65289;&#26159;&#36890;&#36807; WIN API &#25552;&#20379;&#38754;&#21521;&#23545;&#35937;&#30340;&#31934;&#31616;&#21253;&#35013;&#65292;MFC6.0&#20013;&#22823;&#32422;&#23553;&#35013;&#20102;200&#20010;&#31867;&#65292;&#20998;&#21035;&#23553;&#35013;&#20102;WIN API&#21644;WIN SDK&#20013;&#30340;&#32467;&#26500;&#21644;&#36807;&#31243;&#65307;&#21478;&#22806;MFC&#36824;&#25552;&#20379;&#20102;&#19968;&#20010;&#24212;&#29992;&#31243;&#24207;&#26694;&#26550;&#65292;&#20363;&#22914;&#31243;&#24207;&#21521;&#23548;&#21644;&#31867;&#21521;&#23548;&#33258;&#21160;&#29983;&#25104;&#30340;&#20195;&#30721;&#65292;&#36825;&#26679;&#22823;&#22823;&#20943;&#23569;&#20102;&#31243;&#24207;&#35821;&#35328;&#30340;&#24037;&#20316;&#37327;&#65292;&#25552;&#39640;&#20102;&#24320;&#21457;&#25928;&#29575;&#12290;</p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLVZDNuWIm-W7uk1GQ-mhueebrg">
        <h2 class="heading "><span>VC6&#21019;&#24314;MFC&#39033;&#30446;</span></h2>
<p   
>&#26032;&#24314;&#39033;&#30446;&#65292;&#36873;&#25321;MFC AppWizard&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-8_17-9-18.png" alt="images/download/attachments/1015822/image2021-6-8_17-9-18.png" width="600"  />
    </p>
<p   
>&#28857;&#20987;OK&#36873;&#25321;Dialog Based&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-8_17-9-50.png" alt="images/download/attachments/1015822/image2021-6-8_17-9-50.png" width="600"  />
    </p>
<p   
>&#28857;&#20987;Finish&#28982;&#21518;&#28857;&#20987;OK&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-8_17-10-9.png" alt="images/download/attachments/1015822/image2021-6-8_17-10-9.png" width="600"  />
    </p>
<p   
>&#25104;&#21151;&#21019;&#24314;MFC&#39033;&#30446;&#65288;MFC&#30011;&#31383;&#21475;&#26159;&#21487;&#35270;&#21270;&#25302;&#21160;&#25511;&#20214;&#65292;&#30452;&#25509;&#28857;&#20987;&#21491;&#36793;&#30340;Controls&#28982;&#21518;&#22312;&#31383;&#21475;&#20013;&#21019;&#24314;&#23545;&#24212;&#30340;&#25511;&#20214;&#21363;&#21487;&#65289;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-8_17-10-23.png" alt="images/download/attachments/1015822/image2021-6-8_17-10-23.png" width="600"  />
    </p>
<p   
>&#30475;&#20284;&#36825;&#26159;&#19968;&#20010;&#31383;&#21475;&#23454;&#38469;&#19978;&#65292;&#22312;&#20854;&#32972;&#21518;&#24050;&#32463;&#26367;&#25105;&#20204;&#20889;&#20102;&#24456;&#22810;&#30340;&#20195;&#30721;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-8_17-12-21.png" alt="images/download/attachments/1015822/image2021-6-8_17-12-21.png" width="600"  />
    </p>
<p   
>&#25105;&#20204;&#21487;&#20197;&#21452;&#20987;&#26576;&#20010;&#25511;&#20214;&#28982;&#21518;&#21019;&#24314;&#25511;&#20214;&#20107;&#20214;&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-8_17-13-39.png" alt="images/download/attachments/1015822/image2021-6-8_17-13-39.png" width="600"  />
    </p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-8_17-14-1.png" alt="images/download/attachments/1015822/image2021-6-8_17-14-1.png" width="600"  />
    </p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLU1GQ-S4jldJTjMy">
        <h2 class="heading "><span>MFC&#19982;WIN32</span></h2>
<p   
>MFC&#30340;&#26412;&#36136;&#23601;&#26159;Win32&#30340;&#23553;&#35013;&#65292;&#37027;&#20040;&#20351;&#29992;MFC&#23454;&#38469;&#19978;&#20250;&#26356;&#21152;&#26041;&#20415;&#12289;&#25928;&#29575;&#26356;&#39640;&#65307;</p>
<p   
><strong class=" ">&#20854;&#32570;&#28857;</strong>&#23601;&#26159;&#26681;&#25454;<strong class=" ">&#39033;&#30446;&#24341;&#23548;&#29983;&#25104;&#30340;&#20195;&#30721;&#32321;&#26434;&#20887;&#20313;</strong>&#65292;&#23545;&#21021;&#23398;&#32773;&#26469;&#35828;&#19981;&#21033;&#29992;&#23398;&#20064;&#21644;&#39550;&#39533;&#12290;</p>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLeesrOS4gOS4qk1GQ-eoi-W6jw">
        <h1 class="heading "><span>&#31532;&#19968;&#20010;MFC&#31243;&#24207;</span></h1>
<p   
>&#30001;&#20110;&#26681;&#25454;<strong class=" ">&#39033;&#30446;&#24341;&#23548;&#29983;&#25104;&#30340;&#20195;&#30721;&#32321;&#26434;&#20887;&#20313;</strong>&#65292;&#25152;&#20197;&#25105;&#20204;&#21487;&#20197;&#33258;&#24049;&#26469;&#25163;&#20889;MFC&#26469;&#21019;&#24314;Windows&#31383;&#21475;&#31243;&#24207;&#65292;&#36825;&#26679;&#23601;&#21487;&#20197;&#36991;&#20813;&#19968;&#20123;&#19981;&#24517;&#35201;&#30340;&#20195;&#30721;&#12290;</p>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuQ">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<p   
>1&#12289;&#26412;&#33410;&#24517;&#39035;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;&#65306;</p>
<ul class=" "><li class=" "><p   
>CWinApp&#21487;&#20197;&#35206;&#30422;&#30340;&#34394;&#20989;&#25968; InitInstance</p>
</li><li class=" "><p   
>CWinApp&#25104;&#21592;&#21464;&#37327;m_pMainWnd</p>
</li><li class=" "><p   
>CFramWnd&#30340;&#25104;&#21592;&#20989;&#25968;create&#20197;&#21450;&#21442;&#25968;</p>
</li></ul><p   
>2&#12289;&#38656;&#35201;&#31616;&#21333;&#20102;&#35299;&#30340;&#20869;&#23481;&#65306;</p>
<ul class=" "><li class=" "><p   
>&#36890;&#36807;MSDN&#21435;&#30475;MFC&#30340;&#23618;&#27425;&#32467;&#26500;&#22270;</p>
</li><li class=" "><p   
>&#23545;CWinApp&#26377;&#20010;&#21021;&#27493;&#30340;&#35748;&#35782;</p>
</li><li class=" "><p   
>&#23545;CFramWnd&#26377;&#20010;&#21021;&#27493;&#30340;&#35748;&#35782;</p>
</li></ul>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLU1GQ-eahOWxguasoee7k-aehOWbvg">
        <h2 class="heading "><span>MFC&#30340;&#23618;&#27425;&#32467;&#26500;&#22270;</span></h2>
<p   
>&#22312;MSDN Library&#20013;&#25628;&#32034;hierarchy chart&#21363;&#21487;&#33719;&#24471;MFC&#30340;&#23618;&#27425;&#32467;&#26500;&#22270;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-15_17-35-28.png" alt="images/download/attachments/1015822/image2021-6-15_17-35-28.png" width="600"  />
    </p>
<p   
>&#26412;&#31456;&#25105;&#20204;&#21482;&#38656;&#35201;&#20102;&#35299;CWinApp&#12289;CFramWnd</p>
    </div>
    <div class="section section-2" id="src-1015822_MFC-CWinApp">
        <h2 class="heading "><span>CWinApp</span></h2>
<p   
>CWinApp&#31867;&#26159;Windows&#24212;&#29992;&#31243;&#24207;&#23545;&#35937;&#22522;&#31867;&#65288;&#29238;&#31867;&#65289;&#30340;&#27966;&#29983;&#31867;&#65288;&#23376;&#31867;&#65289;&#65292;&#24212;&#29992;&#31243;&#24207;&#23545;&#35937;&#25552;&#20379;&#20102;&#29992;&#20110;&#21021;&#22987;&#21270;&#24212;&#29992;&#31243;&#24207;&#21644;&#36816;&#34892;&#24212;&#29992;&#31243;&#24207;&#30340;&#25104;&#21592;&#20989;&#25968;&#65307;&#20351;&#29992;MFC&#30340;&#27599;&#20010;&#24212;&#29992;&#31243;&#24207;<strong class=" ">&#21482;&#33021;&#65288;&#20063;&#24517;&#39035;&#65289;&#21253;&#21547;&#19968;&#20010;</strong><strong class=" ">CWinApp&#31867;&#30340;&#27966;&#29983;&#31867;&#65288;&#23376;&#31867;&#65289;</strong>&#30340;&#23545;&#35937;&#65307;&#24403;&#20320;&#20174;<strong class=" ">CWinApp</strong>&#27966;&#29983;&#24212;&#29992;&#31243;&#24207;&#31867;&#26102;&#65292;&#38656;&#35201;&#35206;&#30422;<strong class=" ">InitInstance</strong>&#25104;&#21592;&#20989;&#25968;&#20197;&#21019;&#24314;&#24212;&#29992;&#31243;&#24207;&#30340;&#20027;&#31383;&#21475;&#23545;&#35937;&#65307;&#23427;&#36824;&#26377;&#19968;&#20010;&#25104;&#21592;&#21464;&#37327;<strong class=" ">m_pMainWnd</strong>&#29992;&#26469;&#35760;&#24405;&#21019;&#24314;&#30340;&#20027;&#31383;&#21475;&#30340;&#23545;&#35937;&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-15_17-36-55.png" alt="images/download/attachments/1015822/image2021-6-15_17-36-55.png" width="600"  />
    </p>
    </div>
    <div class="section section-2" id="src-1015822_MFC-CFrameWnd">
        <h2 class="heading "><span>CFrameWnd</span></h2>
<p   
>CFrameWnd&#31867;&#25552;&#20379;&#20102;Windows&#21333;&#25991;&#26723;&#30028;&#38754;&#65288;SDI&#65289;&#37325;&#21472;&#25110;&#24377;&#20986;&#26694;&#26550;&#31383;&#21475;&#30340;&#21151;&#33021;&#65292;<strong class=" ">&#20197;&#21450;&#29992;&#20110;&#31649;&#29702;&#31383;&#21475;&#30340;&#25104;&#21592;</strong>&#65307;&#35201;&#20026;&#24212;&#29992;&#31243;&#24207;&#21019;&#24314;&#26377;&#29992;&#30340;&#26694;&#26550;&#31383;&#21475;&#65292;&#35831;&#20174;CFrameWnd&#27966;&#29983;&#31867;&#65288;&#23376;&#31867;&#65289;&#65307;&#21521;&#27966;&#29983;&#31867;&#65288;&#23376;&#31867;&#65289;&#28155;&#21152;&#25104;&#21592;&#21464;&#37327;&#20197;&#23384;&#20648;&#29305;&#23450;&#20110;&#24744;&#30340;&#24212;&#29992;&#31243;&#24207;&#30340;&#25968;&#25454;&#65307;&#22312;&#27966;&#29983;&#31867;&#65288;&#23376;&#31867;&#65289;&#20013;&#23454;&#29616;&#28040;&#24687;&#22788;&#29702;&#31243;&#24207;&#25104;&#21592;&#20989;&#25968;&#21644;&#28040;&#24687;&#26144;&#23556;&#65292;&#20197;&#25351;&#23450;&#22312;&#23558;&#28040;&#24687;&#23450;&#21521;&#21040;&#31383;&#21475;&#26102;&#20250;&#21457;&#29983;&#20160;&#20040;&#12290;</p>
<p   
>&#26377;&#19977;&#31181;&#26041;&#27861;&#26469;&#26500;&#36896;&#26694;&#26550;&#31383;&#21475;&#65306;</p>
<p   
>1.&#20351;&#29992;Create&#30452;&#25509;&#26500;&#36896;&#23427; &#65288;&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#20869;&#23481;&#65289;<br/>2.&#20351;&#29992;LoadFrame&#30452;&#25509;&#26500;&#36896;&#23427;&#65288;&#21518;&#32493;&#35838;&#31243;&#35762;&#35299;&#65289;<br/>3.&#20351;&#29992;&#25991;&#26723;&#27169;&#26495;&#38388;&#25509;&#26500;&#24314;&#23427; &#65288;&#21518;&#32493;&#35838;&#31243;&#35762;&#35299;&#65289;</p>
<p   
>&#27880;&#65306;<strong class=" ">&#25105;&#20204;&#21487;&#20197;&#35748;&#20026;CFrameWnd&#31867;&#21462;&#20195;&#20102;&#31383;&#21475;&#36807;&#31243;&#20989;&#25968;</strong>&#12290;</p>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLUNyZWF0ZeaIkOWRmOWHveaVsA">
        <h3 class="heading "><span>Create &#25104;&#21592;&#20989;&#25968;</span></h3>
<p   
>CFrameWnd :: Create &#25104;&#21592;&#20989;&#25968;&#35821;&#27861;&#26684;&#24335;&#22914;&#19979;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">BOOL Create(LPCTSTR lpszClassName, </code><code class="comments">// 如果类名为NULL，则以MFC内建的窗口类产生一个标准的外框窗口</code></div>
<div class="line"><code class="plain">           LPCTSTR lpszWindowName,</code></div>
<div class="line"><code class="plain">           DWORD dwStyle = WS_OVERLAPPEDWINDOW,</code></div>
<div class="line"><code class="plain">           </code><code class="keyword">const</code><code class="plain"> RECT&amp; rect = rectDefault,</code></div>
<div class="line"><code class="plain">           CWnd* pParentWnd = NULL,        </code><code class="comments">// != NULL for popups</code></div>
<div class="line"><code class="plain">           LPCTSTR lpszMenuName = NULL,</code></div>
<div class="line"><code class="plain">          DWORD dwExStyle = </code><code class="value">0</code><code class="plain">,</code></div>
<div class="line"><code class="plain">         CCreateContext* pContext = NULL);</code></div>
<div class="line"><code class="comments">// 返回值: 非零表示初始化成功，否则为0</code></div>
</div>
    </div>
<p   
>&#36890;&#36807;<strong class=" ">&#20004;&#20010;&#27493;&#39588;&#26500;&#36896;&#19968;&#20010;CFrameWnd&#23545;&#35937;</strong>&#65306;</p>
<ol class=" "><li class=" "><p   
>&#39318;&#20808;&#35843;&#29992;&#26500;&#36896;&#20989;&#25968;&#65292;&#23427;&#26500;&#36896;<strong class=" ">CFrameWnd&#31867;&#30340;&#23545;&#35937;</strong>&#65292;&#28982;&#21518;&#35843;&#29992;<strong class=" ">Create&#25104;&#21592;&#26041;&#27861;</strong>&#65292;&#21019;&#24314;<strong class=" ">Windows&#26694;&#26550;&#31383;&#21475;&#24182;&#23558;&#20854;&#38468;&#21152;&#21040;CFrameWnd&#31867;&#30340;&#23545;&#35937;</strong>&#65307;</p>
</li><li class=" "><p   
>&#21019;&#24314;&#21021;&#22987;&#21270;&#31383;&#21475;&#30340;&#31867;&#21517;&#21644;&#31383;&#21475;&#21517;&#31216;&#65292;&#24182;&#27880;&#20876;&#20854;&#26679;&#24335;&#65292;&#29238;&#32423;&#21644;&#20851;&#32852;&#33756;&#21333;&#30340;&#40664;&#35748;&#20540;&#12290;</p>
</li></ol>    </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeaJi-WKqOe8luWGmU1GQ-eoi-W6jw">
        <h2 class="heading "><span>&#25163;&#21160;&#32534;&#20889;MFC&#31243;&#24207;</span></h2>
<p   
>&#22522;&#20110;VC6&#25163;&#21160;&#32534;&#20889;MFC&#31243;&#24207;&#38656;&#35201;&#27880;&#24847;&#30340;&#20107;&#39033;&#65306;</p>
<ol class=" "><li class=" "><p   
>&#20351;&#29992;Win32 Application&#21435;&#21019;&#24314;&#39033;&#30446;</p>
</li><li class=" "><p   
>&#39033;&#30446;&#38656;&#35201;&#21253;&#21547;MFC&#36816;&#34892;&#24211;&#65292;VC6&#35774;&#32622;&#65306;Project &rarr; Setting &rarr; General &rarr; Use MFC In Static Library</p>
</li><li class=" "><p   
>&#20351;&#29992;&#22836;&#25991;&#20214;afxwin.h</p>
</li></ol><p   
>&#22836;&#25991;&#20214;&#65306;<strong class=" ">stdafx.h</strong></p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">// stdafx.h : include file for standard system include files,</code></div>
<div class="line"><code class="comments">//  or project specific include files that are used frequently, but</code></div>
<div class="line"><code class="comments">//      are changed infrequently</code></div>
<div class="line"><code class="comments">//</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">#</code><code class="keyword">if</code><code class="plain"> !defined(AFX_STDAFX_H__A9DB83DB_A9FD_11D0_BFD1_444553540000__INCLUDED_)</code></div>
<div class="line"><code class="plain">#define AFX_STDAFX_H__A9DB83DB_A9FD_11D0_BFD1_444553540000__INCLUDED_</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">#</code><code class="keyword">if</code><code class="plain"> _MSC_VER &gt; </code><code class="value">1000</code></div>
<div class="line"><code class="plain">#pragma once</code></div>
<div class="line"><code class="plain">#endif </code><code class="comments">// _MSC_VER &gt; 1000</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">#define WIN32_LEAN_AND_MEAN        </code><code class="comments">// Exclude rarely-used stuff from Windows headers</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">#include &lt;afxwin.h&gt; </code><code class="comments">// 包含需要的头文件</code></div>
<div class="line"> </div>
<div class="line"><code class="keyword">class</code><code class="plain"> CMyWinApp:</code><code class="keyword">public</code><code class="plain"> CWinApp { </code><code class="comments">// 初始化</code></div>
<div class="line"><code class="keyword">public</code><code class="plain">:</code></div>
<div class="line"><code class="plain">    virtual BOOL InitInstance();</code></div>
<div class="line"><code class="plain">};</code></div>
<div class="line"> </div>
<div class="line"><code class="keyword">class</code><code class="plain"> CMainWindow:</code><code class="keyword">public</code><code class="plain"> CFrameWnd { </code><code class="comments">// 初始化</code></div>
<div class="line"><code class="keyword">public</code><code class="plain">:</code></div>
<div class="line"><code class="plain">    CMainWindow();</code></div>
<div class="line"><code class="plain">};</code></div>
<div class="line"> </div>
<div class="line"><code class="comments">// TODO: reference additional headers your program requires here</code></div>
<div class="line"> </div>
<div class="line"><code class="comments">//{{AFX_INSERT_LOCATION}}</code></div>
<div class="line"><code class="comments">// Microsoft Visual C++ will insert additional declarations immediately before the previous line.</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">#endif </code><code class="comments">// !defined(AFX_STDAFX_H__A9DB83DB_A9FD_11D0_BFD1_444553540000__INCLUDED_)</code></div>
</div>
    </div>
<p   
>&#28304;&#20195;&#30721;&#65306;HelloCode.cpp</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">#include </code><code class="string">"stdafx.h"</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">CMyWinApp theApp;</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">BOOL CMyWinApp::InitInstance() {</code></div>
<div class="line"><code class="plain">    m_pMainWnd = </code><code class="keyword">new</code><code class="plain"> CMainWindow; </code><code class="comments">// 成员变量m_pMainWnd用来记录创建的主窗口的对象</code></div>
<div class="line"><code class="plain">    m_pMainWnd -&gt; ShowWindow(m_nCmdShow); </code><code class="comments">// 展示窗口，当调用ShowWindow时，你应该把m_nCmdShow作为一个参数传给它</code></div>
<div class="line"><code class="plain">    m_pMainWnd -&gt; UpdateWindow(); </code><code class="comments">// 更新窗口</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="keyword">return</code><code class="plain"> TRUE; </code><code class="comments">// 返回值</code></div>
<div class="line"><code class="plain">}</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">CMainWindow::CMainWindow() {</code></div>
<div class="line"><code class="plain">    Create(NULL, TEXT(</code><code class="string">"HELLO MFC"</code><code class="plain">)); </code><code class="comments">// Create成员函数创建一个框架窗口，需要注意的是这个函数前两个成员需要我们定义，但是后面的几个成员变量都有其默认参数，我们可以选择不写，第一个参数为NULL它会创建一个默认窗口类</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-21_15-15-26.png" alt="images/download/attachments/1015822/image2021-6-21_15-15-26.png" width="600"  />
    </p>
<p   
><strong class=" ">&#20026;&#20160;&#20040;&#20195;&#30721;&#37324;&#27809;&#26377;WinMain&#65311;MFC&#27809;&#26377;WinMain&#20989;&#25968;&#21527;&#65311;</strong>&#20854;&#23454;MFC&#26159;&#22312;&#20869;&#37096;&#25509;&#31649;&#20102;WinMain&#65292;&#25105;&#20204;&#21487;&#20197;&#35748;&#20026;CWinApp&#23601;&#26159;WinMain&#65292;&#21482;&#19981;&#36807;&#25105;&#20204;&#27809;&#27861;&#24456;&#30452;&#35266;&#30340;&#30475;&#35265;WinMain&#20989;&#25968;&#12290;</p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeaAu-e7kw">
        <h2 class="heading "><span>&#24635;&#32467;</span></h2>
<ol class=" "><li class=" "><p   
>&#22522;&#20110;MFC&#30340;&#31383;&#21475;&#31243;&#24207;&#24517;&#39035;&#20063;&#21482;&#33021;&#26377;&#19968;&#20010;&#30001;&#20174;CWinApp&#27966;&#29983;&#30340;&#23545;&#35937;&#65307;</p>
</li><li class=" "><p   
>&#25105;&#20204;&#24517;&#39035;&#35206;&#30422;CWinApp&#30340;&#34394;&#20989;&#25968;InitInstance&#22312;&#37324;&#38754;&#21019;&#24314;&#31383;&#21475;&#65292;&#24182;&#25226;&#31383;&#21475;&#23545;&#35937;&#20445;&#23384;&#22312;&#23427;&#30340;&#25104;&#21592;&#21464;&#37327;m_pMainWnd&#65307;</p>
</li><li class=" "><p   
>&#36890;&#36807;CFrameWnd&#31867;&#30340;&#27966;&#29983;&#31867;&#65288;&#23376;&#31867;&#65289;&#30340;&#23545;&#35937;&#65292;&#22312;&#23427;&#30340;&#26500;&#36896;&#20989;&#25968;&#37324;&#38754;&#35843;&#29992;&#25104;&#21592;&#20989;&#25968;Create&#26469;&#21019;&#24314;&#31383;&#21475;&#12290;</p>
</li></ol>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeivvuWQjuS9nOS4mg">
        <h2 class="heading "><span>&#35838;&#21518;&#20316;&#19994;</span></h2>
<p   
>&#21019;&#24314;&#19968;&#20010;&#24102;&#28378;&#21160;&#26465;&#30340;&#65292;300x300&#30340;&#31383;&#21475;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">CMainWindow::CMainWindow() {</code></div>
<div class="line"><code class="plain">    RECT rect = {</code><code class="value">0</code><code class="plain">, </code><code class="value">0</code><code class="plain">, </code><code class="value">300</code><code class="plain">, </code><code class="value">300</code><code class="plain">};</code></div>
<div class="line"><code class="plain">    Create(NULL, TEXT(</code><code class="string">"HELLO MFC"</code><code class="plain">), WS_VSCROLL, rect); </code><code class="comments">// Create成员函数创建一个框架窗口</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLU1GQ-eahOWIneWni-WMlui_h-eoi--8iOS4gO-8iQ">
        <h1 class="heading "><span>MFC&#30340;&#21021;&#22987;&#21270;&#36807;&#31243;&#65288;&#19968;&#65289;</span></h1>
<p   
>&#26412;&#31456;&#36890;&#36807;&#20195;&#30721;&#26469;&#27169;&#25311;MFC&#30340;&#21021;&#22987;&#21270;&#36807;&#31243;</p>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS4x">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<p   
>1&#12289;&#26412;&#33410;&#24517;&#39035;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</p>
<ul class=" "><li class=" "><p   
>&#20026;&#20160;&#20040;&#35201;&#22768;&#26126;&#20840;&#23616;&#30340;&#24212;&#29992;&#31243;&#24207;&#23545;&#35937;(CWinApp)</p>
</li><li class=" "><p   
>&#23398;&#20250;&#20351;&#29992;&#31867;&#35270;&#22270;&#24555;&#36895;&#28155;&#21152;&#31867;</p>
</li></ul><p   
>2&#12289;&#38656;&#35201;&#31616;&#21333;&#20102;&#35299;&#30340;&#20869;&#23481;</p>
<ul class=" "><li class=" "><p   
>CWinApp&#30340;&#23618;&#27425;&#32467;&#26500;</p>
</li><li class=" "><p   
>CFramWnd&#30340;&#23618;&#27425;&#32467;&#26500;</p>
</li></ul>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeS7o-eggeaooeaLnw">
        <h2 class="heading "><span>&#20195;&#30721;&#27169;&#25311;</span></h2>
<p   
>&#29992;&#20195;&#30721;&#27169;&#25311;MFC&#30340;&#21021;&#22987;&#21270;&#36807;&#31243;&#65292;&#25105;&#20204;&#22522;&#20110;&#19978;&#19968;&#31456;&#20013;&#25163;&#21160;&#32534;&#20889;&#30340;MFC&#20195;&#30721;&#26469;&#27169;&#25311;&#12290;</p>
<p   
>&#25105;&#20204;&#32487;&#25215;&#20004;&#20010;&#31867;CWinApp&#12289;CFrameWnd&#65292;&#36825;&#20004;&#20010;&#31867;&#30340;&#23618;&#27425;&#32467;&#26500;&#22914;&#19979;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-22_19-26-50.png" alt="images/download/attachments/1015822/image2021-6-22_19-26-50.png" width="600"  />
    </p>
<p   
>&#25152;&#20197;&#22312;&#36825;&#37324;&#25105;&#20204;&#38656;&#35201;&#37325;&#20889;<strong class=" ">CObject&#12289;CCmdTarget&#12289;CWinThread&#12289;CWnd&#12289;CWinApp&#12289;CFrameWnd</strong>&#36825;&#20960;&#20010;&#31867;...</p>
<p   
>&#20165;&#20165;&#26159;&#27169;&#25311;&#20195;&#30721;&#65292;&#19981;&#29992;&#20889;&#23454;&#38469;&#21151;&#33021;&#65292;&#20889;&#19978;&#26500;&#36896;&#12289;&#26512;&#26500;&#20989;&#25968;&#21363;&#21487;&#65292;&#36825;&#37324;&#20351;&#29992;VC6&#30340;&#31867;&#35270;&#22270;&#26469;&#21019;&#24314;&#65292;&#25945;&#31243;&#22914;&#19979;&#25152;&#31034;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-22_19-30-12.png" alt="images/download/attachments/1015822/image2021-6-22_19-30-12.png" width="600"  />
    </p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-22_19-31-41.png" alt="images/download/attachments/1015822/image2021-6-22_19-31-41.png" width="600"  />
    </p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-22_19-32-53.png" alt="images/download/attachments/1015822/image2021-6-22_19-32-53.png" width="600"  />
    </p>
<p   
>&#25353;&#29031;&#36825;&#26679;&#30340;&#23618;&#32423;&#32467;&#26500;&#25105;&#20204;&#21019;&#24314;&#20102;&#36825;&#20123;&#31867;&#65292;&#24182;&#20351;&#29992;&#19978;&#19968;&#31456;&#30340;&#20195;&#30721;&#21435;&#32487;&#25215;&#27169;&#25311;&#23454;&#29616;&#19968;&#20010;MFC&#31243;&#24207;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-22_19-58-55.png" alt="images/download/attachments/1015822/image2021-6-22_19-58-55.png" width="600"  />
    </p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-22_19-59-21.png" alt="images/download/attachments/1015822/image2021-6-22_19-59-21.png" width="600"  />
    </p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-22_19-59-42.png" alt="images/download/attachments/1015822/image2021-6-22_19-59-42.png" width="600"  />
    </p>
<p   
>&#26368;&#21518;&#25191;&#34892;&#65292;&#25105;&#20204;&#23601;&#21487;&#20197;&#24456;&#28165;&#26224;&#30340;&#30475;&#35265;&#25191;&#34892;&#27969;&#31243;&#20102;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-22_20-0-53.png" alt="images/download/attachments/1015822/image2021-6-22_20-0-53.png" width="600"  />
    </p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeaAu-e7ky4x">
        <h2 class="heading "><span>&#24635;&#32467;</span></h2>
<p   
>&#20840;&#23616;&#23545;&#35937;&#30340;&#24314;&#26500;&#20250;&#27604;&#31243;&#24207;&#20837;&#21475;&#28857;&#26356;&#26089;&#65292;&#25152;&#20197;CWinApp&#31867;&#30340;&#23545;&#35937;&#26500;&#36896;&#20989;&#25968;&#23558;&#26089;&#20110;WinMain&#20989;&#25968;&#65292;&#32780;<strong class=" ">WinMain&#20989;&#25968;&#21448;&#24191;&#27867;&#20351;&#29992;&#20102;&#24212;&#29992;&#31243;&#24207;&#23545;&#35937;</strong>&#65292;&#36825;&#23601;&#26159;&#20026;&#20160;&#20040;&#24212;&#35813;&#31243;&#24207;&#23545;&#35937;<strong class=" ">&#24517;&#39035;&#20570;&#20840;&#23616;&#22768;&#26126;</strong>&#30340;&#21407;&#22240;&#12290;</p>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLU1GQ-eahOWIneWni-WMlui_h-eoi--8iOS6jO-8iQ">
        <h1 class="heading "><span>MFC&#30340;&#21021;&#22987;&#21270;&#36807;&#31243;&#65288;&#20108;&#65289;</span></h1>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS4y">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<p   
>1&#12289;&#26412;&#33410;&#24517;&#39035;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</p>
<ul class=" "><li class=" "><p   
>MFC&#26159;&#22914;&#20309;&#20351;&#29992;&#24212;&#29992;&#31243;&#24207;&#23545;&#35937;</p>
</li></ul><p   
>2&#12289;&#38656;&#35201;&#31616;&#21333;&#20102;&#35299;&#30340;&#20869;&#23481;</p>
<ul class=" "><li class=" "><p   
>CWinApp&#31867;&#30340;&#20108;&#20010;&#21487;&#20197;&#35206;&#30422;&#30340;&#34394;&#20989;&#25968;</p>
<ul class=" "><li class=" "><p   
>virtual BOOL InitInstance();</p>
</li><li class=" "><p   
>virtual int Run();</p>
</li></ul></li></ul>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeS7o-eggeaooeaLny4x">
        <h2 class="heading "><span>&#20195;&#30721;&#27169;&#25311;</span></h2>
<p   
>&#22312;&#19978;&#19968;&#31456;&#33410;&#20013;&#25105;&#20204;&#26159;&#23558;<strong class=" ">InitInstance&#36825;&#20010;&#34394;&#20989;&#25968;&#21024;&#38500;&#30340;</strong>&#65292;&#22312;&#26412;&#31456;&#20013;&#25105;&#20204;&#21487;&#20197;&#22522;&#20110;&#19978;&#19968;&#31456;&#33410;&#30340;&#20195;&#30721;&#37325;&#26032;&#23450;&#20041;&#19968;&#19979;&#35813;&#34394;&#20989;&#25968;&#65292;&#22312;&#21407;MFC&#20013;&#65288;&#36825;&#37324;&#25105;&#20204;&#26159;&#27169;&#25311;&#65289;&#36825;&#20010;&#34394;&#20989;&#25968;&#22312;&#19977;&#20010;&#31867;&#20013;&#37117;&#23384;&#22312;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_10-9-24.png" alt="images/download/attachments/1015822/image2021-6-24_10-9-24.png" width="600"  />
    </p>
<p   
>&#25105;&#20204;&#24050;&#32463;&#20102;&#35299;&#23618;&#27425;&#32467;&#26500;&#25152;&#20197;&#30452;&#25509;&#22312;&#26368;&#39640;&#19968;&#23618;&#21435;&#23450;&#20041;&#65292;&#20063;&#23601;&#26159;<strong class=" ">CWinThread&#36825;&#20010;&#31867;</strong>&#20013;&#21435;&#23450;&#20041;&#21363;&#21487;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-22_21-40-46.png" alt="images/download/attachments/1015822/image2021-6-22_21-40-46.png" width="600"  />
    </p>
<p   
>&#22312;&#36825;&#25105;&#20204;&#22312;&#24403;&#21069;&#31867;&#20013;&#19981;&#24819;&#20855;&#20307;&#23454;&#29616;&#65292;&#25152;&#20197;&#20351;&#29992;&#32431;&#34394;&#20989;&#25968;&#21435;&#34920;&#31034;&#65292;&#32780;&#21518;&#22312;CMyWinApp&#31867;&#20013;&#21435;&#23454;&#29616;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-22_21-42-48.png" alt="images/download/attachments/1015822/image2021-6-22_21-42-48.png" width="600"  />
    </p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-22_21-44-18.png" alt="images/download/attachments/1015822/image2021-6-22_21-44-18.png" width="600"  />
    </p>
<p   
>&#38500;&#27492;&#20043;&#22806;&#25105;&#20204;&#36824;&#26377;&#19968;&#20010;<strong class=" ">&#25104;&#21592;&#21464;&#37327;m_pMainWnd</strong>&#65292;&#36825;&#20010;&#20063;&#26159;&#22312;CWinThread&#31867;&#20013;&#23450;&#20041;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-22_21-46-7.png" alt="images/download/attachments/1015822/image2021-6-22_21-46-7.png" width="600"  />
    </p>
<p   
>&#21516;&#26679;&#25105;&#20204;&#38656;&#35201;&#22312;<strong class=" ">CMainWindow&#31867;&#20013;&#23450;&#20041;Create&#20989;&#25968;</strong>&#65292;&#28982;&#21518;&#20570;&#19968;&#20010;&#31616;&#21333;&#30340;&#36755;&#20986;&#21363;&#21487;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-22_21-51-26.png" alt="images/download/attachments/1015822/image2021-6-22_21-51-26.png" width="600"  />
    </p>
<p   
>&#22240;&#20026;&#38656;&#35201;&#23436;&#32654;&#30340;&#27169;&#25311;&#65292;<strong class=" ">&#25152;&#20197;Create&#20989;&#25968;&#38656;&#35201;&#22312;&#26500;&#36896;&#20989;&#25968;&#20013;&#35843;&#29992;&#65292;InitInstance&#20989;&#25968;&#38656;&#35201;&#22312;main&#20989;&#25968;&#20013;&#35843;&#29992;</strong>&#65288;&#23454;&#38469;&#19978;&#26159;&#36890;&#36807;&#25351;&#38024;&#21435;&#35843;&#29992;&#30340;&#65289;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-22_22-0-27.png" alt="images/download/attachments/1015822/image2021-6-22_22-0-27.png" width="600"  />
    </p>
<p   
>&#22312;&#36825;&#37324;&#25105;&#20204;&#19968;&#20010;&#31616;&#21270;&#30340;&#27169;&#25311;&#20195;&#30721;&#23601;&#23436;&#25104;&#20102;&#65292;&#25191;&#34892;&#39034;&#24207;&#22914;&#19979;&#22270;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-22_22-3-32.png" alt="images/download/attachments/1015822/image2021-6-22_22-3-32.png" width="600"  />
    </p>
<p   
>&#31616;&#21333;&#29702;&#35299;&#65306;CWinApp&#30340;Run&#20989;&#25968;&#23601;&#26159;&#29992;&#20110;&#28040;&#24687;&#24490;&#29615;&#30340;&#12290;</p>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLU1GQ-i_kOihjOaXtuexu-Wei-ivhuWIq--8iFJUVEnvvIk">
        <h1 class="heading "><span>MFC&#36816;&#34892;&#26102;&#31867;&#22411;&#35782;&#21035;&#65288;RTTI&#65289;</span></h1>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeS7gOS5iOaYr1JUVEk">
        <h2 class="heading "><span>&#20160;&#20040;&#26159;RTTI</span></h2>
<p   
>MFC&#36816;&#34892;&#26102;&#31867;&#22411;&#35782;&#21035;&#65288;&#33521;&#25991;&#65306;Runtime Type Information&#65292;&#32553;&#20889;&#65306;RTTI&#65289;&#65292;&#33021;&#22815;&#20351;&#29992;&#22522;&#31867;&#65288;&#29238;&#31867;&#65289;&#30340;&#25351;&#38024;&#25110;&#24341;&#29992;&#26469;&#26816;&#26597;&#36825;&#20123;&#25351;&#38024;&#25110;&#24341;&#29992;&#25152;&#25351;&#30340;&#23545;&#35937;&#30340;&#23454;&#38469;&#27966;&#29983;&#31867;&#65288;&#23376;&#31867;&#65289;&#65292;&#31616;&#21333;&#30340;&#24847;&#24605;&#23601;&#26159;<strong class=" ">&#23427;&#21487;&#20197;&#24110;&#21161;&#25105;&#20204;&#22312;&#31243;&#24207;&#36816;&#34892;&#30340;&#36807;&#31243;&#20013;&#20102;&#35299;&#21040;&#26576;&#20010;&#23545;&#35937;&#25152;&#23646;&#31867;</strong>&#12290;</p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS4z">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<p   
>1&#12289;&#26412;&#33410;&#24517;&#39035;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</p>
<ul class=" "><li class=" "><p   
>MFC&#20026;&#20160;&#20040;&#35201;&#33258;&#24049;&#21435;&#26500;&#24314;RTTI</p>
</li><li class=" "><p   
>&#20851;&#38190;&#30340;&#23439;</p>
<ul class=" "><li class=" "><p   
>DECLARE_DYNAMIC</p>
</li><li class=" "><p   
>IMPLEMENT_DYNAMIC</p>
</li><li class=" "><p   
>RUNTIME_CLASS</p>
</li></ul></li><li class=" "><p   
>&#20851;&#38190;&#30340;&#32467;&#26500;&#20307; CRuntimeClass</p>
</li></ul><p   
>2&#12289;&#38656;&#35201;&#31616;&#21333;&#20102;&#35299;&#30340;&#20869;&#23481;</p>
<ul class=" "><li class=" "><p   
>static&#20851;&#38190;&#23383;&#30340;&#20316;&#29992;</p>
</li><li class=" "><p   
>const&#20851;&#38190;&#23383;&#30340;&#20316;&#29992;</p>
</li><li class=" "><p   
>C++ RTTI typeid&#25805;&#20316;&#31526;</p>
</li></ul>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeS9v-eUqFZDNuS4reiHquW4pueahFJUVEk">
        <h2 class="heading "><span>&#20351;&#29992;VC6&#20013;&#33258;&#24102;&#30340;RTTI</span></h2>
<p   
>&#22312;&#32534;&#35793;&#22120;&#65288;VC6&#65289;&#20013;&#26377;&#33258;&#24102;&#30340;RTTI&#65292;&#25105;&#20204;&#21487;&#20197;&#22312;Project-Setting&#20013;&#36873;&#25321;C/C++&#26631;&#31614;&#25353;&#22914;&#19979;&#22270;&#36873;&#25321;&#21363;&#21487;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-23_15-2-44.png" alt="images/download/attachments/1015822/image2021-6-23_15-2-44.png" width="600"  />
    </p>
<p   
>&#22312;&#28304;&#20195;&#30721;&#20013;&#25105;&#20204;&#36824;&#38656;&#35201;&#24341;&#20837;&#19968;&#20010;&#22836;&#25991;&#20214;typeinfo.h&#65292;&#32780;&#21518;&#23601;&#21487;&#20197;&#20351;&#29992;typeid&#36825;&#20010;&#20989;&#25968;&#26469;&#36827;&#34892;&#21160;&#24577;&#35782;&#21035;&#65292;&#35813;&#20989;&#25968;&#21482;&#26377;&#19968;&#20010;&#20256;&#21442;&#65292;&#25913;&#21442;&#25968;&#21487;&#20197;&#20026;&#31867;&#21517;&#25110;&#24050;&#32463;&#21019;&#24314;&#30340;&#23545;&#35937;&#21517;&#12290;</p>
<p   
>&#22914;&#19979;&#22270;&#25152;&#31034;&#31616;&#21333;&#29992;&#19968;&#19979;typeid&#65292;&#25105;&#20204;&#23450;&#19968;&#20010;&#20102;&#19968;&#20010;&#31867;CAnimal&#24182;&#21019;&#24314;&#20102;&#19968;&#20010;&#23545;&#35937;pAnimal&#65292;&#20351;&#29992;typeid&#36827;&#34892;&#27604;&#36739;&#21457;&#29616;&#20004;&#32773;&#37117;&#23646;&#20110;&#21516;&#19968;&#20010;&#31867;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-23_15-11-28.png" alt="images/download/attachments/1015822/image2021-6-23_15-11-28.png" width="600"  />
    </p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLXN0YXRpY-WFs-mUruivjeeahOS9nOeUqA">
        <h2 class="heading "><span>static&#20851;&#38190;&#35789;&#30340;&#20316;&#29992;</span></h2>
<p   
>static&#20851;&#38190;&#35789;&#20043;&#21069;&#35838;&#31243;&#20013;&#20063;&#26377;&#20102;&#35299;&#21040;&#65292;&#36825;&#37324;&#25105;&#20204;&#37325;&#26032;&#28201;&#25925;&#19968;&#19979;&#65292;&#24403;&#29992;&#36825;&#20010;&#20851;&#38190;&#35789;&#23450;&#20041;&#19968;&#20010;&#21464;&#37327;&#65292;&#35813;&#21464;&#37327;&#21017;&#23384;&#20648;&#22312;&#20840;&#23616;&#25968;&#25454;&#21306;&#32780;&#19981;&#26159;&#23616;&#37096;&#30340;&#65292;&#22914;&#26524;static&#20851;&#38190;&#35789;&#30340;&#21464;&#37327;&#20026;&#26576;&#31867;&#30340;&#25104;&#21592;&#65292;&#21017;&#35813;&#25104;&#21592;&#19982;&#31867;&#36827;&#34892;&#20851;&#32852;&#65292;&#20294;&#24182;&#19981;&#20250;&#19982;&#31867;&#21019;&#24314;&#30340;&#23545;&#35937;&#36827;&#34892;&#20851;&#32852;&#65292;&#20063;&#23601;&#34920;&#31034;&#25105;&#20204;&#19981;&#38656;&#35201;&#21019;&#24314;&#23545;&#35937;&#23601;&#21487;&#20197;&#20351;&#29992;&#36825;&#20010;&#25104;&#21592;&#65292;&#25152;&#20197;&#25105;&#20204;&#24819;&#35201;&#20351;&#29992;&#30340;&#35805;&#23601;&#35201;&#36890;&#36807;<strong class=" ">&#31867;&#21517;::&#25104;&#21592;&#21517;</strong>&#30340;&#26041;&#24335;&#21435;&#20351;&#29992;&#65292;&#24182;&#19988;&#25105;&#20204;&#19981;&#21487;&#20197;&#22312;&#31867;&#30340;&#20869;&#37096;&#21435;&#36171;&#20540;&#21021;&#22987;&#21270;&#65292;&#21482;&#21487;&#20197;&#22312;&#22806;&#37096;&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-23_15-19-46.png" alt="images/download/attachments/1015822/image2021-6-23_15-19-46.png" width="600"  />
    </p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLWNvbnN05YWz6ZSu6K-N55qE5L2c55So">
        <h2 class="heading "><span>const&#20851;&#38190;&#35789;&#30340;&#20316;&#29992;</span></h2>
<p   
>&#20351;&#29992;const&#20851;&#38190;&#35789;&#23450;&#20041;&#30340;&#25104;&#21592;&#65292;&#21516;&#26679;&#27809;&#21150;&#27861;&#30452;&#25509;&#21021;&#22987;&#21270;&#65292;&#38656;&#35201;&#22312;&#21021;&#22987;&#21270;&#21015;&#34920;&#20013;&#36827;&#34892;&#21021;&#22987;&#21270;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-23_15-38-48.png" alt="images/download/attachments/1015822/image2021-6-23_15-38-48.png" width="600"  />
    </p>
<p   
>&#36319;static&#19981;&#21516;&#30340;&#26159;&#65292;&#25105;&#20204;&#24819;&#35201;&#20351;&#29992;const&#20851;&#38190;&#35789;&#30340;&#25104;&#21592;&#26102;&#24212;&#21019;&#24314;&#23545;&#35937;&#21518;<strong class=" ">&#26681;&#25454;&#23545;&#35937;&#21517;&#26469;&#20351;&#29992;</strong>&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-23_15-40-29.png" alt="images/download/attachments/1015822/image2021-6-23_15-40-29.png" width="600"  />
    </p>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLXN0YXRpY-OAgWNvbnN05Y-M5YWz6ZSu6K-N">
        <h3 class="heading "><span>static&#12289;const&#21452;&#20851;&#38190;&#35789;</span></h3>
<p   
>&#22914;&#26524;&#19968;&#20010;&#25104;&#21592;&#20351;&#29992;&#20102;static const&#21452;&#20851;&#38190;&#35789;&#65292;&#25105;&#20204;&#36824;&#26159;&#25353;&#29031;static&#20851;&#38190;&#35789;&#30340;&#26041;&#27861;&#21435;&#20351;&#29992;&#65292;&#20294;&#26159;&#22312;&#21021;&#22987;&#21270;&#30340;&#26102;&#20505;&#38656;&#35201;&#21152;&#19978;const&#20851;&#38190;&#35789;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-23_15-44-16.png" alt="images/download/attachments/1015822/image2021-6-23_15-44-16.png" width="600"  />
    </p>
    </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLU1GQ-S4uuS7gOS5iOimgeiHquW3seWOu-aehOW7ulJUVEk">
        <h2 class="heading "><span>MFC&#20026;&#20160;&#20040;&#35201;&#33258;&#24049;&#21435;&#26500;&#24314;RTTI</span></h2>
<p   
>&#22312;MFC&#20986;&#26469;&#30340;&#26102;&#20505;C++&#24182;&#27809;&#26377;RTTI&#36825;&#20010;&#27010;&#24565;&#65292;&#25152;&#20197;MFC&#33258;&#24049;&#35774;&#35745;&#20102;&#36825;&#26679;&#19968;&#22871;&#19996;&#35199;&#65292;&#20854;&#20381;&#38752;&#30340;&#23601;&#26159;&#20004;&#20010;&#23439;&#65306;DECLARE_DYNAMIC&#12289;IMPLEMENT_DYNAMIC&#65292;&#20854;&#20013;IMPLEMENT_DYNAMIC&#23439;&#20063;&#21253;&#21547;&#20102;&#19968;&#20010;&#20851;&#38190;&#30340;&#23439;RUNTIME_CLASS&#20197;&#21450;&#20851;&#38190;&#32467;&#26500;&#20307;CRuntime Class&#12290;</p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeS9v-eUqOWuj-WcqOiHquW3seeahOexu-S4reaehOW7ug">
        <h2 class="heading "><span>&#20351;&#29992;&#23439;&#22312;&#33258;&#24049;&#30340;&#31867;&#20013;&#26500;&#24314;</span></h2>
<p   
>&#25105;&#20204;&#35201;&#22312;&#33258;&#24049;&#30340;&#31867;&#20013;&#26500;&#24314;RTTI&#23601;&#38656;&#35201;&#20351;&#29992;&#36825;&#20004;&#20010;&#23439;&#65288;<strong class=" ">&#27880;&#24847;&#65306;&#23439;&#21333;&#29420;&#20351;&#29992;&#30340;&#26102;&#20505;&#65292;&#32467;&#23614;&#19981;&#21152;&#20998;&#21495;</strong>&#65289;&#65306;DECLARE_DYNAMIC&#12289;IMPLEMENT_DYNAMIC</p>
<p   
>&#39318;&#20808;&#22312;CWinApp&#31867;&#27966;&#29983;&#30340;CMyWinApp&#31867;&#20013;&#20351;&#29992;DECLARE_DYNAMIC&#36825;&#20010;&#23439;&#65288;<strong class=" ">&#20010;&#20154;&#29702;&#35299;</strong>&#65306;&#22768;&#26126;&#36825;&#20010;&#31867;&#21487;&#20197;&#20351;&#29992;RTTI&#65289;&#65292;&#20854;&#29992;&#27861;&#36319;&#20989;&#25968;&#26159;&#19968;&#26679;&#30340;&#65292;&#20256;&#21442;&#20026;&#24403;&#21069;&#31867;&#21517;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-23_22-58-35.png" alt="images/download/attachments/1015822/image2021-6-23_22-58-35.png" width="600"  />
    </p>
<p   
>&#20854;&#27425;&#22312;WinMain&#20989;&#25968;&#20043;&#21069;&#20351;&#29992;IMPLEMENT_DYNAMIC&#23439;&#65288;<strong class=" ">&#20010;&#20154;&#29702;&#35299;</strong>&#65306;&#35201;&#22312;&#24403;&#21069;&#20351;&#29992;RTTI&#65292;&#21448;&#20687;&#24314;&#31435;&#19968;&#20010;&#29238;&#31867;&#21644;&#23376;&#31867;&#30340;&#20851;&#32852;&#65289;&#65292;&#20854;&#29992;&#27861;&#36319;&#20989;&#25968;&#26159;&#19968;&#26679;&#30340;&#65292;&#20256;&#21442;&#20026;&#31867;&#21517;&#12289;&#29238;&#31867;&#21517;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-23_22-59-38.png" alt="images/download/attachments/1015822/image2021-6-23_22-59-38.png" width="600"  />
    </p>
<p   
>&#26368;&#21518;&#20351;&#29992;IsKindOf&#20989;&#25968;&#21435;&#21028;&#26029;&#24403;&#21069;&#26159;&#21542;&#32487;&#25215;&#26576;&#20010;&#31867;&#65292;&#20854;&#35821;&#27861;&#26684;&#24335;&#22914;&#19979;&#25152;&#31034;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-23_23-2-56.png" alt="images/download/attachments/1015822/image2021-6-23_23-2-56.png" width="600"  />
    </p>
<p   
>&#20256;&#36882;&#30340;&#21442;&#25968;&#20351;&#29992;&#32467;&#26500;&#20307;&#25351;&#38024;&#65292;&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;RUNTIME_CLASS&#36825;&#20010;&#23439;&#26469;&#36820;&#22238;&#35813;&#26684;&#24335;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-23_23-6-20.png" alt="images/download/attachments/1015822/image2021-6-23_23-6-20.png" width="600"  />
    </p>
<p   
>&#22914;&#19978;&#22270;&#25152;&#31034;&#25105;&#20204;&#36890;&#36807;&#21028;&#26029;&#24403;&#21069;&#31867;&#26159;&#21542;&#26159;&#22522;&#20110;CWinApp&#31867;&#27966;&#29983;&#30340;&#65292;&#19981;&#26159;&#21017;&#36820;&#22238;FALSE&#12290;</p>
    <div class="section section-3" id="src-1015822_MFC-RUNTIME_CLASS">
        <h3 class="heading "><span>RUNTIME_CLASS</span></h3>
<p   
>RUNTIME_CLASS&#36825;&#20010;&#23439;&#23601;&#26159;&#36820;&#22238;&#22788;&#29702;&#20256;&#20837;&#30340;&#31867;&#21517;&#65292;&#36820;&#22238;&#19968;&#20010;CRuntimeClass&#30340;&#25351;&#38024;&#65292;&#20854;&#26412;&#36136;&#25105;&#20204;&#22312;VC6&#20013;&#40736;&#26631;&#28857;&#20987;&#25353;F12&#21363;&#21487;&#30475;&#35265;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-23_23-13-32.png" alt="images/download/attachments/1015822/image2021-6-23_23-13-32.png" width="600"  />
    </p>
<p   
>&#23601;&#26159; &rarr; <strong class=" ">((CRuntimeClass*)(&amp;class_name::class##class_name))</strong>&#65292;&#20854;&#20013;&#20004;&#20010;#&#21495;&#21017;&#20195;&#34920;&#25340;&#25509;&#31526;&#65288;&#19968;&#20010;#&#21495;&#21017;&#34920;&#31034;&#36716;&#20026;&#23383;&#31526;&#20018;&#65289;&#65292;&#20063;&#23601;&#26159;&#35828;&#36825;&#19968;&#27573;&#20195;&#30721;&#21487;&#20197;&#36716;&#25442;&#20026;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">((CRuntimeClass*)(&amp;CWinApp::classCWinApp))</code></div>
</div>
    </div>
<p   
>&#25152;&#20197;&#25105;&#20204;&#21487;&#20197;&#22312;&#21028;&#26029;&#20013;&#21435;&#26367;&#25442;&#19968;&#19979;&#20351;&#29992;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-23_23-17-2.png" alt="images/download/attachments/1015822/image2021-6-23_23-17-2.png" width="600"  />
    </p>
<p   
>&#37027;&#36825;&#20010;&#20063;&#23601;&#24456;&#22909;&#29702;&#35299;&#20102;&#65306;&#36825;&#19968;&#27573;&#23601;&#34920;&#31034;&#36820;&#22238;&#30340;&#26159;<strong class=" ">CWinApp&#31867;&#20013;&#30340;classCWinApp&#30340;&#22320;&#22336;&#28982;&#21518;&#24378;&#36716;&#20026;&#20102;CRuntimeClass&#25351;&#38024;</strong>&#12290;</p>
<p   
>&#22240;&#27492;&#25105;&#20204;&#38656;&#35201;&#26469;&#30475;&#19968;&#19979;CRuntimeClass&#36825;&#20010;&#32467;&#26500;&#20307;&#12290;</p>
    </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLUNSdW50aW1lQ2xhc3Pnu5PmnoTkvZM">
        <h2 class="heading "><span>CRuntimeClass&#32467;&#26500;&#20307;</span></h2>
<p   
>CRuntimeClass&#32467;&#26500;&#20307;&#65292;&#20013;&#25991;&#21517;&#31216;&#21483;&#31867;&#22411;&#35760;&#24405;&#38142;&#34920;&#32467;&#26500;&#65292;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;F12&#36319;&#36827;&#30475;&#19968;&#19979;&#23450;&#20041;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-23_23-20-16.png" alt="images/download/attachments/1015822/image2021-6-23_23-20-16.png" width="600"  />
    </p>
<p   
>&#30001;&#20110;&#36825;&#37324;&#32467;&#26500;&#20307;&#30340;&#20869;&#23481;&#27604;&#36739;&#22810;&#65292;&#25105;&#20204;&#21487;&#20197;&#31616;&#21270;&#19968;&#19979;&#65292;&#25972;&#29702;&#20986;&#26412;&#31456;&#38656;&#35201;&#23398;&#21040;&#30340;&#19996;&#35199;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">struct CRuntimeClass</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">LPCSTR m_lpszClassName;  </code><code class="comments">// 类名称</code></div>
<div class="line"><code class="keyword">int</code><code class="plain"> m_nObjectSize;  </code><code class="comments">// 类的大小</code></div>
<div class="line"><code class="plain">UINT m_wSchema; </code><code class="comments">// 加载类的模式编号</code></div>
<div class="line"><code class="plain">...</code></div>
<div class="line"><code class="plain">CRuntimeClass* m_pBaseClass;   </code><code class="comments">// 父类指针</code></div>
<div class="line"> </div>
<div class="line"><code class="comments">// 判断函数，判断是否父类</code></div>
<div class="line"><code class="plain">BOOL IsDerivedFrom(</code><code class="keyword">const</code><code class="plain"> CRuntimeClass* pBaseClass) </code><code class="keyword">const</code><code class="plain">;</code></div>
<div class="line"><code class="plain">...</code></div>
<div class="line"><code class="plain">CRuntimeClass* m_pNextClass;    </code><code class="comments">// 指向下一个CRuntimeClass结构体指针</code></div>
<div class="line"><code class="plain">};</code></div>
</div>
    </div>
<p   
>&#36825;&#20010;&#26159;&#19968;&#20010;&#38142;&#34920;&#32467;&#26500;&#20307;&#65292;&#26159;&#29992;&#20110;&#35760;&#24405;&#31867;&#30340;&#32467;&#26500;&#65292;&#20854;&#20013;&#21253;&#21547;&#20102;&#24456;&#22810;&#31867;&#30340;&#20449;&#24687;&#12290;</p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLei9rOaNouWuj-S6huino-acrOi0qA">
        <h2 class="heading "><span>&#36716;&#25442;&#23439;&#20102;&#35299;&#26412;&#36136;</span></h2>
<p   
>&#25105;&#20204;&#21487;&#20197;&#23558;&#20351;&#29992;&#21040;&#30340;&#20960;&#20010;&#23439;&#36716;&#25442;&#20026;&#21407;&#26469;&#30340;&#20195;&#30721;&#28982;&#21518;&#30475;&#19968;&#19979;&#26412;&#36136;&#65292;&#39318;&#20808;&#26159;DECLARE_DYNAMIC&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">#define DECLARE_DYNAMIC(class_name) \</code></div>
<div class="line"><code class="keyword">public</code><code class="plain">: \</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">static</code><code class="plain"> </code><code class="keyword">const</code><code class="plain"> AFX_DATA CRuntimeClass </code><code class="keyword">class</code><code class="plain">##class_name; \</code></div>
<div class="line"><code class="plain">    virtual CRuntimeClass* GetRuntimeClass() </code><code class="keyword">const</code><code class="plain">; \</code></div>
</div>
    </div>
<p   
>&#22312;&#20195;&#30721;&#20013;&#25913;&#20889;&#20026;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">static</code><code class="plain"> </code><code class="keyword">const</code><code class="plain"> CRuntimeClass classCMyWinApp; </code><code class="comments">// 全局可读的变量，类型记录信息结构体CRuntimeClass</code></div>
<div class="line"><code class="plain">virtual CRuntimeClass* GetRuntimeClass() </code><code class="keyword">const</code><code class="plain">; </code><code class="comments">// 最后的const表示对该成员无法更改</code></div>
</div>
    </div>
<p   
>&#36825;&#37324;&#26082;&#28982;&#23450;&#20041;&#20102;&#19968;&#20010;&#25104;&#21592;&#20026;&#20840;&#23616;&#21487;&#35835;&#30340;&#21464;&#37327;&#65292;<strong class=" ">&#37027;&#20040;&#23601;&#20250;&#38656;&#35201;&#22312;&#19968;&#20010;&#22320;&#26041;&#36827;&#34892;&#21021;&#22987;&#21270;</strong>&#65292;&#32780;&#21021;&#22987;&#21270;&#30340;&#22320;&#26041;&#23601;&#22312;IMPLEMENT_DYNAMIC&#23439;&#20013;&#65292;&#25105;&#20204;&#26469;&#30475;&#19979;IMPLEMENT_DYNAMIC&#30340;&#32972;&#21518;&#26159;&#20160;&#20040;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">#define IMPLEMENT_DYNAMIC(class_name, base_class_name) \</code></div>
<div class="line"><code class="plain">    IMPLEMENT_RUNTIMECLASS(class_name, base_class_name, </code><code class="value">0xFFFF</code><code class="plain">, NULL) </code><code class="comments">// 其背后又是一个宏，继续跟进</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">#define IMPLEMENT_RUNTIMECLASS(class_name, base_class_name, wSchema, pfnNew) \</code></div>
<div class="line"><code class="plain">    AFX_COMDAT </code><code class="keyword">const</code><code class="plain"> AFX_DATADEF CRuntimeClass class_name::</code><code class="keyword">class</code><code class="plain">##class_name = { \</code></div>
<div class="line"><code class="plain">        #class_name, sizeof(</code><code class="keyword">class</code><code class="plain"> class_name), wSchema, pfnNew, \</code></div>
<div class="line"><code class="plain">            RUNTIME_CLASS(base_class_name), NULL }; \</code></div>
<div class="line"><code class="plain">    CRuntimeClass* class_name::GetRuntimeClass() </code><code class="keyword">const</code><code class="plain"> \</code></div>
<div class="line"><code class="plain">        { </code><code class="keyword">return</code><code class="plain"> RUNTIME_CLASS(class_name); } \</code></div>
</div>
    </div>
<p   
>&#22312;&#20195;&#30721;&#20013;&#25913;&#20889;&#20026;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">const</code><code class="plain"> CRuntimeClass CMyWinApp::classCMyWinApp = {</code></div>
<div class="line"><code class="plain">    </code><code class="string">"CMyWinApp"</code><code class="plain">, sizeof(</code><code class="keyword">class</code><code class="plain"> CMyWinApp), </code><code class="value">0xFFFF</code><code class="plain">, NULL, </code><code class="comments">// CRuntimeClass结构体，初始化类信息</code></div>
<div class="line"><code class="plain">    ((CRuntimeClass*)(&amp;CWinApp::classCWinApp)), NULL</code></div>
<div class="line"><code class="plain">};</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">CRuntimeClass* CMyWinApp::GetRuntimeClass() </code><code class="keyword">const</code><code class="plain"> {</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">return</code><code class="plain"> ((CRuntimeClass*)(&amp;CMyWinApp::classCMyWinApp)); </code><code class="comments">// 返回</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
>&#25972;&#20010;&#20195;&#30721;&#36716;&#25442;&#19979;&#26469;&#65292;&#27969;&#31243;&#20063;&#28165;&#26970;&#20102;&#65292;&#26368;&#21518;&#23601;&#26159;IsKindOf&#20989;&#25968;&#30340;&#21407;&#29702;&#20102;&#65292;&#25105;&#20204;&#21487;&#20197;&#19979;&#26029;&#28857;&#36319;&#36827;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-23_23-55-51.png" alt="images/download/attachments/1015822/image2021-6-23_23-55-51.png" width="600"  />
    </p>
<p   
>&#39318;&#20808;&#26159;&#33719;&#21462;&#31867;&#30340;<strong class=" ">CRuntimeClass&#32467;&#26500;&#20307;&#25351;&#38024;</strong>&#65292;&#28982;&#21518;&#26681;&#25454;&#36825;&#20010;&#25351;&#38024;&#35843;&#29992;<strong class=" ">IsDerivedFrom&#26041;&#27861;</strong>&#65292;&#20256;&#36882;&#30340;&#21442;&#25968;&#20063;&#26159;&#19968;&#20010;&#32467;&#26500;&#20307;&#25351;&#38024;&#65292;&#32487;&#32493;&#36319;&#36827;&#35813;&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-23_23-57-14.png" alt="images/download/attachments/1015822/image2021-6-23_23-57-14.png" width="600"  />
    </p>
<p   
>&#21069;&#38754;&#30340;&#21487;&#20197;&#19981;&#29992;&#31649;&#65292;&#37117;&#26159;&#19968;&#20123;&#23481;&#38169;&#20195;&#30721;&#65292;&#36827;&#21040;&#36825;&#20010;while&#24490;&#29615;&#65292;&#25105;&#20204;&#21487;&#20197;&#24456;&#28165;&#26224;&#30340;&#30475;&#35265;&#20854;&#20250;&#21028;&#26029;&#24403;&#21069;&#31867;&#21644;&#20256;&#36882;&#36827;&#26469;&#30340;&#31867;&#26159;&#21542;&#19968;&#26679;&#65292;&#22914;&#26524;&#19968;&#26679;&#21017;&#36820;&#22238;TRUE&#12290;</p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeivvuWQjuS9nOS4mi4x">
        <h2 class="heading "><span>&#35838;&#21518;&#20316;&#19994;</span></h2>
<p   
>&#36890;&#36807;&#25286;&#20998;&#23439;&#65292;&#35753;CMainWindow&#31867;&#20063;&#25903;&#25345;RTTI&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_0-11-11.png" alt="images/download/attachments/1015822/image2021-6-24_0-11-11.png" width="600"  />
    </p>
<p   
>&#20998;&#21035;&#33258;&#20889;&#20989;&#25968;&#25171;&#21360;&#20986;&#23427;&#29238;&#31867;&#30340;CRuntimeClass&#32467;&#26500;&#20307;&#20449;&#24687;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">class</code><code class="plain"> CMyWinApp : </code><code class="keyword">public</code><code class="plain"> CWinApp {</code></div>
<div class="line"><code class="keyword">private</code><code class="plain">:</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">void</code><code class="plain"> PrintCRuntimeClass (CRuntimeClass* className) {</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">char</code><code class="plain"> szOutBuff[</code><code class="value">0x80</code><code class="plain">];</code></div>
<div class="line"><code class="plain">        sprintf(szOutBuff, </code><code class="string">"%s \n"</code><code class="plain">, className-&gt;m_lpszClassName);</code></div>
<div class="line"><code class="plain">        OutputDebugString(szOutBuff);</code></div>
<div class="line"><code class="plain">        CRuntimeClass* baseRuntimeClass = className-&gt;m_pBaseClass;</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">if</code><code class="plain"> (baseRuntimeClass != NULL) {</code></div>
<div class="line"><code class="plain">            PrintCRuntimeClass(baseRuntimeClass);</code></div>
<div class="line"><code class="plain">        }</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="keyword">public</code><code class="plain">:</code></div>
<div class="line"><code class="plain">    virtual BOOL InitInstance();</code></div>
<div class="line"><code class="plain">    CMyWinApp();</code></div>
<div class="line"><code class="plain">    ~CMyWinApp();</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="keyword">static</code><code class="plain"> </code><code class="keyword">const</code><code class="plain"> CRuntimeClass classCMyWinApp; </code><code class="comments">// 全局可读的变量，类型记录信息结构体CRuntimeClass</code></div>
<div class="line"><code class="plain">    virtual CRuntimeClass* GetRuntimeClass() </code><code class="keyword">const</code><code class="plain">; </code><code class="comments">// 最后的const表示对该成员无法更改</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="keyword">void</code><code class="plain"> RunIt () {</code></div>
<div class="line"><code class="plain">        CRuntimeClass* thisRuntimeClass = </code><code class="keyword">this</code><code class="plain">-&gt;GetRuntimeClass();</code></div>
<div class="line"><code class="plain">        PrintCRuntimeClass(thisRuntimeClass);</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">};</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_0-28-45.png" alt="images/download/attachments/1015822/image2021-6-24_0-28-45.png" width="600"  />
    </p>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLeWKqOaAgeWIm-W7ug">
        <h1 class="heading "><span>&#21160;&#24577;&#21019;&#24314;</span></h1>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeWFs-S6jk1GQ-eahOWKqOaAgeWIm-W7ug">
        <h2 class="heading "><span>&#20851;&#20110;MFC&#30340;&#21160;&#24577;&#21019;&#24314;</span></h2>
<p   
>MFC&#30340;&#21160;&#24577;&#21019;&#24314;&#22522;&#26412;&#21644;C++&#30340;new&#36816;&#31639;&#31526;&#21019;&#24314;&#27809;&#26377;&#21306;&#21035;&#65292;&#20294;&#26159;&#20182;&#24357;&#34917;&#20102;C++&#35821;&#35328;&#20013;&#19981;&#35753;&#22914;&#19979;&#35821;&#21477;&#25191;&#34892;&#30340;&#32570;&#28857;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">char</code><code class="plain">* className = </code><code class="string">"MyClass"</code><code class="plain">;</code></div>
<div class="line"><code class="plain">CObject* obj = </code><code class="keyword">new</code><code class="plain"> className;</code></div>
</div>
    </div>
<p   
>&#22914;&#19978;&#20195;&#30721;&#25105;&#20204;&#30340;&#26412;&#24847;&#23601;&#26159;&#21019;&#24314;&#19968;&#20010;MyClass&#31867;&#30340;&#23545;&#35937;&#65292;&#20294;&#26159;C++&#26159;&#26080;&#27861;&#21019;&#24314;&#30340;&#12290;</p>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLeS7gOS5iOaXtuWAmemcgOimgeWKqOaAgeWIm-W7ug">
        <h3 class="heading "><span>&#20160;&#20040;&#26102;&#20505;&#38656;&#35201;&#21160;&#24577;&#21019;&#24314;</span></h3>
<p   
>MFC&#26377;&#19968;&#20010;&#27704;&#20037;&#20445;&#23384;&#26426;&#21046;&#65292;&#23601;&#26159;&#23558;&#20869;&#23384;&#20013;&#30340;&#19996;&#35199;&#20889;&#20837;&#21040;&#25991;&#20214;&#20013;&#65292;&#20889;&#20837;&#30340;&#25968;&#25454;&#21487;&#33021;&#26159;&#23545;&#35937;&#20013;&#30340;&#25104;&#21592;&#65292;&#25152;&#20197;&#25105;&#20204;&#38656;&#35201;&#26681;&#25454;&#25991;&#20214;&#20013;&#35760;&#36733;&#30340;&#20449;&#24687;&#21435;&#21019;&#24314;&#23545;&#35937;&#65292;&#25165;&#33021;&#23558;&#20889;&#20837;&#30340;&#25968;&#25454;&#35835;&#21462;&#20445;&#23384;&#12290;</p>
    </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS40">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<p   
>1&#12289;&#26412;&#33410;&#24517;&#39035;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</p>
<ul class=" "><li class=" "><p   
>&#21160;&#24577;&#21019;&#24314;&#30340;&#20316;&#29992;</p>
</li><li class=" "><p   
>&#20108;&#20010;&#20851;&#38190;&#30340;&#23439;:</p>
<ul class=" "><li class=" "><p   
>DECLARE_DYNCREATE</p>
</li><li class=" "><p   
>IMPLEMENT_DYNCREATE</p>
</li></ul></li></ul><p   
>2&#12289;&#38656;&#35201;&#31616;&#21333;&#20102;&#35299;&#30340;&#20869;&#23481;</p>
<ul class=" "><li class=" "><p   
>CRuntimeClass::CreateObject&#65288;<strong class=" ">&#21160;&#24577;&#21019;&#24314;&#20989;&#25968;</strong>&#65289;</p>
</li></ul>    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">//类型记录链表结构</code></div>
<div class="line"><code class="plain">struct CRuntimeClass</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">LPCSTR m_lpszClassName;   </code><code class="comments">// 类名称</code></div>
<div class="line"><code class="keyword">int</code><code class="plain"> m_nObjectSize;    </code><code class="comments">// 类的大小</code></div>
<div class="line"><code class="plain">UINT m_wSchema; </code><code class="comments">// 加载类的模式编号</code></div>
<div class="line"><code class="plain">CObject* (PASCAL* m_pfnCreateObject)(); </code><code class="comments">// 函数指针，定义了一个函数指针m_pfnCreateObject用来存放需要支持动态创建类的CreateObject函数</code></div>
<div class="line"><code class="plain">m_pBaseClass;   </code><code class="comments">// 父类指针</code></div>
<div class="line"><code class="plain">CObject* CreateObject();   </code><code class="comments">// 动态创建函数</code></div>
<div class="line"><code class="comments">// 判断函数</code></div>
<div class="line"><code class="plain">BOOL IsDerivedFrom(</code><code class="keyword">const</code><code class="plain"> CRuntimeClass* pBaseClass) </code><code class="keyword">const</code><code class="plain">; …</code></div>
<div class="line"><code class="plain">CRuntimeClass* m_pNextClass;       </code><code class="comments">// 指向下一个CRuntimeClass </code></div>
<div class="line"><code class="plain">};</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeS9v-eUqOWKqOaAgeWIm-W7ug">
        <h2 class="heading "><span>&#20351;&#29992;&#21160;&#24577;&#21019;&#24314;</span></h2>
<p   
>&#25105;&#20204;&#21487;&#20197;&#36319;&#36827;CFramWnd&#31867;&#12289;CWinApp&#31867;&#26469;&#30475;&#19968;&#19979;&#35841;&#25903;&#25345;&#21160;&#24577;&#21019;&#24314;&#65292;&#20063;&#23601;&#26159;<strong class=" ">&#35841;&#20351;&#29992;&#20102;&#30456;&#20851;&#30340;&#23439;</strong>&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_10-32-2.png" alt="images/download/attachments/1015822/image2021-6-24_10-32-2.png" width="600"  />
    </p>
<p   
>&#22914;&#19978;&#22270;&#25152;&#31034;&#25105;&#20204;&#21487;&#20197;&#24456;&#28165;&#26224;&#30340;&#30475;&#35265;<strong class=" ">CFrameWnd&#31867;&#20351;&#29992;&#20102;DECLARE_DYNCREATE&#23439;</strong>&#65292;&#20063;&#23601;&#34920;&#31034;&#20854;&#25903;&#25345;&#21160;&#24577;&#21019;&#24314;&#12290;</p>
<p   
>&#25152;&#20197;&#25105;&#20204;&#21487;&#20197;&#22312;&#20854;&#27966;&#29983;&#30340;CMainWindow&#31867;&#20063;&#20351;&#29992;&#21160;&#24577;&#21019;&#24314;&#65292;&#36825;&#37324;&#23439;&#30340;&#20351;&#29992;&#21644;RTTI&#23439;&#30340;&#20351;&#29992;&#26159;&#19968;&#26679;&#30340;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_10-57-1.png" alt="images/download/attachments/1015822/image2021-6-24_10-57-1.png" width="600"  />
    </p>
<p   
>&#22312;InitInstance&#20989;&#25968;&#20013;<strong class=" ">&#23558;new&#36816;&#31639;&#31526;&#26367;&#20195;&#20026;&#21160;&#24577;&#21019;&#24314;&#20989;&#25968;CreateObject</strong>&#21363;&#21487;&#12290;</p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLei9rOaNouWuj-S6huino-acrOi0qC4x">
        <h2 class="heading "><span>&#36716;&#25442;&#23439;&#20102;&#35299;&#26412;&#36136;</span></h2>
<p   
>&#19982;&#19978;&#19968;&#31456;&#19968;&#26679;&#65292;&#25105;&#20204;&#23558;&#23439;&#36716;&#25442;&#20026;&#20854;&#32972;&#21518;&#30340;&#20195;&#30721;&#26469;&#20102;&#35299;&#20854;&#26412;&#36136;&#12290;</p>
<p   
>&#39318;&#20808;&#26159;DECLARE_DYNCREATE&#23439;&#65292;&#20854;&#20195;&#30721;&#20026;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">#define DECLARE_DYNCREATE(class_name) \</code></div>
<div class="line"><code class="plain">    DECLARE_DYNAMIC(class_name) \ </code><code class="comments">// RTTI宏</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">static</code><code class="plain"> CObject* PASCAL CreateObject();</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">#define DECLARE_DYNAMIC(class_name) \</code></div>
<div class="line"><code class="keyword">public</code><code class="plain">: \</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">static</code><code class="plain"> </code><code class="keyword">const</code><code class="plain"> AFX_DATA CRuntimeClass </code><code class="keyword">class</code><code class="plain">##class_name; \</code></div>
<div class="line"><code class="plain">    virtual CRuntimeClass* GetRuntimeClass() </code><code class="keyword">const</code><code class="plain">; \</code></div>
</div>
    </div>
<p   
>&#22914;&#19978;&#20195;&#30721;&#20013;&#25991;&#21517;&#21487;&#20197;&#30475;&#35265;&#22312;&#35813;&#23439;&#20013;&#21253;&#21547;&#20102;DECLARE_DYNAMIC&#23439;&#65292;&#20063;&#23601;&#26159;&#35828;&#21160;&#24577;&#21019;&#24314;&#26159;&#25903;&#25345;RTTI&#30340;&#65292;&#20195;&#30721;&#20013;&#25913;&#20889;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">static</code><code class="plain"> </code><code class="keyword">const</code><code class="plain"> CRuntimeClass classCMainWindow;</code></div>
<div class="line"><code class="plain">virtual CRuntimeClass* GetRuntimeClass() </code><code class="keyword">const</code><code class="plain">;</code></div>
<div class="line"><code class="keyword">static</code><code class="plain"> CObject* __stdcall CreateObject(); </code><code class="comments">// #define PASCAL      __stdcall</code></div>
</div>
    </div>
<p   
>&#20854;&#23454;&#36890;&#36807;&#36825;&#27573;&#20195;&#30721;&#25105;&#20204;&#23601;&#21487;&#20197;&#30693;&#36947;IMPLEMENT_DYNCREATE&#23439;&#30340;&#20316;&#29992;&#23601;&#26159;&#22768;&#26126;classCMainWindow&#25104;&#21592;&#21464;&#37327;&#12289;GetRuntimeClass&#25104;&#21592;&#26041;&#27861;&#12289;CreateObject&#25104;&#21592;&#26041;&#27861;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">#define IMPLEMENT_DYNCREATE(class_name, base_class_name) \</code></div>
<div class="line"><code class="plain">    CObject* PASCAL class_name::CreateObject() \</code></div>
<div class="line"><code class="plain">        { </code><code class="keyword">return</code><code class="plain"> </code><code class="keyword">new</code><code class="plain"> class_name; } \</code></div>
<div class="line"><code class="plain">    IMPLEMENT_RUNTIMECLASS(class_name, base_class_name, </code><code class="value">0xFFFF</code><code class="plain">, \</code></div>
<div class="line"><code class="plain">        class_name::CreateObject) </code><code class="comments">// 其背后又是一个宏，继续跟进</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">#define IMPLEMENT_RUNTIMECLASS(class_name, base_class_name, wSchema, pfnNew) \</code></div>
<div class="line"><code class="plain">    AFX_COMDAT </code><code class="keyword">const</code><code class="plain"> AFX_DATADEF CRuntimeClass class_name::</code><code class="keyword">class</code><code class="plain">##class_name = { \</code></div>
<div class="line"><code class="plain">        #class_name, sizeof(</code><code class="keyword">class</code><code class="plain"> class_name), wSchema, pfnNew, \</code></div>
<div class="line"><code class="plain">            RUNTIME_CLASS(base_class_name), NULL }; \</code></div>
<div class="line"><code class="plain">    CRuntimeClass* class_name::GetRuntimeClass() </code><code class="keyword">const</code><code class="plain"> \</code></div>
<div class="line"><code class="plain">        { </code><code class="keyword">return</code><code class="plain"> RUNTIME_CLASS(class_name); } \</code></div>
</div>
    </div>
<p   
>&#22312;&#20195;&#30721;&#20013;&#25913;&#20889;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">CObject* PASCAL CMainWindow::CreateObject() {</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">return</code><code class="plain"> </code><code class="keyword">new</code><code class="plain"> CMainWindow;</code></div>
<div class="line"><code class="plain">}</code></div>
<div class="line"> </div>
<div class="line"><code class="keyword">const</code><code class="plain"> CRuntimeClass CMainWindow::classCMainWindow = {</code></div>
<div class="line"><code class="plain">    </code><code class="string">"CMainWindow"</code><code class="plain">, sizeof(</code><code class="keyword">class</code><code class="plain"> CMainWindow), </code><code class="value">0xFFFF</code><code class="plain">, CMainWindow::CreateObject,</code></div>
<div class="line"><code class="plain">    ((CRuntimeClass*)(&amp;CFrameWnd::classCFrameWnd)), NULL</code></div>
<div class="line"><code class="plain">};</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">CRuntimeClass* CMainWindow::GetRuntimeClass() </code><code class="keyword">const</code><code class="plain"> {</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">return</code><code class="plain"> ((CRuntimeClass*)(&amp;CMainWindow::classCMainWindow));</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_11-18-21.png" alt="images/download/attachments/1015822/image2021-6-24_11-18-21.png" width="600"  />
    </p>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLea1geeoi-i3n-i_mw">
        <h3 class="heading "><span>&#27969;&#31243;&#36319;&#36827;</span></h3>
<p   
>&#36716;&#25442;&#23436;&#23439;&#20043;&#21518;&#22312;&#35843;&#29992;CreateObject&#20989;&#25968;&#26102;&#19979;&#26029;&#28857;&#36319;&#36827;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_11-23-38.png" alt="images/download/attachments/1015822/image2021-6-24_11-23-38.png" width="600"  />
    </p>
<p   
>&#36825;&#20010;&#23601;&#24456;&#22909;&#29702;&#35299;&#20102;&#23601;&#26159;&#35843;&#29992;CreateObject&#20989;&#25968;&#20250;&#21028;&#26029;<strong class=" ">m_pfnCreateObject</strong>&#65288;&#36825;&#26159;&#19968;&#20010;&#20989;&#25968;&#25351;&#38024;&#23384;&#25918;&#24403;&#21069;&#30340;CreateObject&#20989;&#25968;&#30340;&#22320;&#22336;&#65289;&#65292;&#22914;&#26524;&#19981;&#20026;&#31354;&#21017;&#35843;&#29992;&#36825;&#20010;&#20989;&#25968;&#23558;&#20854;&#36820;&#22238;&#20540;&#32473;&#21040;pObject&#65292;&#26368;&#21518;&#20877;&#36820;&#22238;pObject&#20063;&#23601;&#26159;new CMainWindow&#12290;</p>
    </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeivvuWQjuS9nOS4mi4y">
        <h2 class="heading "><span>&#35838;&#21518;&#20316;&#19994;</span></h2>
<p   
>&#22312;CMainWindow&#31867;&#37324;&#38754;&#23450;&#20041;&#19968;&#20010;&#20989;&#25968;&#65306;<strong class=" ">CreateObjectByName(char* className);</strong>&#65292;&#36825;&#20010;&#20989;&#25968;&#23601;&#34920;&#31034;&#36890;&#36807;&#21442;&#25968;&#21435;&#21160;&#24577;&#21019;&#24314;&#23545;&#35937;&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_12-34-23.png" alt="images/download/attachments/1015822/image2021-6-24_12-34-23.png" width="600"  />
    </p>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLea2iOaBr-aYoOWwhA">
        <h1 class="heading "><span>&#28040;&#24687;&#26144;&#23556;</span></h1>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeS7gOS5iOaYr-a2iOaBr-aYoOWwhA">
        <h2 class="heading "><span>&#20160;&#20040;&#26159;&#28040;&#24687;&#26144;&#23556;</span></h2>
<p   
>&#28040;&#24687;&#26144;&#23556;&#26159;MFC&#20869;&#24314;&#30340;&#19968;&#20010;&#28040;&#24687;&#20998;&#27966;&#26426;&#21046;&#65292;&#21482;&#35201;&#21033;&#29992;<strong class=" ">&#25968;&#20010;&#23439;&#20197;&#21450;&#22266;&#23450;&#24418;&#24335;&#30340;&#20889;&#27861;</strong>&#65288;&#31867;&#20284;&#20110;&#22635;&#34920;&#26684;&#65289;&#23601;&#21487;&#20197;&#35753;&#25105;&#20204;&#30340;&#26694;&#26550;&#30693;&#36947;&#19968;&#26086;&#28040;&#24687;&#21457;&#29983;&#65292;&#35813;&#24448;&#21738;&#19968;&#20010;&#31867;&#21435;&#20256;&#36882;&#65292;&#27599;&#19968;&#20010;&#31867;&#21482;&#33021;&#25317;&#26377;&#19968;&#20010;<strong class=" ">&#28040;&#24687;&#26144;&#23556;&#34920;&#26684;</strong>&#65292;&#20063;&#21487;&#20197;&#27809;&#26377;&#12290;</p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKguivvumcgOimgeaOjOaPoeeahOefpeivhueCuQ">
        <h2 class="heading "><span>&#26412;&#33410;&#35838;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<p   
>1&#12289;&#26412;&#33410;&#24517;&#39035;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</p>
<ul class=" "><li class=" "><p   
>&#19977;&#20010;&#20851;&#38190;&#30340;&#23439;</p>
<ul class=" "><li class=" "><p   
>DECLARE_MESSAGE_MAP</p>
</li><li class=" "><p   
>BEGIN_MESSAGE_MAP</p>
</li><li class=" "><p   
>END_MESSAGE_MAP</p>
</li></ul></li><li class=" "><p   
>&#22914;&#20309;&#28155;&#21152;&#19968;&#20010;&#28040;&#24687;</p>
</li></ul><p   
>2&#12289;&#38656;&#35201;&#31616;&#21333;&#20102;&#35299;&#30340;&#20869;&#23481;</p>
<ul class=" "><li class=" "><p   
>AFX_MSGMAP_ENTRY&#32467;&#26500;&#21644;AFX_MSGMAP</p>
</li><li class=" "><p   
>MessageMapFunctions</p>
</li></ul>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeS9v-eUqOS4ieS4quWFs-mUrueahOWujw">
        <h2 class="heading "><span>&#20351;&#29992;&#19977;&#20010;&#20851;&#38190;&#30340;&#23439;</span></h2>
<p   
>&#20043;&#21069;&#30340;&#23398;&#20064;&#20013;&#25105;&#20204;&#23398;&#20102;&#20960;&#20010;<strong class=" ">&#24102;&#26377;DECLARE_&#21069;&#32512;&#30340;&#23439;</strong>&#65292;&#23601;&#26159;&#22768;&#26126;&#30340;&#24847;&#24605;&#65292;&#23558;&#23427;&#25918;&#22312;&#31867;&#20869;&#37096;&#21363;&#21487;&#65292;&#25152;&#20197;&#23439;<strong class=" ">DECLARE_MESSAGE_MAP</strong>&#30452;&#25509;&#20889;&#22312;&#31867;&#37324;&#22836;&#65288;&#22768;&#26126;&#37324;&#65289;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_14-12-56.png" alt="images/download/attachments/1015822/image2021-6-24_14-12-56.png" width="600"  />
    </p>
<p   
>&#21478;&#22806;&#20004;&#20010;&#23439;&#23601;&#26159;&#23454;&#29616;&#65292;<strong class=" ">BEGIN_MESSAGE_MAP&#26377;&#20004;&#20010;&#21442;&#25968;&#20998;&#21035;&#26159;&#24403;&#21069;&#31867;&#12289;&#24403;&#21069;&#31867;&#30340;&#22522;&#31867;&#65288;&#29238;&#31867;</strong>&#65289;&#65292;&#24212;&#35813;<strong class=" ">&#25104;&#23545;&#20986;&#29616;&#22312;&#31867;&#23454;&#29616;&#22806;</strong>&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_14-14-4.png" alt="images/download/attachments/1015822/image2021-6-24_14-14-4.png" width="600"  />
    </p>
<p   
>&#20551;&#35774;&#25105;&#20204;&#35201;&#28155;&#21152;&#19968;&#20010;&#40736;&#26631;&#24038;&#38190;&#25353;&#19979;&#30340;&#28040;&#24687;&#23601;&#38656;&#35201;&#22312;&#36825;&#37324;&#38754;&#21435;&#22635;&#20889;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_14-16-19.png" alt="images/download/attachments/1015822/image2021-6-24_14-16-19.png" width="600"  />
    </p>
<p   
>&#20294;&#26159;&#36825;&#26679;&#25105;&#20204;&#36824;&#38656;&#35201;&#19968;&#20010;&#28040;&#24687;&#22788;&#29702;&#30340;&#20989;&#25968;&#65292;&#36825;&#20010;&#20989;&#25968;&#35201;&#20889;&#22312;<strong class=" ">CMainWindow</strong>&#31867;&#22768;&#26126;&#20013;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_14-24-19.png" alt="images/download/attachments/1015822/image2021-6-24_14-24-19.png" width="600"  />
    </p>
<p   
><strong class=" ">AfxMessageBox&#20989;&#25968;&#23601;&#26159;&#19968;&#20010;&#24377;&#26694;&#65292;&#24377;&#26694;&#20869;&#23481;&#20026;Test</strong>&#65292;&#22312;&#36825;&#37324;&#25105;&#20204;&#20801;&#35768;&#31243;&#24207;&#24038;&#38190;&#25353;&#19979;&#23601;&#20250;&#20986;&#29616;&#24377;&#26694;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_14-25-8.png" alt="images/download/attachments/1015822/image2021-6-24_14-25-8.png" width="600"  />
    </p>
<p   
>&#25353;&#29031;&#36825;&#26679;&#30340;&#26684;&#24335;&#25105;&#20204;&#24819;&#28155;&#21152;&#20160;&#20040;&#28040;&#24687;&#22788;&#29702;&#37117;&#21487;&#20197;&#65292;&#20294;&#26159;&#22240;&#20026;&#26159;&#23439;&#65292;&#20351;&#29992;&#31616;&#21333;&#65292;&#20294;&#19981;&#21033;&#20110;&#25105;&#20204;&#21435;&#20102;&#35299;&#22522;&#26412;&#21407;&#29702;&#65292;<strong class=" ">&#20363;&#22914;&#36825;&#20010;&#24038;&#38190;&#25353;&#19979;&#30340;&#28040;&#24687;&#22788;&#29702;&#20989;&#25968;OnLButtonDown&#65292;&#36825;&#20010;&#20989;&#25968;&#21517;&#20026;&#20160;&#20040;&#35201;&#36825;&#26679;&#20889;&#65311;&#19981;&#36825;&#20040;&#20889;&#21487;&#19981;&#21487;&#20197;&#65311;</strong>&#25152;&#20197;&#25105;&#20204;&#36824;&#38656;&#35201;&#36890;&#36807;&#36716;&#25442;&#23439;&#21435;&#20102;&#35299;&#26412;&#36136;&#12290;</p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLei9rOaNouWuj-S6huino-acrOi0qC4y">
        <h2 class="heading "><span>&#36716;&#25442;&#23439;&#20102;&#35299;&#26412;&#36136;</span></h2>
<p   
>&#39318;&#20808;&#26159;<strong class=" ">DECLARE_MESSAGE_MAP&#23439;</strong>&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">#define DECLARE_MESSAGE_MAP() \</code></div>
<div class="line"><code class="keyword">private</code><code class="plain">: \</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">static</code><code class="plain"> </code><code class="keyword">const</code><code class="plain"> AFX_MSGMAP_ENTRY _messageEntries[]; \</code></div>
<div class="line"><code class="keyword">protected</code><code class="plain">: \</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">static</code><code class="plain"> AFX_DATA </code><code class="keyword">const</code><code class="plain"> AFX_MSGMAP messageMap; \</code></div>
<div class="line"><code class="plain">    virtual </code><code class="keyword">const</code><code class="plain"> AFX_MSGMAP* GetMessageMap() </code><code class="keyword">const</code><code class="plain">; \</code></div>
</div>
    </div>
<p   
>&#22312;&#20195;&#30721;&#20013;&#25913;&#20889;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">private</code><code class="plain">:</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">static</code><code class="plain"> </code><code class="keyword">const</code><code class="plain"> AFX_MSGMAP_ENTRY _messageEntries[];</code></div>
<div class="line"><code class="keyword">protected</code><code class="plain">:</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">static</code><code class="plain"> </code><code class="keyword">const</code><code class="plain"> AFX_MSGMAP messageMap;</code></div>
<div class="line"><code class="plain">    virtual </code><code class="keyword">const</code><code class="plain"> AFX_MSGMAP* GetMessageMap() </code><code class="keyword">const</code><code class="plain">;</code></div>
</div>
    </div>
<p   
>&#20854;&#27425;&#26159;<strong class=" ">BEGIN_MESSAGE_MAP&#12289;END_MESSAGE_MAP&#23439;&#65288;</strong>&#36825;&#20004;&#20010;&#23439;&#26159;&#25104;&#21452;&#32467;&#23545;&#30340;&#25152;&#20197;&#19968;&#36215;&#30475;&#65289;&#21644;ON_WM_LBUTTONDOWN&#23439;&#65288;<strong class=" ">&#22240;&#20026;&#36825;&#20010;&#23439;&#22312;&#23427;&#20204;&#20013;&#38388;&#35843;&#29992;</strong>&#65289;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">#define BEGIN_MESSAGE_MAP(theClass, baseClass) \</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">const</code><code class="plain"> AFX_MSGMAP* theClass::GetMessageMap() </code><code class="keyword">const</code><code class="plain"> \</code></div>
<div class="line"><code class="plain">        { </code><code class="keyword">return</code><code class="plain"> &amp;theClass::messageMap; } \</code></div>
<div class="line"><code class="plain">    AFX_COMDAT AFX_DATADEF </code><code class="keyword">const</code><code class="plain"> AFX_MSGMAP theClass::messageMap = \</code></div>
<div class="line"><code class="plain">    { &amp;baseClass::messageMap, &amp;theClass::_messageEntries[</code><code class="value">0</code><code class="plain">] }; \</code></div>
<div class="line"><code class="plain">    AFX_COMDAT </code><code class="keyword">const</code><code class="plain"> AFX_MSGMAP_ENTRY theClass::_messageEntries[] = \</code></div>
<div class="line"><code class="plain">    { \</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">#define ON_WM_LBUTTONDOWN() \</code></div>
<div class="line"><code class="plain">    { WM_LBUTTONDOWN, </code><code class="value">0</code><code class="plain">, </code><code class="value">0</code><code class="plain">, </code><code class="value">0</code><code class="plain">, AfxSig_vwp, \</code></div>
<div class="line"><code class="plain">        (AFX_PMSG)(AFX_PMSGW)(</code><code class="keyword">void</code><code class="plain"> (AFX_MSG_CALL CWnd::*)(UINT, CPoint))&amp;OnLButtonDown },</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">#define END_MESSAGE_MAP() \ </code><code class="comments">// BEGIN_MESSAGE_MAP 和 END_MESSAGE_MAP是要拼接在一块的</code></div>
<div class="line"><code class="plain">        {</code><code class="value">0</code><code class="plain">, </code><code class="value">0</code><code class="plain">, </code><code class="value">0</code><code class="plain">, </code><code class="value">0</code><code class="plain">, AfxSig_end, (AFX_PMSG)</code><code class="value">0</code><code class="plain"> } \</code></div>
<div class="line"><code class="plain">    }; \</code></div>
</div>
    </div>
<p  class="auto-cursor-target" 
>&#22312;&#20195;&#30721;&#20013;&#25913;&#20889;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">const</code><code class="plain"> AFX_MSGMAP* CMainWindow::GetMessageMap() </code><code class="keyword">const</code><code class="plain"> {</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">return</code><code class="plain"> &amp;CMainWindow::messageMap;</code></div>
<div class="line"><code class="plain">}</code></div>
<div class="line"> </div>
<div class="line"><code class="keyword">const</code><code class="plain"> AFX_MSGMAP CMainWindow::messageMap = {</code></div>
<div class="line"><code class="plain">    &amp;CFrameWnd::messageMap, &amp;CMainWindow::_messageEntries[</code><code class="value">0</code><code class="plain">]</code></div>
<div class="line"><code class="plain">};</code></div>
<div class="line"> </div>
<div class="line"><code class="keyword">const</code><code class="plain"> AFX_MSGMAP_ENTRY CMainWindow::_messageEntries[] = {</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        WM_LBUTTONDOWN, </code><code class="value">0</code><code class="plain">, </code><code class="value">0</code><code class="plain">, </code><code class="value">0</code><code class="plain">, AfxSig_vwp,</code></div>
<div class="line"><code class="plain">        (AFX_PMSG)(AFX_PMSGW)(</code><code class="keyword">void</code><code class="plain"> (AFX_MSG_CALL CWnd::*)(UINT, CPoint))&amp;OnLButtonDown</code></div>
<div class="line"><code class="plain">    },</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        </code><code class="value">0</code><code class="plain">, </code><code class="value">0</code><code class="plain">, </code><code class="value">0</code><code class="plain">, </code><code class="value">0</code><code class="plain">, AfxSig_end, (AFX_PMSG)</code><code class="value">0</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">};</code></div>
</div>
    </div>
<p   
>&#22914;&#19978;&#20195;&#30721;&#36716;&#25442;&#23436;&#25104;&#20043;&#21518;&#23601;&#21487;&#20197;&#24456;&#28165;&#26224;&#30340;&#30693;&#36947;&#20351;&#29992;&#23439;&#30340;&#26102;&#20505;<strong class=" ">&#40736;&#26631;&#24038;&#38190;&#25353;&#19979;</strong>&#24517;&#39035;&#20351;&#29992;<strong class=" ">OnLButtonDown&#36825;&#20010;&#20989;&#25968;&#21517;&#26159;&#22240;&#20026;&#36825;&#37324;&#26159;&#20889;&#27515;&#22312;&#20195;&#30721;&#20013;&#30340;&#65292;&#27809;&#21150;&#27861;&#25913;&#21464;</strong>&#65307;&#25105;&#20204;&#36824;&#21487;&#20197;&#24456;&#28165;&#26224;&#30340;&#30475;&#35265;<strong class=" ">_messageEntries</strong>&#36825;&#20010;&#25968;&#32452;&#23601;&#26159;&#23384;&#25918;&#30528;&#25105;&#20204;&#30340;&#28040;&#24687;&#65292;<strong class=" ">&#36825;&#23601;&#26159;&#19968;&#20010;&#28040;&#24687;&#26144;&#23556;&#30340;&#34920;&#26684;</strong>&#65292;&#32780;&#36825;&#20010;&#25968;&#32452;&#26159;&#19968;&#20010;&#32467;&#26500;&#20307;&#25968;&#32452;&#65292;&#25152;&#20197;&#25105;&#20204;&#26469;&#30475;&#19968;&#19979;<strong class=" ">AFX_MSGMAP_ENTRY</strong>&#36825;&#20010;&#32467;&#26500;&#20307;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">struct AFX_MSGMAP_ENTRY</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">    UINT nMessage;   </code><code class="comments">// windows message Windows 消息类型ID</code></div>
<div class="line"><code class="plain">    UINT nCode;      </code><code class="comments">// control code or WM_NOTIFY code 对于窗口消息该值为0，处理命令消息和控件通知的函数使用与此相同的消息映像。</code></div>
<div class="line"><code class="plain">    UINT nID;        </code><code class="comments">// control ID (or 0 for windows messages) 命令消息ID的起始范围</code></div>
<div class="line"><code class="plain">    UINT nLastID;    </code><code class="comments">// used for entries specifying a range of control id's 命令消息ID范围的终点</code></div>
<div class="line"><code class="plain">    UINT nSig;       </code><code class="comments">// signature type (action) or pointer to message # 消息的动作标识 enum AfxSig 里面的成员</code></div>
<div class="line"><code class="plain">    AFX_PMSG pfn;    </code><code class="comments">// routine to call (or special value) 响应消息时应执行的函数</code></div>
<div class="line"><code class="plain">};</code></div>
</div>
    </div>
<p   
>&#26681;&#25454;&#27880;&#37322;&#21487;&#20197;&#38750;&#24120;&#28165;&#26224;&#30340;&#30475;&#35265;&#27599;&#20010;&#21442;&#25968;&#30340;&#24847;&#20041;&#65292;&#20027;&#35201;&#35828;&#19979;&#21518;&#20004;&#20010;&#21442;&#25968;&#65292;<strong class=" ">AFX_PMSG pfn&#20026;&#21709;&#24212;&#28040;&#24687;&#26102;&#25191;&#34892;&#30340;&#20989;&#25968;&#65292;&#36825;&#37324;&#20063;&#23601;&#26159;OnLButtonDown&#20989;&#25968;&#30340;&#22320;&#22336;&#65292;UINT nSig&#20026;&#28040;&#24687;&#30340;&#21160;&#20316;&#26631;&#35782; enum AfxSig &#37324;&#38754;&#30340;&#25104;&#21592;&#65292;&#22312;&#24403;&#21069;&#20540;&#20026;AfxSig_vwp</strong>&#65292;&#36825;&#26159;&#19968;&#20010;&#23439;&#65292;&#25105;&#20204;&#21487;&#20197;&#36319;&#36827;&#26597;&#30475;&#19968;&#19979;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_14-56-2.png" alt="images/download/attachments/1015822/image2021-6-24_14-56-2.png" width="600"  />
    </p>
<p   
>&#23427;&#34920;&#31034;&#30528;<strong class=" ">AFX_PMSG pfn&#65288;&#21709;&#24212;&#28040;&#24687;&#26102;&#25191;&#34892;&#30340;&#20989;&#25968;&#65289;</strong>&#30340;<strong class=" ">&#36820;&#22238;&#20540;&#21644;&#21442;&#25968;&#30340;&#26684;&#24335;</strong>&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_14-56-54.png" alt="images/download/attachments/1015822/image2021-6-24_14-56-54.png" width="600"  />
    </p>
<p   
>&#25152;&#20197;&#22312;&#20869;&#37096;&#23601;&#21487;&#20197;&#36890;&#36807;<strong class=" ">UINT nSig&#26469;&#36827;&#34892;&#20989;&#25968;&#30340;&#35843;&#29992;</strong>&#12290;</p>
<p   
>&#22312;&#24403;&#21069;&#25105;&#20204;&#30340;<strong class=" ">UINT nMessage&#21442;&#25968;&#20026;WM_LBUTTONDOWN</strong>&#65292;&#36825;&#26159;&#19968;&#20010;&#26631;&#20934;&#28040;&#24687;&#65292;&#38500;&#20102;&#26631;&#20934;&#28040;&#24687;&#22312;MFC&#36824;&#26377;&#20854;&#20182;&#20004;&#31867;&#28040;&#24687;&#12290;</p>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLU1GQ-S4ieWkp-exu-a2iOaBrw">
        <h3 class="heading "><span>MFC&#19977;&#22823;&#31867;&#28040;&#24687;</span></h3>
<p   
><strong class=" ">1.&#26631;&#20934;&#28040;&#24687;</strong></p>
<p   
>&#20219;&#20309;&#20197;WM&#25171;&#22836;&#30340;&#28040;&#24687;&#37117;&#23646;&#20110;&#26631;&#20934;&#28040;&#24687;(&#38500;WM_COMMAND)&#20197;&#22806;</p>
<p   
><strong class=" ">2.WM_COMMAND &#21629;&#20196;&#28040;&#24687;</strong></p>
<p   
>&#36825;&#26159;&#26469;&#33258;&#33756;&#21333;&#12289;&#24037;&#20855;&#26465;&#25353;&#38062;&#12289;&#21152;&#36895;&#38190;&#31561;&#29992;&#25143;&#25509;&#21475;&#23545;&#35937;&#30340;WM_COMMAND&#36890;&#30693;&#28040;&#24687;&#65292;&#23646;&#20110;&#24212;&#29992;&#31243;&#24207;&#33258;&#24049;&#23450;&#20041;&#30340;&#28040;&#24687;&#12290;&#36890;&#36807;&#28040;&#24687;&#26144;&#23556;&#26426;&#21046;&#65292;MFC&#26694;&#26550;&#25226;&#21629;&#20196;&#25353;&#19968;&#23450;&#30340;&#36335;&#24452;&#20998;&#21457;&#32473;&#22810;&#31181;&#31867;&#22411;&#30340;&#23545;&#35937;&#65288;&#20855;&#22791;&#28040;&#24687;&#22788;&#29702;&#33021;&#21147;&#65289;&#22788;&#29702;&#65292;&#22914;&#25991;&#26723;&#12289;&#31383;&#21475;&#12289;&#24212;&#29992;&#31243;&#24207;&#12289;&#25991;&#26723;&#27169;&#26495;&#31561;&#23545;&#35937;&#12290;&#33021;&#22788;&#29702;&#28040;&#24687;&#26144;&#23556;&#30340;&#31867;&#24517;&#39035;<strong class=" ">&#20174;CCmdTarget&#31867;&#27966;&#29983;</strong>&#12290;</p>
<p   
><strong class=" ">3.&#25511;&#20214;&#36890;&#30693;</strong></p>
<p   
>&#36890;&#24120;&#65292;&#25511;&#20214;&#36890;&#30693;&#22312;&#26576;&#20123;&#37325;&#35201;&#20107;&#20214;&#21457;&#29983;&#26102;&#65292;&#30001;&#25511;&#20214;&#31383;&#21475;&#21457;&#36865;&#21040;&#29238;&#31383;&#21475;&#65292;&#22914;&#25171;&#24320;&#19968;&#20010;&#32452;&#21512;&#26694;&#12290;&#25511;&#20214;&#36890;&#30693;&#20026;&#29238;&#31383;&#21475;&#36827;&#19968;&#27493;&#25511;&#21046;&#23376;&#31383;&#21475;&#25552;&#20379;&#20102;&#26426;&#20250;&#12290;&#20363;&#22914;&#65292;&#25171;&#24320;&#19968;&#20010;&#32452;&#21512;&#26694;&#26102;&#65292;&#29238;&#31383;&#21475;&#21487;&#20197;&#29992;&#32452;&#21512;&#26694;&#21021;&#24314;&#26102;&#24471;&#19981;&#21040;&#30340;&#28040;&#24687;&#22635;&#20805;&#23427;&#12290;</p>
<p   
>BN_XXXX&#26159;CButton&#20135;&#29983;&#30340;&#28040;&#24687;&#65292;EN_XXXX&#26159;CEdit&#20135;&#29983;&#30340;&#28040;&#24687;&#65292;&#31561;&#31561;&#12290;</p>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLeWRveS7pOS8oOmAkg">
        <h1 class="heading "><span>&#21629;&#20196;&#20256;&#36882;</span></h1>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeS7gOS5iOaYr-WRveS7pOS8oOmAkg">
        <h2 class="heading "><span>&#20160;&#20040;&#26159;&#21629;&#20196;&#20256;&#36882;</span></h2>
<p   
>&#28040;&#24687;&#20250;&#25353;&#29031;&#35268;&#23450;&#30340;&#36335;&#32447;&#65292;&#28216;&#36208;&#20110;&#21508;&#20010;&#23545;&#35937;&#20043;&#38388;&#65292;&#30452;&#21040;&#25214;&#21040;&#23427;&#30340;&#28040;&#24687;&#22788;&#29702;&#20989;&#25968;&#65307;&#22914;&#26524;&#25214;&#19981;&#21040;&#65292;&#21017;&#26368;&#32456;&#25226;&#23427;&#20132;&#32473;:<strong class=" ">:DefWindowPro&#20989;&#25968;</strong>&#21435;&#22788;&#29702;&#12290;</p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS41">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<p   
>1&#12289;&#26412;&#33410;&#24517;&#39035;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</p>
<ul class=" "><li class=" "><p   
>&#36890;&#36807;&#21333;&#27493;&#35843;&#35797;&#65292;&#29087;&#24713;&#31383;&#21475;&#36807;&#31243;&#22788;&#29702;&#20989;&#25968;&#22312;MFC&#30340;&#23454;&#29616;&#21644;&#21629;&#20196;&#20256;&#36882;&#30340;&#26041;&#24335;</p>
</li></ul><p   
>2&#12289;&#38656;&#35201;&#31616;&#21333;&#20102;&#35299;&#30340;&#20869;&#23481;</p>
<ul class=" "><li class=" "><p   
>MessageMapFunctions</p>
</li></ul>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLemAmui_h0NyZWF0ZeWHveaVsOadpeeci-eql-WPo-WIm-W7uua1geeoiw">
        <h2 class="heading "><span>&#36890;&#36807;Create&#20989;&#25968;&#26469;&#30475;&#31383;&#21475;&#21019;&#24314;&#27969;&#31243;</span></h2>
<p   
>&#20043;&#21069;&#25105;&#20204;&#20102;&#35299;&#36807;<strong class=" ">Create&#20989;&#25968;</strong>&#65292;&#20854;&#31532;&#19968;&#20010;&#21442;&#25968;&#65288;&#31867;&#21517;&#65289;&#20026;NULL&#65292;&#21017;&#20197;MFC&#20869;&#24314;&#30340;&#31383;&#21475;&#31867;&#20135;&#29983;&#19968;&#20010;&#26631;&#20934;&#30340;&#22806;&#26694;&#31383;&#21475;&#65292;&#26082;&#28982;&#23427;&#26377;&#31383;&#21475;&#31867;&#37027;&#32943;&#23450;&#23601;&#26377;&#31383;&#21475;&#36807;&#31243;&#22788;&#29702;&#20989;&#25968;&#65292;&#25105;&#20204;&#38656;&#35201;&#20174;&#36825;&#20010;&#20989;&#25968;&#20837;&#25163;&#19979;&#26029;&#28857;&#21435;&#36319;&#36827;&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_17-11-41.png" alt="images/download/attachments/1015822/image2021-6-24_17-11-41.png" width="600"  />
    </p>
<p   
>&#39318;&#20808;&#20250;&#21028;&#26029;&#19968;&#20010;&#33756;&#21333;&#21517;&#31216;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_17-13-5.png" alt="images/download/attachments/1015822/image2021-6-24_17-13-5.png" width="600"  />
    </p>
<p   
>&#36825;&#37324;&#25105;&#20204;&#27809;&#26377;&#65292;&#25152;&#20197;&#32487;&#32493;&#21521;&#19979;&#25105;&#20204;&#20250;&#21457;&#29616;&#20854;&#35843;&#29992;&#20102;&#19968;&#20010;<strong class=" ">CreateEx</strong>&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_17-13-56.png" alt="images/download/attachments/1015822/image2021-6-24_17-13-56.png" width="600"  />
    </p>
<p   
>&#36319;&#36827;<strong class=" ">CreateEx</strong>&#20989;&#25968;&#65292;&#20854;&#19968;&#24320;&#22987;&#23545;&#19968;&#20123;&#20449;&#24687;&#36827;&#34892;&#20102;&#22635;&#20805;&#65292;&#36825;&#20010;&#20449;&#24687;&#20256;&#36882;&#32473;&#20102;<strong class=" ">PreCreateWindow</strong>&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_23-40-53.png" alt="images/download/attachments/1015822/image2021-6-24_23-40-53.png" width="600"  />
    </p>
<p   
>&#36825;&#36793;&#23601;&#28041;&#21450;&#21040;&#19968;&#20010;&#26032;&#30340;&#32467;&#26500;&#20307;<strong class=" ">CREATESTRUCT</strong>&#65292;&#25105;&#20204;&#36319;&#36827;&#30475;&#19968;&#19979;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_23-44-57.png" alt="images/download/attachments/1015822/image2021-6-24_23-44-57.png" width="600"  />
    </p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">struct tagCREATESTRUCTA {</code></div>
<div class="line"><code class="plain">    LPVOID      lpCreateParams; </code><code class="comments">// 创建参数</code></div>
<div class="line"><code class="plain">    HINSTANCE   hInstance; </code><code class="comments">// 窗口模块的句柄</code></div>
<div class="line"><code class="plain">    HMENU       hMenu; </code><code class="comments">// 窗口使用的菜单句柄</code></div>
<div class="line"><code class="plain">    HWND        hwndParent; </code><code class="comments">// 如果该窗口是一个子窗口，则为父窗口的句柄；如果该窗口是自有的，这个成员标识了所有者窗口；如果该窗口不是一个子窗口或自有窗口，这个成员是NULL。</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">int</code><code class="plain">         cy; </code><code class="comments">// 窗口的高度，单位是像素。</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">int</code><code class="plain">         cx; </code><code class="comments">// 窗口的宽度，单位是像素。</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">int</code><code class="plain">         y; </code><code class="comments">// y坐标，如果窗口是一个子窗口，坐标是相对于父窗口的，否则，坐标是相对于屏幕原点的。</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">int</code><code class="plain">         x; </code><code class="comments">// x坐标</code></div>
<div class="line"><code class="plain">    LONG        style; </code><code class="comments">// 窗口的样式</code></div>
<div class="line"><code class="plain">    LPCSTR      lpszName; </code><code class="comments">// 窗口的名称</code></div>
<div class="line"><code class="plain">    LPCSTR      lpszClass; </code><code class="comments">// 窗口的类名</code></div>
<div class="line"><code class="plain">    DWORD       dwExStyle; </code><code class="comments">// 扩展窗口样式</code></div>
<div class="line"><code class="plain">} CREATESTRUCTA, *LPCREATESTRUCTA;</code></div>
</div>
    </div>
<p   
>&#25105;&#20204;&#32487;&#32493;&#36319;&#36827;<strong class=" ">PreCreateWindow</strong>&#20989;&#25968;&#65292;&#25105;&#20204;&#21487;&#20197;&#30475;&#35265;&#22914;&#26524;&#31383;&#21475;&#21517;&#31216;&#20026;&#31354;&#21017;&#24110;&#25105;&#21435;&#27880;&#20876;&#19968;&#20010;&#40664;&#35748;&#30340;&#31383;&#21475;&#31867;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-24_23-42-31.png" alt="images/download/attachments/1015822/image2021-6-24_23-42-31.png" width="600"  />
    </p>
<p   
>&#20854;&#20351;&#29992;&#30340;&#26159;<strong class=" ">AfxDeferRegisterClass</strong>&#65292;&#36825;&#26159;&#19968;&#20010;&#23439;&#65292;&#20854;&#32972;&#21518;&#23601;&#26159;<strong class=" ">AfxEndDeferRegisterClass</strong>&#36825;&#20010;&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_0-35-47.png" alt="images/download/attachments/1015822/image2021-6-25_0-35-47.png" width="600"  />
    </p>
<p   
>&#36890;&#36807;&#38405;&#35835;&#20195;&#30721;&#25105;&#20204;&#21457;&#29616;&#36825;&#20010;&#20989;&#25968;&#19981;&#26159;&#25105;&#20204;&#24819;&#35201;&#30693;&#36947;&#20854;&#26159;&#22914;&#20309;&#22788;&#29702;&#28040;&#24687;&#30340;&#20989;&#25968;&#65292;&#32487;&#32493;&#36319;&#36827;&#65292;&#36319;&#21040;<strong class=" ">CreateEx</strong>&#20989;&#25968;&#37324;&#38754;&#20250;&#26377;&#19968;&#20010;<strong class=" ">AfxHookWindowCreate</strong>&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_0-37-44.png" alt="images/download/attachments/1015822/image2021-6-25_0-37-44.png" width="600"  />
    </p>
<p   
>&#36890;&#36807;&#36825;&#20010;&#21517;&#23383;&#25105;&#20204;&#23601;&#30693;&#36947;&#20160;&#20040;&#24847;&#24605;&#20102;&#65292;&#20854;&#23601;&#34920;&#31034;&#22312;&#31383;&#21475;&#21019;&#24314;&#20043;&#21069;&#25346;&#20102;&#19968;&#20010;&#38057;&#23376;&#65288;HOOK&#65289;&#65292;&#36319;&#36827;&#36825;&#20010;&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_0-38-49.png" alt="images/download/attachments/1015822/image2021-6-25_0-38-49.png" width="600"  />
    </p>
<p   
>&#22914;&#19978;&#22270;&#25152;&#31034;&#25105;&#20040;&#20037;&#21487;&#20197;&#30475;&#21040;&#20854;&#25346;&#38057;&#23376;&#30340;&#20989;&#25968;&#26159;<strong class=" ">SetWindowsHookEx</strong>&#65288;&#20854;&#31532;&#19968;&#20010;&#21442;&#25968;&#26159;<strong class=" ">WH_CBT</strong>&#65292;&#36825;&#26159;&#19968;&#20010;&#23439;&#65292;&#20854;&#23601;&#26159;&#19968;&#20010;&#38057;&#23376;&#65292;&#20854;&#34920;&#31034;&#21487;&#20197;&#30417;&#21548;&#31383;&#21475;&#28608;&#27963;&#12289;&#20135;&#29983;&#12289;&#37322;&#25918;&#65288;&#20851;&#38381;&#65289;&#12289;&#26368;&#23567;&#21270;&#12289;&#26368;&#22823;&#21270;&#25110;&#25913;&#21464;&#65307;&#37027;&#20040;&#22312;&#36825;&#20123;&#20107;&#20214;&#20043;&#21069;&#20351;&#29992;&#30340;&#20989;&#25968;&#23601;&#26159;<strong class=" ">_AfxCbtFilterHook</strong>&#65292;&#20063;&#23601;&#26159;&#31532;&#20108;&#20010;&#21442;&#25968;&#65289;&#65292;&#30456;&#24403;&#20110;<strong class=" ">&#23433;&#35013;&#20102;&#19968;&#20010;WH_CBT&#31867;&#22411;&#30340;&#38057;&#23376;&#20989;&#25968;_AfxCbtFilterHook</strong>&#65292;&#36890;&#36807;&#23427;&#23558;&#40664;&#35748;&#30340;&#31383;&#21475;&#36807;&#31243;&#22788;&#29702;&#20989;&#25968;&#26367;&#25442;&#25104;&#20102;<strong class=" ">afxWndProc</strong>&#65292;<strong class=" ">&#36825;&#19968;&#27573;&#36890;&#36807;&#35843;&#35797;&#26159;&#27809;&#21150;&#27861;&#30475;&#35265;&#30340;&#65292;</strong>&#25105;&#20204;&#38656;&#35201;&#21435;&#23547;&#25214;<strong class=" ">_AfxCbtFilterHook</strong>&#20989;&#25968;&#30340;&#23450;&#20041;&#65292;&#20195;&#30721;&#24456;&#38271;&#25105;&#20204;&#31616;&#21270;&#19968;&#19979;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">LRESULT CALLBACK</code></div>
<div class="line"><code class="plain">_AfxCbtFilterHook(</code><code class="keyword">int</code><code class="plain"> code, WPARAM wParam, LPARAM lParam)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">...</code></div>
<div class="line"><code class="plain">                </code><code class="comments">// subclass the window with standard AfxWndProc</code></div>
<div class="line"><code class="plain">                WNDPROC afxWndProc = AfxGetAfxWndProc();</code></div>
<div class="line"><code class="plain">                oldWndProc = (WNDPROC)SetWindowLong(hWnd, GWL_WNDPROC,</code></div>
<div class="line"><code class="plain">                    (DWORD)afxWndProc);</code></div>
<div class="line"><code class="plain">...</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
>&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;&#21629;&#21517;&#21457;&#29616;&#20854;&#23558;&#32769;&#30340;&#31383;&#21475;&#36807;&#31243;&#22788;&#29702;&#20989;&#25968;&#26367;&#25442;&#20026;&#20102;<strong class=" ">afxWndProc</strong>&#65292;&#20063;&#23601;&#26159;&#20989;&#25968;<strong class=" ">AfxGetAfxWndProc</strong>&#65292;&#25105;&#20204;&#32487;&#32493;&#36319;&#36827;&#36825;&#27573;&#20195;&#30721;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_0-57-42.png" alt="images/download/attachments/1015822/image2021-6-25_0-57-42.png" width="600"  />
    </p>
<p   
>&#21457;&#29616;&#20854;&#20250;&#21028;&#26029;&#26159;&#21542;&#23450;&#20041;&#20102;<strong class=" ">_AFXDLL&#23439;</strong>&#65292;&#32463;&#26597;&#38405;&#21457;&#29616;&#36825;&#26159;&#21028;&#26029;&#26159;&#21542;&#20351;&#29992;&#20102;&#21160;&#24577;&#38142;&#25509;&#24211;&#65292;&#32780;&#25105;&#20204;&#29616;&#22312;&#20351;&#29992;&#30340;&#26159;&#38745;&#24577;&#38142;&#25509;&#24211;&#65292;&#22312;&#36825;&#33258;&#28982;&#19981;&#23384;&#22312;&#25152;&#20197;&#36820;&#22238;&#30340;&#23601;&#26159;<strong class=" ">AfxWndProc</strong>&#36825;&#20010;&#20989;&#25968;&#30340;&#22320;&#22336;&#12290;</p>
<p   
>&#22914;&#26524;&#20320;&#24819;&#36890;&#36807;&#35843;&#35797;&#21435;&#30475;&#35265;&#36825;&#20010;&#36807;&#31243;&#30340;&#35805;&#65292;&#25105;&#20204;&#23601;&#38656;&#35201;&#20511;&#21161;&#28040;&#24687;&#22788;&#29702;&#20989;&#25968;&#65292;&#20363;&#22914;&#20043;&#21069;&#23398;&#20064;&#30340;<strong class=" ">OnLButtonDown</strong>&#20989;&#25968;&#65292;&#22312;&#36825;&#19979;&#26029;&#28857;&#36827;&#34892;&#36319;&#36827;&#21363;&#21487;&#65288;&#21035;&#24536;&#35760;&#35201;&#24038;&#38190;&#25353;&#19979;&#35302;&#21457;&#20107;&#20214;&#25165;&#33021;&#36319;&#36827;&#65289;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-7-12.png" alt="images/download/attachments/1015822/image2021-6-25_1-7-12.png" width="600"  />
    </p>
<p   
>&#36319;&#30528;&#36319;&#30528;&#20320;&#23601;&#21457;&#29616;&#36319;&#21040;&#20102;<strong class=" ">AfxWndProc</strong>&#36825;&#20010;&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-11-9.png" alt="images/download/attachments/1015822/image2021-6-25_1-11-9.png" width="600"  />
    </p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLea2iOaBr-WkhOeQhua1geeoiw">
        <h2 class="heading "><span>&#28040;&#24687;&#22788;&#29702;&#27969;&#31243;</span></h2>
<p   
>&#22312;<strong class=" ">OnLButtonDown</strong>&#20989;&#25968;&#36825;&#19979;&#26029;&#28857;&#36827;&#34892;&#26469;&#30475;&#19968;&#19979;&#28040;&#24687;&#22788;&#29702;&#30340;&#27969;&#31243;&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-7-12.png" alt="images/download/attachments/1015822/image2021-6-25_1-7-12.png" width="600"  />
    </p>
<p   
>&#36319;&#21040;&#20989;&#25968;<strong class=" ">AfxCallWndProc</strong>&#65292;&#22312;&#22914;&#19979;&#22270;&#25152;&#31034;&#30340;&#20301;&#32622;&#19979;&#26029;&#28857;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-24-15.png" alt="images/download/attachments/1015822/image2021-6-25_1-24-15.png" width="600"  />
    </p>
<p   
>&#19979;&#19968;&#20010;&#26465;&#20214;&#26029;&#28857;&#65292;&#24403;<strong class=" ">nMsg == 0x0201&#65288;#define WM_LBUTTONDOWN 0x0201&#65289;</strong>&#65292;&#20063;&#23601;&#26159;&#24403;&#28040;&#24687;&#31867;&#22411;&#26159;&#24038;&#38190;&#25353;&#19979;&#26102;&#26029;&#28857;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-29-1.png" alt="images/download/attachments/1015822/image2021-6-25_1-29-1.png" width="600"  />
    </p>
<p   
>&#19979;&#23436;&#26465;&#20214;&#26029;&#28857;&#20043;&#21518;&#25105;&#20204;&#21487;&#20197;&#37325;&#26032;&#36816;&#34892;&#31243;&#24207;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-29-53.png" alt="images/download/attachments/1015822/image2021-6-25_1-29-53.png" width="600"  />
    </p>
<p   
>&#36825;&#26102;&#20505;&#23601;&#20250;&#26377;&#25552;&#31034;&#65292;&#37027;&#23601;&#35828;&#26126;&#26029;&#28857;&#19979;&#25104;&#21151;&#20102;&#65292;&#32487;&#32493;&#36319;&#36827;&#20195;&#30721;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-31-26.png" alt="images/download/attachments/1015822/image2021-6-25_1-31-26.png" width="600"  />
    </p>
<p   
>&#25105;&#20204;&#21487;&#20197;&#30475;&#35265;&#28040;&#24687;&#26159;&#36890;&#36807;<strong class=" ">WindowProc</strong>&#20989;&#25968;&#30340;&#65292;&#36825;&#20010;&#20989;&#25968;&#26159;&#19968;&#20010;&#34394;&#20989;&#25968;&#65292;&#20063;&#23601;&#34920;&#31034;&#25105;&#20204;&#21487;&#20197;&#22312;&#31867;&#20013;&#25913;&#20889;&#36825;&#20010;&#20989;&#25968;&#65292;&#20294;&#26159;&#36825;&#37324;&#25105;&#20204;&#27809;&#26377;&#25913;&#20889;&#20854;&#35843;&#29992;&#30340;&#23601;&#26159;<strong class=" ">CWnd::WindowProc</strong>&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-33-26.png" alt="images/download/attachments/1015822/image2021-6-25_1-33-26.png" width="600"  />
    </p>
<p   
>&#32780;&#36825;&#37324;&#38754;&#30340;<strong class=" ">OnWndMsg</strong>&#21516;&#26679;&#20063;&#26159;&#19968;&#20010;&#34394;&#20989;&#25968;&#65292;&#25105;&#20204;&#26159;&#21487;&#20197;&#25913;&#20889;&#30340;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-34-12.png" alt="images/download/attachments/1015822/image2021-6-25_1-34-12.png" width="600"  />
    </p>
<p   
>&#22312;&#36825;&#37324;&#25105;&#20063;&#27809;&#25913;&#20889;&#65292;&#25152;&#20197;&#36827;&#20837;&#30340;&#23601;&#26159;<strong class=" ">CWnd::OnWndMsg</strong>&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-36-4.png" alt="images/download/attachments/1015822/image2021-6-25_1-36-4.png" width="600"  />
    </p>
<p   
>&#24320;&#22836;&#20960;&#20010;&#21028;&#26029;&#23601;&#26159;&#21028;&#35835;&#20320;&#30340;&#28040;&#24687;&#31867;&#22411;&#65292;&#24403;&#37117;&#27809;&#26377;&#30340;&#24773;&#20917;&#19979;&#21017;&#34920;&#31034;&#36825;&#26159;&#19968;&#20010;<strong class=" ">&#26631;&#20934;&#28040;&#24687;</strong>&#12290;</p>
<p   
>&#20854;&#20250;&#26377;&#19968;&#20010;<strong class=" ">pMessageMap</strong>&#32467;&#26500;&#20307;&#65292;&#36825;&#20010;&#32467;&#26500;&#20307;&#23384;&#20648;&#30340;&#23601;&#26159;&#19968;&#20010;&#28040;&#24687;&#26144;&#23556;&#34920;&#65292;&#25105;&#20204;&#36319;&#36827;&#20043;&#21518;&#20250;&#21457;&#29616;&#20854;&#20250;&#19981;&#20572;&#30340;&#22522;&#20110;<strong class=" ">pBaseMap</strong>&#25104;&#21592;&#21435;&#37325;&#26032;&#36171;&#20540;&#30452;&#21040;&#27809;&#26377;&#20026;&#27490;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-44-0.png" alt="images/download/attachments/1015822/image2021-6-25_1-44-0.png" width="600"  />
    </p>
<p   
>&#32487;&#32493;&#26681;&#25454;&#20250;&#21457;&#29616;&#20854;&#20250;&#36890;&#36807;<strong class=" ">AfxFindMessageEntry</strong>&#20989;&#25968;&#22312;&#28040;&#24687;&#26144;&#23556;&#34920;&#20013;&#21435;&#23547;&#25214;&#31532;&#19968;&#20010;&#21442;&#25968;&#30340;<strong class=" ">nMessage</strong>&#19982;&#31532;&#20108;&#20010;&#21442;&#25968;<strong class=" ">message</strong>&#26159;&#21542;&#19968;&#33268;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-46-11.png" alt="images/download/attachments/1015822/image2021-6-25_1-46-11.png" width="600"  />
    </p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-48-46.png" alt="images/download/attachments/1015822/image2021-6-25_1-48-46.png" width="600"  />
    </p>
<p   
>&#32487;&#32493;&#36319;&#36827;&#20195;&#30721;&#20320;&#20250;&#21457;&#29616;<strong class=" ">MessageMapFunctions</strong>&#32467;&#26500;&#20307;&#65292;&#36825;&#20010;&#34920;&#23601;&#26159;&#21578;&#35785;&#25105;&#20204;&#24403;&#21069;&#20989;&#25968;&#65288;&#24038;&#38190;&#25353;&#19979;&#65289;&#26159;&#20160;&#20040;&#36820;&#22238;&#20540;&#12289;&#20160;&#20040;&#21442;&#25968;&#65292;&#28982;&#21518;&#23558;pfn&#65288;&#24403;&#21069;&#20989;&#25968;&#22320;&#22336;&#65289;&#20445;&#23384;&#21040;&#20854;&#25104;&#21592;<strong class=" ">pfn</strong>&#37324;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-49-49.png" alt="images/download/attachments/1015822/image2021-6-25_1-49-49.png" width="600"  />
    </p>
<p   
>&#28982;&#21518;&#36890;&#36807;<strong class=" ">nSig&#65288;&#28040;&#24687;&#30340;&#21160;&#20316;&#26631;&#35782; enum AfxSig &#37324;&#38754;&#30340;&#25104;&#21592;&#65289;</strong>&#21435;&#36716;&#25442;&#21442;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-54-15.png" alt="images/download/attachments/1015822/image2021-6-25_1-54-15.png" width="600"  />
    </p>
<p   
>...</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_1-55-39.png" alt="images/download/attachments/1015822/image2021-6-25_1-55-39.png" width="600"  />
    </p>
<p   
>&#28982;&#21518;&#36890;&#36807;&#36825;&#26679;&#30340;&#26041;&#24335;&#23558;&#23545;&#24212;&#30340;&#21442;&#25968;&#20256;&#36882;&#32473;&#25105;&#20204;&#30340;&#28040;&#24687;&#22788;&#29702;&#20989;&#25968;&#65292;&#25191;&#34892;&#35813;&#20989;&#25968;&#12290;</p>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLU1GQ-a6kOeggeWIhuaekA">
        <h1 class="heading "><span>MFC&#28304;&#30721;&#20998;&#26512;</span></h1>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOaYr-efpeivhueCuQ">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#26159;&#30693;&#35782;&#28857;</span></h2>
<p   
>1&#12289;&#36890;&#36807;&#20174;MFC&#30340;<strong class=" ">AfxWinmain</strong>&#20837;&#21475;&#20989;&#25968;&#19979;&#26029;&#65292;&#20998;&#26512;&#20182;&#30340;&#22823;&#27010;&#26694;&#26550;&#21407;&#29702;</p>
<p   
>2&#12289;CWinApp &#21462;&#20195; WinMain</p>
<p   
>3&#12289;CFrameWnd &#21462;&#20195; WndProc</p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLU1GQ-eahFdpbk1haW7liIbmnpA">
        <h2 class="heading "><span>MFC&#30340;WinMain&#20998;&#26512;</span></h2>
<p   
>MFC&#30340;&#20837;&#21475;&#20989;&#25968;&#26159;<strong class=" ">AfxWinMain</strong>&#65292;&#20854;&#26377;&#22235;&#20010;&#21442;&#25968;&#37117;&#20445;&#23384;&#22312;&#20445;&#23384;&#22312;<strong class=" ">theApp</strong>&#30340;&#25104;&#21592;&#20869;&#65288;&#22914;&#19979;&#20195;&#30721;&#20026;&#21024;&#20943;&#29256;&#26412;&#65289;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">int</code><code class="plain"> AFXAPI AfxWinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance,</code></div>
<div class="line"><code class="plain">    LPTSTR lpCmdLine, </code><code class="keyword">int</code><code class="plain"> nCmdShow)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">    CWinThread* pThread = AfxGetThread(); </code><code class="comments">// 获取当前线程</code></div>
<div class="line"><code class="plain">    CWinApp* pApp = AfxGetApp(); </code><code class="comments">// 获取当前实例化的对象</code></div>
<div class="line"><code class="plain">    </code><code class="comments">// 实际上其获取到的都是我们的theApp，因为一个进程肯定包含一个线程，所以这里我们可以认为pApp等价于pThread</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    AfxWinInit() </code></div>
<div class="line"><code class="plain">    </code><code class="comments">// 并在内部调用 AfxInitThread 把消息队列加大</code></div>
<div class="line"><code class="plain">    pApp-&gt;InitApplication() </code><code class="comments">// 原来的初始化，已经过时，不推荐使用</code></div>
<div class="line"><code class="plain">    pThread-&gt;InitInstance() </code><code class="comments">// 代替InitApplication，在里面创建窗口</code></div>
<div class="line"><code class="plain">    pThread-&gt;Run() </code><code class="comments">// 代替Win32的消息循环</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
>&#25105;&#20204;F12&#36319;&#36827;AfxWinMain&#20989;&#25968;&#28982;&#21518;&#19979;&#20010;&#26029;&#28857;&#26469;&#36319;&#19968;&#19979;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-25_22-50-27.png" alt="images/download/attachments/1015822/image2021-6-25_22-50-27.png" width="600"  />
    </p>
<p   
>&#28982;&#21518;&#25105;&#20204;&#37325;&#26032;&#36816;&#34892;&#20195;&#30721;&#36319;&#21040;&#26029;&#28857;&#30340;&#22320;&#26041;&#32487;&#32493;&#36319;&#36827;&#20250;&#21457;&#29616;<strong class=" ">pThread&#12289;pApp</strong>&#30830;&#23454;&#22914;&#25105;&#20204;&#25152;&#35828;&#26159;&#31561;&#20215;&#30340;&#65292;&#37117;&#26159;&#33719;&#21462;&#30340;&#25105;&#20204;&#23454;&#20363;&#21270;&#30340;&#23545;&#35937;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_18-40-44.png" alt="images/download/attachments/1015822/image2021-6-26_18-40-44.png" width="600"  />
    </p>
<p   
>&#28982;&#21518;&#25105;&#20204;&#36827;&#20837;<strong class=" ">AfxWinInit</strong>&#20989;&#25968;&#65292;&#36319;&#36827;&#21457;&#29616;&#22312;&#35813;&#20989;&#25968;&#20869;&#37096;&#20250;&#22312;&#33719;&#21462;&#19968;&#27425;&#25105;&#20204;&#23454;&#20363;&#21270;&#30340;&#23545;&#35937;&#65292;&#28982;&#21518;&#21028;&#26029;&#26159;&#21542;&#23384;&#22312;&#65292;&#23384;&#22312;&#21017;&#25226;&#20837;&#21475;&#28857;&#30340;&#22235;&#20010;&#21442;&#25968;&#20445;&#23384;&#22312;&#25105;&#20204;&#23454;&#20363;&#21270;&#23545;&#35937;&#30340;&#25104;&#21592;&#37324;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_18-42-40.png" alt="images/download/attachments/1015822/image2021-6-26_18-42-40.png" width="600"  />
    </p>
<p   
>&#25152;&#20197;&#25105;&#20204;&#22312;&#37325;&#20889;<strong class=" ">InitInstance&#20989;&#25968;&#30452;&#25509;&#20351;&#29992;m_nCmdShow&#21464;&#37327;</strong>&#23454;&#38469;&#19978;&#20351;&#29992;&#30340;&#23601;&#26159;&#33258;&#24049;&#30340;&#25104;&#21592;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_18-44-51.png" alt="images/download/attachments/1015822/image2021-6-26_18-44-51.png" width="600"  />
    </p>
<p   
>&#32780;&#21518;&#32487;&#32493;&#36319;&#36827;&#20195;&#30721;&#26159;<strong class=" ">AfxInitThread</strong>&#20989;&#25968;&#65292;&#35813;&#20989;&#25968;&#23601;&#26159;&#22686;&#21152;&#28040;&#24687;&#38431;&#21015;&#65292;&#21021;&#22987;&#21270;&#32447;&#31243;&#29305;&#21035;&#25968;&#25454;&#65288;<strong class=" ">&#20026;&#20027;&#32447;&#31243;&#20316;&#20102;&#19968;&#20123;&#21021;&#22987;&#21270;&#24037;&#20316;</strong>&#65289;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_18-47-48.png" alt="images/download/attachments/1015822/image2021-6-26_18-47-48.png" width="600"  />
    </p>
<p   
>&#20877;&#22238;&#21040;<strong class=" ">AfxWinMain</strong>&#20989;&#25968;&#65292;&#25509;&#19979;&#26469;&#23601;&#26159;&#19968;&#20010;<strong class=" ">InitApplication</strong>&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_18-50-2.png" alt="images/download/attachments/1015822/image2021-6-26_18-50-2.png" width="600"  />
    </p>
<p   
>&#25105;&#20204;&#20043;&#21069;&#25552;&#21040;&#36825;&#26159;MFC&#21407;&#26469;&#20351;&#29992;&#30340;&#21021;&#22987;&#21270;&#20989;&#25968;&#65292;&#22312;&#29616;&#22312;&#24050;&#32463;&#36807;&#26102;&#20102;&#65292;&#25152;&#20197;&#19981;&#25512;&#33616;&#20351;&#29992;&#65292;&#25105;&#20204;&#21487;&#20197;&#24573;&#30053;&#65292;&#32487;&#32493;&#36319;&#36827;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_18-51-31.png" alt="images/download/attachments/1015822/image2021-6-26_18-51-31.png" width="600"  />
    </p>
<p   
><strong class=" ">InitInstance&#20989;&#25968;</strong>&#23601;&#26159;&#25105;&#20204;&#30340;&#26680;&#24515;&#65292;&#22312;&#35813;&#20989;&#25968;&#20869;&#21019;&#24314;&#31383;&#21475;&#65292;&#23427;&#26159;&#19968;&#20010;&#34394;&#20989;&#25968;&#65292;&#22240;&#20026;&#25105;&#20204;&#22312;<strong class=" ">CMyWinApp&#31867;</strong>&#32487;&#25215;&#24182;&#37325;&#20889;&#20102;&#35813;&#20989;&#25968;&#65292;&#29616;&#22312;&#25105;&#20204;&#36827;&#20837;&#30340;&#23601;&#26159;&#25105;&#20204;&#37325;&#20889;&#30340;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_18-53-40.png" alt="images/download/attachments/1015822/image2021-6-26_18-53-40.png" width="600"  />
    </p>
<p   
>&#36825;&#27573;&#20195;&#30721;&#20889;&#20102;&#24456;&#22810;&#36941;&#20102;&#65292;&#39318;&#20808;&#25105;&#20204;&#21019;&#24314;&#20102;&#19968;&#20010;&#23545;&#35937;&#65292;&#24182;&#22312;<strong class=" ">CMainWindow</strong>&#31867;&#30340;&#26500;&#36896;&#20989;&#25968;&#20013;&#20351;&#29992;<strong class=" ">Create</strong>&#20989;&#25968;&#21019;&#24314;&#20102;&#31383;&#21475;&#65292;&#32780;&#21518;&#23601;&#26159;&#19968;&#20123;&#27969;&#31243;&#21270;&#30340;&#19996;&#35199;&#65292;<strong class=" ">&#26368;&#21518;&#19968;&#20010;&#36820;&#22238;&#20026;TRUE</strong>&#65292;&#36825;&#20010;&#30456;&#20449;&#24456;&#22810;&#20154;&#20250;&#30097;&#24785;&#65292;&#20854;&#23454;&#22312;&#20195;&#30721;&#20013;&#20889;&#30340;&#23601;&#24456;&#26126;&#30830;&#20102;&#65292;<strong class=" ">&#22914;&#26524;&#20320;&#19981;&#20026;TRUE&#65292;&#21017;&#20250;&#24322;&#24120;&#25171;&#21360;&#12289;&#38144;&#27585;&#31383;&#21475;&#65288;&#22914;&#26524;&#27809;&#26377;&#21019;&#24314;&#31383;&#21475;&#21017;&#36864;&#20986;&#23454;&#20363;&#65289;</strong>&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_18-51-31.png" alt="images/download/attachments/1015822/image2021-6-26_18-51-31.png" width="600"  />
    </p>
<p   
>&#25509;&#19979;&#26469;&#32487;&#32493;&#36319;&#36827;&#23601;&#26159;<strong class=" ">Run</strong>&#20989;&#25968;&#65292;&#35813;&#20989;&#25968;&#23454;&#29616;&#30340;&#23601;&#26159;&#25105;&#20204;Win32&#37324;&#38754;&#30340;&#28040;&#24687;&#24490;&#29615;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_19-1-10.png" alt="images/download/attachments/1015822/image2021-6-26_19-1-10.png" width="600"  />
    </p>
<p   
>&#36825;&#37324;&#21448;&#35843;&#29992;&#20102;<strong class=" ">CWinThread::Run()</strong>&#65292;&#25105;&#20204;&#32487;&#32493;&#36319;&#36827;&#65292;&#22312;&#24456;&#22810;&#20070;&#20013;&#23558;&#35813;&#20989;&#25968;&#31216;&#20026;MFC&#30340;&#25511;&#21046;&#20013;&#24515;&#65292;&#22240;&#20026;&#22312;MFC&#20013;&#25152;&#26377;&#28040;&#24687;&#38431;&#21015;&#12289;&#28040;&#24687;&#20998;&#27966;&#37117;&#22312;<strong class=" ">CWinThread::Run()</strong>&#20013;&#21435;&#23436;&#25104;&#65292;&#23427;&#19982;<strong class=" ">AfxWinMain</strong>&#19968;&#26679;&#26159;&#23545;&#26222;&#36890;&#31243;&#24207;&#21592;&#26469;&#35828;&#26159;&#19981;&#21487;&#35265;&#30340;&#12290;</p>
<p   
>&#20854;&#22788;&#29702;&#27969;&#31243;&#23601;&#26159;&#20808;&#26681;&#25454;&#20004;&#20010;&#26631;&#24535;&#65288;&#31354;&#38386;&#26631;&#24535;&#65289;&#21435;&#21028;&#26029;&#24403;&#21069;&#32447;&#31243;&#26159;&#21542;&#26159;&#31354;&#38386;&#29366;&#24577;&#65292;&#39318;&#20808;&#22312;&#36825;&#37324;&#25105;&#20204;&#21457;&#29616;&#22312;&#36825;&#37324;&#35843;&#29992;&#24182;&#19981;&#26159;<strong class=" ">GetMessage</strong>&#20989;&#25968;&#32780;&#26159;<strong class=" ">PeekMessage</strong>&#20989;&#25968;&#65292;&#35813;&#20004;&#32773;&#21306;&#21035;&#22914;&#19979;&#65306;</p>
<p   
><strong class=" ">&#30456;&#21516;&#28857;&#65306;PeekMessage&#20989;&#25968;&#19982;GetMessage&#20989;&#25968;&#37117;&#29992;&#20110;&#26597;&#30475;&#24212;&#29992;&#31243;&#24207;&#28040;&#24687;&#38431;&#21015;</strong>&#65292;&#26377;&#28040;&#24687;&#26102;&#23558;&#38431;&#21015;&#20013;&#30340;&#28040;&#24687;&#27966;&#21457;&#20986;&#21435;&#12290;</p>
<p   
><strong class=" ">&#19981;&#21516;&#28857;&#65306;</strong>&#26080;&#35770;&#24212;&#29992;&#31243;&#24207;&#28040;&#24687;&#38431;&#21015;&#26159;&#21542;&#26377;&#28040;&#24687;&#65292;<strong class=" ">PeekMessage</strong>&#20989;&#25968;&#37117;&#31435;&#21363;&#36820;&#22238;&#65292;&#31243;&#24207;&#24471;&#20197;&#32487;&#32493;&#25191;&#34892;&#21518;&#38754;&#30340;&#35821;&#21477;&#65288;&#26080;&#28040;&#24687;&#21017;&#25191;&#34892;&#20854;&#23427;&#25351;&#20196;&#65292;&#26377;&#28040;&#24687;&#26102;&#19968;&#33324;&#35201;&#23558;&#28040;&#24687;&#27966;&#21457;&#20986;&#21435;&#65292;&#20877;&#25191;&#34892;&#20854;&#23427;&#25351;&#20196;&#65289;&#65307;<strong class=" ">GetMessage</strong>&#20989;&#25968;&#21482;&#26377;&#22312;&#28040;&#24687;&#23545;&#31435;&#20013;&#26377;&#28040;&#24687;&#26102;&#36820;&#22238;&#65292;&#38431;&#21015;&#20013;&#26080;&#28040;&#24687;&#23601;&#20250;&#19968;&#30452;&#31561;&#65292;&#30452;&#33267;&#19979;&#19968;&#20010;&#28040;&#24687;&#20986;&#29616;&#26102;&#25165;&#36820;&#22238;&#12290;&#22312;&#31561;&#30340;&#36825;&#27573;&#26102;&#38388;&#65292;&#24212;&#29992;&#31243;&#24207;&#19981;&#33021;&#25191;&#34892;&#20219;&#20309;&#25351;&#20196;&#12290;</p>
<p   
>&#32780;&#21518;&#22914;&#26524;&#26159;&#31354;&#38386;&#29366;&#24577;&#21017;&#35843;&#29992;<strong class=" ">OnIdle</strong>&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_19-2-26.png" alt="images/download/attachments/1015822/image2021-6-26_19-2-26.png" width="600"  />
    </p>
<p   
><strong class=" ">OnIdle</strong>&#20989;&#25968;&#26159;&#19968;&#20010;&#34394;&#20989;&#25968;&#65292;&#26159;<strong class=" ">CWinApp</strong>&#30340;&#25104;&#21592;&#26041;&#27861;&#65292;&#25152;&#20197;&#25105;&#20204;&#21487;&#20197;&#37325;&#20889;&#35813;&#20989;&#25968;&#20197;&#20415;&#35753;&#25105;&#20204;&#30340;&#31243;&#24207;&#22312;&#31354;&#38386;&#29366;&#24577;&#19979;&#20570;&#19968;&#20123;&#25805;&#20316;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_19-8-4.png" alt="images/download/attachments/1015822/image2021-6-26_19-8-4.png" width="600"  />
    </p>
<p   
>&#32487;&#32493;&#36319;&#36827;&#21457;&#29616;&#26159;&#19968;&#20010;<strong class=" ">PumpMessage</strong>&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_19-32-48.png" alt="images/download/attachments/1015822/image2021-6-26_19-32-48.png" width="600"  />
    </p>
<p   
>&#22312;&#36825;&#20010;&#20989;&#25968;&#20869;&#23601;&#20250;&#21435;&#20351;&#29992;<strong class=" ">GetMessage</strong>&#20989;&#25968;&#21435;&#21028;&#26029;&#26377;&#27809;&#26377;&#28040;&#24687;&#65292;&#30001;&#20110;&#25105;&#20204;&#20043;&#21069;&#26159;&#24050;&#32463;&#21028;&#26029;&#36807;&#20102;&#25165;&#36827;&#30340;&#36825;&#20010;&#20989;&#25968;&#65292;&#25152;&#20197;&#36825;&#37324;&#20250;&#31435;&#21363;&#36820;&#22238;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_19-33-25.png" alt="images/download/attachments/1015822/image2021-6-26_19-33-25.png" width="600"  />
    </p>
<p   
>&#32487;&#32493;&#36319;&#36827;&#23601;&#20250;&#21457;&#29616;&#25105;&#20204;&#29087;&#24713;&#30340;&#28040;&#24687;&#36716;&#25442;&#12289;&#20998;&#21457;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_19-35-23.png" alt="images/download/attachments/1015822/image2021-6-26_19-35-23.png" width="600"  />
    </p>
<p   
>&#20877;&#22238;&#21040;<strong class=" ">Run</strong>&#20989;&#25968;&#25509;&#19979;&#37324;&#35843;&#29992;&#30340;&#23601;&#26159;<strong class=" ">IsIdleMessage</strong>&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_19-36-36.png" alt="images/download/attachments/1015822/image2021-6-26_19-36-36.png" width="600"  />
    </p>
<p   
>&#33267;&#27492;&#65292;&#25105;&#20204;&#23601;&#20998;&#26512;&#23436;Run&#20989;&#25968;&#20102;&#65292;&#20854;&#19982;Win32&#30340;&#28040;&#24687;&#24490;&#29615;&#26412;&#36136;&#27809;&#26377;&#21306;&#21035;&#65292;&#21807;&#19968;&#30340;&#21306;&#21035;&#23601;&#26159;&#20854;&#22810;&#20102;&#19968;&#20010;&#31354;&#38386;&#29366;&#24577;&#12290;</p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeWIm-W7uuWcqOWghuS4iueahENNYWluV2luZG93">
        <h2 class="heading "><span>&#21019;&#24314;&#22312;&#22534;&#19978;&#30340;CMainWindow</span></h2>
<p   
>&#20998;&#26512;&#23436;Run&#20989;&#25968;&#65292;&#20854;&#23454;&#25105;&#20204;&#36824;&#26377;&#19968;&#20010;&#38382;&#39064;&#27809;&#26377;&#35299;&#20915;&#65292;&#37027;&#23601;&#26159;&#25105;&#20204;&#23454;&#20363;&#21270;CMainWodw&#65292;&#20351;&#29992;&#30340;&#20851;&#38190;&#35789;&#26159;new&#65292;&#35813;&#20851;&#38190;&#35789;&#26159;&#22312;&#22534;&#19978;&#21019;&#24314;&#30340;&#65292;&#32780;&#25105;&#20204;&#19981;&#20351;&#29992;&#38656;&#35201;&#21435;&#37322;&#25918;&#65292;&#21542;&#21017;&#21017;&#20250;&#36896;&#25104;&#23433;&#20840;&#38544;&#24739;&#65288;&#20869;&#23384;&#27844;&#28431;&#65289;&#65292;&#25105;&#20204;&#22312;&#20195;&#30721;&#20013;&#27809;&#26377;&#21435;&#20889;&#36825;&#31867;&#25805;&#20316;&#65292;&#23454;&#38469;&#19978;&#36825;&#20123;&#37117;&#22312;MFC&#20869;&#37096;&#21435;&#23436;&#25104;&#30340;&#12290;</p>
<p   
>&#24403;&#31383;&#21475;&#20851;&#38381;&#30340;&#26102;&#20505;&#31243;&#24207;&#37117;&#20250;&#35843;&#29992;&#19968;&#20010;&#34394;&#20989;&#25968;CMainWodw:PostNcDestroy&#65292;&#36825;&#20010;&#20989;&#25968;&#26159;CFrameWnd&#30340;&#65292;&#20854;&#40664;&#35748;&#23601;&#26159;&#19968;&#20010;<strong class=" ">delete this</strong>&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_19-52-8.png" alt="images/download/attachments/1015822/image2021-6-26_19-52-8.png" width="600"  />
    </p>
<p   
>&#25105;&#20204;&#21487;&#20197;&#22312;&#33258;&#24049;&#30340;&#31867;&#20013;&#21435;&#37325;&#20889;&#19968;&#19979;&#65292;&#22312;delete&#20043;&#21069;&#20570;&#19968;&#20123;&#21035;&#30340;&#25805;&#20316;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_19-53-0.png" alt="images/download/attachments/1015822/image2021-6-26_19-53-0.png" width="600"  />
    </p>
<p   
><strong class=" ">&#20294;&#38656;&#35201;&#27880;&#24847;&#30340;&#26159;</strong>&#22914;&#26524;&#20320;&#32487;&#25215;&#30340;&#19981;&#26159;CFrameWnd&#32780;&#26159;CWnd&#65292;&#20854;&#26159;&#27809;&#26377;<strong class=" ">delete this</strong>&#36825;&#26679;&#19968;&#20010;&#25805;&#20316;&#30340;&#65292;&#20320;&#23601;&#38656;&#35201;&#33258;&#24049;&#20889;&#12290;</p>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLUdESeWfuuehgOamguW_teWSjE1GQ-eahENEQ-exuw">
        <h1 class="heading "><span>GDI&#22522;&#30784;&#27010;&#24565;&#21644;MFC&#30340;CDC&#31867;</span></h1>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS42">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<ol class=" "><li class=" "><p   
>&#23545;GDI&#21644;DC&#26377;&#19968;&#23450;&#30340;&#29702;&#35299;</p>
</li><li class=" "><p   
>MFC&#25152;&#23553;&#35013;&#30340;&#19977;&#20010;&#20027;&#35201;&#35774;&#22791;&#25551;&#36848;&#34920;</p>
<ol class=" "><li class=" "><p   
>CPaintDC</p>
</li><li class=" "><p   
>CClientDC</p>
</li><li class=" "><p   
>CWindowDC</p>
</li></ol></li></ol>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeWfuuehgOamguW_tQ">
        <h2 class="heading "><span>&#22522;&#30784;&#27010;&#24565;</span></h2>
<p   
><strong class=" ">GDI&#22270;&#24418;&#35774;&#22791;&#25509;&#21475;</strong>&#65306;Window&#20013;&#36127;&#36131;&#22270;&#24418;&#36755;&#20986;&#30340;&#26159;Graphics Device Interface(&#22270;&#24418;&#35774;&#22791;&#25509;&#21475;)&#65292;&#23427;&#20026;&#24212;&#29992;&#31243;&#24207;&#25552;&#20379;&#20102;&#21487;&#35843;&#29992;&#30340;&#22810;&#31181;&#26381;&#21153;&#65292;&#36825;&#20123;&#26381;&#21153;&#19968;&#36215;&#26500;&#25104;&#20102;&#24378;&#22823;&#21644;&#36890;&#29992;&#30340;&#22270;&#24418;&#32534;&#31243;&#35821;&#35328;&#12290;</p>
<p   
><strong class=" ">DC&#35774;&#22791;&#25551;&#36848;&#34920;&#65288;&#35774;&#22791;&#19978;&#19979;&#25991;&#65289;</strong>&#65306;&#24403;Window&#31243;&#24207;&#22312;&#23631;&#24149;&#12289;&#25171;&#21360;&#26426;&#25110;&#32773;&#20854;&#23427;&#36755;&#20986;&#35774;&#22791;&#19978;&#30011;&#22270;&#26102;&#65292;&#23427;&#24182;&#19981;&#23558;&#20687;&#32032;&#30452;&#25509;&#36755;&#20986;&#21040;&#35774;&#22791;&#19978;&#65292;&#32780;&#26159;&#23558;&#22270;&#32472;&#21046;&#21040;&#35774;&#22791;&#25551;&#36848;&#34920;DC&#24403;&#20013;&#65292;&#34920;&#31034;&#36923;&#36753;&#24847;&#20041;&#19978;&#30340;&#26174;&#31034;&#24179;&#38754;&#65292;&#23427;&#26159;Window&#20013;&#30340;&#19968;&#31181;&#25968;&#25454;&#32467;&#26500;&#65292;&#21253;&#21547;&#20102;GDI&#38656;&#35201;&#30340;&#25152;&#26377;&#20851;&#20110;&#26174;&#31034;&#24179;&#38754;&#24773;&#20917;&#30340;&#25551;&#36848;&#12290;</p>
<p   
>&#26089;&#26399;&#65292;&#35201;&#24320;&#21457;&#19968;&#20010;&#22270;&#24418;&#36719;&#20214;&#65292;&#25105;&#38656;&#35201;&#30693;&#36947;&#36755;&#20986;&#35774;&#22791;&#30340;&#26174;&#21345;&#65292;&#28982;&#21518;&#26681;&#25454;&#21378;&#23478;&#25552;&#20379;&#30340;&#19981;&#21516;&#22320;&#25509;&#21475;&#21435;&#32534;&#20889;&#65292;&#25152;&#20197;&#25105;&#20204;&#24320;&#21457;&#36719;&#20214;&#23601;&#20250;&#38750;&#24120;&#22256;&#38590;&#65307;&#22312;Windows&#37324;&#38754;&#36890;&#36807;&#23545;&#39537;&#21160;&#31243;&#24207;&#30340;&#32479;&#19968;&#31649;&#29702;&#65292;&#23558;&#35774;&#22791;&#25509;&#21475;&#32454;&#33410;&#38544;&#34255;&#22312;&#31995;&#32479;&#20869;&#37096;&#65292;&#25105;&#20204;&#19981;&#38656;&#35201;&#21435;&#31649;&#37027;&#20040;&#22810;&#19996;&#35199;&#65292;&#25105;&#20204;&#22312;&#32534;&#20889;&#22270;&#24418;&#36719;&#20214;&#30340;&#26102;&#20505;&#29992;&#19968;&#20010;&#20844;&#29992;&#30340;&#34394;&#25311;&#35774;&#22791;&#21363;&#21487;&#65292;&#36825;&#20010;&#34394;&#25311;&#35774;&#22791;&#23601;&#26159;DC&#12290;</p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLUNEQ-exuw">
        <h2 class="heading "><span>CDC&#31867;</span></h2>
<p   
>MFC&#30340;CDC&#31867;&#23558;DC&#21644;HDC&#65288;DC&#30340;&#21477;&#26564;&#65289;&#30340;GDI&#20989;&#25968;&#23601;&#36817;&#23553;&#35013;&#21040;&#20102;&#19968;&#36215;&#65292;&#27966;&#29983;&#20102;&#22235;&#20010;&#19981;&#21516;&#22330;&#26223;&#19979;&#30340;DC&#31867;&#65292;&#20197;&#19979;&#26159;&#24120;&#29992;&#30340;&#19977;&#20010;&#65306;</p>
<ul class=" "><li class=" "><p   
>CPaintDC&#65306;&#29992;&#20110;&#22312;&#31383;&#21475;&#23458;&#25143;&#21306;&#30011;&#22270;&#65292;&#20165;&#38480;&#20110;OnPaint&#20989;&#25968;&#20869;</p>
</li><li class=" "><p   
>CClientDC&#65306;&#29992;&#20110;&#22312;&#31383;&#21475;&#23458;&#25143;&#21306;&#30011;&#22270;&#65292;&#38500;&#20102;OnPaint&#22806;&#30340;&#20989;&#25968;&#20869;</p>
</li><li class=" "><p   
>CWindowDC&#65306;&#29992;&#20110;&#22312;&#31383;&#21475;&#20869;&#20219;&#24847;&#22320;&#26041;&#30011;&#22270;&#65292;&#25265;&#25324;&#38750;&#23458;&#25143;&#21306;</p>
</li></ul>    <div class="section section-3" id="src-1015822_safe-id-TUZDLeS9v-eUqENEQ-exuw">
        <h3 class="heading "><span>&#20351;&#29992;CDC&#31867;</span></h3>
<p   
>Win32 API&#21644;MFC&#30340;<strong class=" ">CPaintDC</strong>&#31867;&#23545;&#27604;&#65292;&#24456;&#26126;&#26174;&#25105;&#20204;&#21487;&#20197;&#30475;&#20986;&#20195;&#30721;&#37327;&#21464;&#24471;&#38750;&#24120;&#23569;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_20-53-30.png" alt="images/download/attachments/1015822/image2021-6-26_20-53-30.png" width="600"  />
    </p>
<p   
>&#22914;&#19978;&#20195;&#30721;&#20013;Win32 API&#30340;&#20195;&#30721;&#25105;&#20204;&#20351;&#29992;&#20102;&#21452;&#20882;&#21495;&#36825;&#26159;&#22240;&#20026;&#20351;&#29992;<u class=" "><strong class=" ">::&#21452;&#20882;&#21495;</strong></u>&#25351;&#30340;&#26159;&#20174;&#20840;&#23616;&#35843;&#29992;&#65292;&#22914;&#26524;&#22312;Win32&#36825;&#31181;&#24037;&#31243;&#20013;&#21152;&#19982;&#19981;&#21152;&#24433;&#21709;&#20498;&#26159;&#19981;&#22823;&#65292;&#20294;&#22312;MFC&#30340;&#24037;&#31243;&#20013;&#65292;&#40664;&#35748;MFC&#20013;&#30340;&#31383;&#21475;&#31867;<strong class=" ">CWnd&#20854;&#25104;&#21592;&#20989;&#25968;</strong>&#26377;&#24456;&#22810;&#37117;&#26159;&#36319;Win32 API&#37325;&#21517;&#65292;&#27604;&#22914;&#65306;<strong class=" ">ShowWindow&#12289;GetMessage&#12289;GetWindowText&#31561;&#31561;</strong>&#65292;&#25152;&#20197;&#36825;&#26102;&#20505;&#22914;&#26524;&#20320;&#22312;CWnd&#25110;&#20854;&#27966;&#29983;&#31867;&#20013;&#35843;&#29992;&#20102;<strong class=" ">ShowWindow</strong>&#20043;&#21518;&#65292;<strong class=" ">&#40664;&#35748;&#35843;&#29992;&#30340;&#23601;&#26159;CWnd&#30340;&#25104;&#21592;&#20989;&#25968;ShowWindow</strong>&#65292;&#22914;&#26524;&#20320;&#24819;&#35201;&#35843;&#29992;&#20840;&#23616;&#30340;&#65292;<strong class=" ">&#37027;&#20040;&#23601;&#24517;&#39035;&#20351;&#29992;&#21452;&#20882;&#21495;&#21069;&#32512;</strong>&#12290;</p>
<p   
>&#25105;&#20204;&#20351;&#29992;<strong class=" ">CPaintDC</strong>&#31867;&#38656;&#35201;&#27880;&#24847;&#65306;1. &#22312;&#22768;&#26126;&#31867;&#30340;&#26102;&#20505;&#21019;&#24314;&#23545;&#24212;&#30340;&#20989;&#25968; 2. &#22312;&#28040;&#24687;&#26144;&#23556;&#21306;&#65288;BEGIN_MESSAGE_MAP&#23439;&#21644;END_MESSAGE_MAP&#23439;&#20043;&#21069;&#65289;&#22768;&#26126;&#65292;&#20363;&#22914;&#22914;&#19978;&#30340;OnPaint&#20989;&#25968;&#25105;&#23601;&#23601;&#38656;&#35201;&#22768;&#26126;ON_WM_PAINT 3. &#37325;&#20889;&#20989;&#25968;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_21-3-2.png" alt="images/download/attachments/1015822/image2021-6-26_21-3-2.png" width="600"  />
    </p>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLURD6K6-5aSH5o-P6L-w6KGo55qE5LiA5Lqb5bGe5oCn">
        <h3 class="heading "><span>DC&#35774;&#22791;&#25551;&#36848;&#34920;&#30340;&#19968;&#20123;&#23646;&#24615;</span></h3>
<p   
>&#22914;&#19979;&#22270;&#25152;&#31034;&#20026;DC&#35774;&#22791;&#25551;&#36848;&#34920;&#30340;&#19968;&#20123;&#23646;&#24615;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_20-57-52.png" alt="images/download/attachments/1015822/image2021-6-26_20-57-52.png" width="600"  />
    </p>
<p   
>&#20320;&#21487;&#20197;&#36890;&#36807;&#35774;&#32622;&#26041;&#27861;&#26469;&#35774;&#32622;&#23646;&#24615;&#65292;&#36890;&#36807;&#33719;&#21462;&#26041;&#27861;&#26469;&#33719;&#21462;&#23646;&#24615;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_21-10-2.png" alt="images/download/attachments/1015822/image2021-6-26_21-10-2.png" width="600"  />
    </p>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_MFC-WindowsGDI">
        <h1 class="heading "><span>Windows GDI</span></h1>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS43">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<ol class=" "><li class=" "><p   
>&#29702;&#35299;GDI&#20013;&#30340;&#39029;&#38754;&#31354;&#38388;&#21644;&#35774;&#22791;&#31354;&#38388;(&#36923;&#36753;&#22352;&#26631;&#21644;&#35774;&#22791;&#22352;&#26631;)&#20197;&#21450;&#26144;&#23556;&#27169;&#24335;</p>
</li><li class=" "><p   
>&#29702;&#35299;&#31383;&#21475;&#21644;&#35270;&#21475;&#20197;&#21450;&#23545;&#24212;&#30340;&#21407;&#28857;&#21644;&#33539;&#22260;</p>
</li><li class=" "><p   
>&#29702;&#35299;&#35774;&#22791;&#31354;&#38388;&#30340;&#19977;&#22823;&#22352;&#26631;&#31995;&#65306;</p>
<ol class=" "><li class=" "><p   
>&#23458;&#25143;&#21306;&#22495;&#22352;&#26631;</p>
</li><li class=" "><p   
>&#23631;&#24149;&#22352;&#26631;</p>
</li><li class=" "><p   
>&#31383;&#21475;&#22352;&#26631;</p>
</li></ol></li></ol>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLUdESeeahOaYoOWwhOaooeW8jw">
        <h2 class="heading "><span>GDI&#30340;&#26144;&#23556;&#27169;&#24335;</span></h2>
<p   
>&#26144;&#23556;&#27169;&#24335;&#26159;&#35774;&#22791;&#25551;&#36848;&#34920;&#30340;&#23646;&#24615;&#65292;&#29992;&#20110;&#30830;&#23450;&#36923;&#36753;&#22352;&#26631;&#20540;&#21040;&#35774;&#22791;&#22352;&#26631;&#20540;&#30340;&#36716;&#25442;&#65292;&#20256;&#36865;&#32473;CDC&#36755;&#20986;&#20989;&#25968;&#30340;&#26159;&#36923;&#36753;&#22352;&#26631;&#20540;&#65292;&#35774;&#22791;&#22352;&#26631;&#20540;&#26159;&#25351;&#31383;&#21475;&#20013;&#30456;&#24212;&#30340;&#20687;&#32032;&#20301;&#32622;&#12290;</p>
<p   
>&#35843;&#29992;&#25104;&#21592;&#20989;&#25968;<strong class=" ">CDC::SetMapMod</strong>&#26469;&#20462;&#25913;&#26144;&#23556;&#27169;&#24335;&#65292;&#25105;&#20204;&#27491;&#24120;&#30340;&#26144;&#23556;&#27169;&#24335;&#26159;&#19968;&#20010;&#20687;&#32032;&#28857;&#65292;&#20063;&#23601;&#26159;MM_TEXT&#65292;&#20854;x&#36724;&#21521;&#21491;&#65292;y&#36724;&#21521;&#19979;&#65292;&#22914;&#19979;&#22270;&#34920;&#26377;&#24456;&#22810;&#31181;&#26144;&#23556;&#27169;&#24335;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_22-2-29.png" alt="images/download/attachments/1015822/image2021-6-26_22-2-29.png" width="600"  />
    </p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>&#26144;&#23556;&#27169;&#24335;</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>&#19968;&#20010;&#36923;&#36753;&#21333;&#20301;</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>x&#21644;y&#36724;&#30340;&#26041;&#21521;(&#21491;&#65292;&#19979;)</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>MM_TEXT</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1&#20687;&#32032;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>x+ y+ &#65288;x&#21521;&#21491;&#21017;&#26159;+&#65292;y&#21521;&#19979;&#21017;&#26159;+&#65289;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>MM_LOMETRIC</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0.1&#27627;&#31859;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>x+ y- &#65288;x&#21521;&#21491;&#21017;&#26159;+&#65292;y&#21521;&#19979;&#21017;&#26159;-&#65289;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>MM_HIMETRIC</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0.01&#27627;&#31859;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>x+ y-</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>MM_LOENGLISH</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0.01&#33521;&#23544;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>x+ y-</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>MM_HIENGLISH</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0.001&#33521;&#23544;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>x+ y-</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>MM_TWIPS</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>1/1440&#33521;&#23544;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>x+ y-</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>MM_ISOTROPIC</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#29992;&#25143;&#33258;&#23450;&#20041;(x,y&#21516;&#31561;&#32553;&#25918;)</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#29992;&#25143;&#33258;&#23450;&#20041;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>MM_ANISOTROPIC</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#29992;&#25143;&#33258;&#23450;&#20041;(x&#21644;y&#29420;&#31435;&#32553;&#25918;)</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#29992;&#25143;&#33258;&#23450;&#20041;</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLUdESeeahOWdkOagh-epuumXtA">
        <h2 class="heading "><span>GDI&#30340;&#22352;&#26631;&#31354;&#38388;</span></h2>
<p   
>Windows&#19979;&#30340;&#31243;&#24207;&#36816;&#29992;&#22352;&#26631;&#31354;&#38388;&#21644;&#36716;&#25442;&#26469;&#23545;&#22270;&#24418;&#36755;&#20986;&#36827;&#34892;&#32553;&#25918;&#12289;&#26059;&#36716;&#12289;&#24179;&#31227;&#12289;&#26012;&#20999;&#21644;&#21453;&#23556;&#65307;&#22352;&#26631;&#31354;&#38388;&#26159;&#19968;&#20010;&#24179;&#38754;&#30340;&#31354;&#38388;&#65292;&#36890;&#36807;&#20351;&#29992;&#20004;&#20010;&#20114;&#30456;&#22402;&#30452;&#24182;&#19988;&#38271;&#24230;&#30456;&#31561;&#30340;&#36724;&#26469;&#23450;&#20301;&#20108;&#32500;&#23545;&#35937;&#12290;</p>
<p   
>Win32 API&#20351;&#29992;&#22235;&#31181;&#22352;&#26631;&#31354;&#38388;&#65306;</p>
<ol class=" "><li class=" "><p   
>&#19990;&#30028;&#22352;&#26631;&#31995;&#31354;&#38388;&#65306;&#22312;&#24212;&#29992;&#31243;&#24207;&#35843;&#29992;SetWorldTransform&#20989;&#25968;&#20043;&#21069;&#65292;&#19981;&#20250;&#20986;&#29616;&#19990;&#30028;&#22352;&#26631;&#31354;&#38388;&#21040;&#39029;&#38754;&#31354;&#38388;&#30340;&#36716;&#25442;</p>
</li><li class=" "><p   
>&#39029;&#38754;&#31354;&#38388;&#65288;&#31383;&#21475;&#65289;&#65306;&#36923;&#36753;&#22352;&#26631;&#19982;&#35774;&#22791;&#26080;&#20851;&#65292;&#22312;&#31383;&#21475;&#20013;&#36827;&#34892;&#25551;&#36848;&#26102;&#20351;&#29992;&#36923;&#36753;&#22352;&#26631;</p>
</li><li class=" "><p   
>&#35774;&#22791;&#31354;&#38388;&#65288;&#35270;&#21475;&#65289;&#65306;&#22270;&#24418;&#36755;&#20986;&#26102;&#65292;Windows&#23558;GDI&#20989;&#25968;&#20013;&#25351;&#23450;&#30340;&#36923;&#36753;&#22352;&#26631;&#26144;&#23556;&#20026;&#35774;&#22791;&#22352;&#26631;</p>
</li><li class=" "><p   
>&#29289;&#29702;&#35774;&#22791;&#65306;&#23631;&#24149;&#12289;&#25171;&#21360;&#26426;&#31561;</p>
</li></ol><p   
>&#22914;&#19979;&#22270;&#25152;&#31034;&#65292;&#36890;&#36807;&#23558;&#39029;&#38754;&#31354;&#38388;&#30340;&#21407;&#28857;&#26144;&#23556;&#21040;&#35774;&#22791;&#31354;&#38388;&#30340;&#21407;&#28857;&#65292;&#20877;&#23558;&#35774;&#22791;&#31354;&#38388;&#30340;&#21407;&#28857;&#26144;&#23556;&#21040;&#29289;&#29702;&#35774;&#22791;&#19978;&#65292;&#36890;&#36807;&#19968;&#23618;&#23618;&#30340;&#36716;&#25442;&#25165;&#21487;&#20197;&#36890;&#36807;&#29289;&#29702;&#35774;&#22791;&#30475;&#26368;&#32456;&#26174;&#31034;&#30340;&#32467;&#26524;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_22-23-51.png" alt="images/download/attachments/1015822/image2021-6-26_22-23-51.png" width="600"  />
    </p>
<p   
>&#23558;&#39029;&#38754;&#31354;&#38388;&#36716;&#21040;&#35774;&#22791;&#31354;&#38388;&#65292;&#23601;&#26159;&#36890;&#36807;&#26144;&#23556;&#27169;&#24335;&#65292;&#22312;&#35774;&#22791;&#31354;&#38388;&#37324;&#30340;&#21333;&#20301;&#26159;&#20687;&#32032;&#65292;&#32780;&#22312;&#36923;&#36753;&#22352;&#26631;&#20869;&#21017;&#26159;&#25105;&#20204;&#33258;&#23450;&#20041;&#65292;&#36825;&#21462;&#20915;&#20110;&#26144;&#23556;&#27169;&#24335;&#12290;</p>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLeS_ruaUueaYoOWwhOaooeW8jw">
        <h3 class="heading "><span>&#20462;&#25913;&#26144;&#23556;&#27169;&#24335;</span></h3>
<p   
>&#25105;&#20204;&#26469;&#23581;&#35797;&#19968;&#19979;&#20462;&#25913;&#26144;&#23556;&#27169;&#24335;&#65292;&#28982;&#21518;&#30011;&#19968;&#20010;&#22278;&#65292;&#39318;&#20808;&#25105;&#20204;&#30475;&#19979;&#27491;&#24120;&#30340;&#26144;&#23556;&#27169;&#24335;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_23-6-59.png" alt="images/download/attachments/1015822/image2021-6-26_23-6-59.png" width="600"  />
    </p>
<p   
>&#36873;&#25321;<strong class=" ">MM_LOMETRIC</strong>&#65292;&#19968;&#20010;&#36923;&#36753;&#21333;&#20301;&#26159;0.1&#27627;&#31859;&#65292;x&#21521;&#21491;&#21017;&#21152;&#65292;y&#21521;&#19979;&#21017;&#20943;&#65292;&#25152;&#20197;&#21442;&#25968;&#26368;&#21518;&#35201;&#25913;&#25104;-300&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_23-5-1.png" alt="images/download/attachments/1015822/image2021-6-26_23-5-1.png" width="600"  />
    </p>
<p   
>&#22240;&#20026;&#19981;&#21516;&#30340;&#35774;&#22791;&#26377;&#19981;&#21516;&#30340;&#23631;&#24149;&#65292;&#20063;&#23601;&#36896;&#25104;&#20102;&#20687;&#32032;&#28857;&#19981;&#19968;&#26679;&#30340;&#24773;&#20917;&#65292;&#36890;&#36807;&#25351;&#23450;&#36923;&#36753;&#21333;&#20301;&#65292;&#25105;&#20204;&#21482;&#38656;&#35201;&#25805;&#20316;&#36923;&#36753;&#22352;&#26631;&#32780;&#19981;&#38656;&#35201;&#21435;&#31649;&#35774;&#22791;&#65292;&#26356;&#25442;&#19981;&#21516;&#30340;&#35774;&#22791;&#20381;&#28982;&#21487;&#20197;&#31934;&#20934;&#30340;&#26174;&#31034;&#25105;&#20204;&#25351;&#23450;&#30340;&#38271;&#24230;&#12290;</p>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLeeUqOaIt-iHquWumuS5ieaYoOWwhOaooeW8jw">
        <h3 class="heading "><span>&#29992;&#25143;&#33258;&#23450;&#20041;&#26144;&#23556;&#27169;&#24335;</span></h3>
<p   
>&#29992;&#25143;&#33258;&#23450;&#20041;&#30340;&#26144;&#23556;&#27169;&#24335;&#26377;&#65306;MM_ISOTROPIC&#12289;MM_ANISOTROPIC</p>
<p   
><strong class=" ">MM_ISOTROPIC</strong>&#36825;&#20010;&#26144;&#23556;&#27169;&#24335;&#20854;x&#12289;y&#21516;&#31561;&#32553;&#25918;&#65292;&#31034;&#20363;&#20195;&#30721;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnPaint() {</code></div>
<div class="line"><code class="plain">    CPaintDC dc(</code><code class="keyword">this</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    CRect rect;</code></div>
<div class="line"><code class="plain">    GetClientRect(&amp;rect); </code><code class="comments">// 这个函数将CWnd的客户区的客户坐标拷贝到指向的结构中</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    dc.SetMapMode(MM_ISOTROPIC); </code><code class="comments">// 设置映射模式</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    dc.SetWindowExt(</code><code class="value">100</code><code class="plain">,</code><code class="value">100</code><code class="plain">); </code><code class="comments">// 设置窗口大小</code></div>
<div class="line"><code class="plain">    dc.SetViewportExt(rect.Width(), rect.Height()); </code><code class="comments">// 设置视口大小</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    dc.Ellipse(</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">,</code><code class="value">100</code><code class="plain">,</code><code class="value">100</code><code class="plain">); </code><code class="comments">// 画圆</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
>&#26080;&#35770;&#25105;&#30340;&#31383;&#21475;&#26377;&#22810;&#22823;&#37117;&#26159;&#21516;&#31561;&#27604;&#20363;&#21435;&#32553;&#25918;&#30340;&#65292;&#24182;&#19988;&#37117;&#26159;&#19968;&#20010;&#27491;&#22278;&#24418;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_23-24-16.png" alt="images/download/attachments/1015822/image2021-6-26_23-24-16.png" width="600"  />
    </p>
<p   
><strong class=" ">MM_ANISOTROPIC</strong>&#36825;&#20010;&#26144;&#23556;&#27169;&#24335;&#20854;x&#12289;y&#29420;&#31435;&#32553;&#25918;&#65292;&#22312;&#36825;&#20010;&#27169;&#24335;&#19979;&#30011;&#30340;&#22278;&#23601;&#20250;&#22635;&#28385;&#25972;&#20010;&#31383;&#21475;&#65292;x&#12289;y&#20063;&#37117;&#21508;&#33258;&#25353;&#29031;&#21508;&#33258;&#30340;&#26469;&#32553;&#25918;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_23-27-20.png" alt="images/download/attachments/1015822/image2021-6-26_23-27-20.png" width="600"  />
    </p>
<p   
>GDI&#30340;&#25991;&#26412;&#21644;&#22270;&#24418;&#36755;&#20986;&#20989;&#25968;&#20351;&#29992;&#36923;&#36753;&#22352;&#26631;&#65292;&#32780;&#22312;&#23458;&#25143;&#21306;&#31227;&#21160;&#25110;&#25353;&#19979;&#40736;&#26631;&#30340;&#40736;&#26631;&#20301;&#32622;&#26159;&#37319;&#29992;&#35774;&#22791;&#22352;&#26631;&#65307;&#22312;&#25105;&#20204;&#27809;&#26377;&#20462;&#25913;&#26144;&#23556;&#27169;&#24335;&#30340;&#26102;&#20505;&#21017;&#36923;&#36753;&#22352;&#26631;&#19982;&#35774;&#22791;&#22352;&#26631;&#31561;&#21516;&#12290;</p>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLU9uTEJ1dHRvbkRvd27lh73mlbA">
        <h3 class="heading "><span>OnLButtonDown&#20989;&#25968;</span></h3>
<p   
>&#25105;&#20204;&#22312;<strong class=" ">OnLButtonDown</strong>&#20989;&#25968;&#20013;&#20889;&#19968;&#20010;&#24403;&#40736;&#26631;&#24038;&#38190;&#25353;&#19979;&#21017;&#30011;&#19968;&#20010;&#22278;&#24418;&#30340;&#21151;&#33021;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_23-50-14.png" alt="images/download/attachments/1015822/image2021-6-26_23-50-14.png" width="600"  />
    </p>
<p   
>&#36825;&#37324;&#30340;<strong class=" ">point</strong>&#23454;&#38469;&#19978;&#23601;&#26159;&#35774;&#22791;&#22352;&#26631;&#65292;&#24403;&#25105;&#20204;&#20462;&#25913;&#20102;&#26144;&#23556;&#27169;&#24335;&#20026;<strong class=" ">MM_LOMETRIC</strong>&#21017;&#23601;&#27809;&#26377;&#21150;&#27861;&#30475;&#35265;&#22278;&#24418;&#20102;&#65292;&#25105;&#20204;&#23601;&#38656;&#35201;&#20351;&#29992;&#20989;&#25968;<strong class=" ">DPtoLP</strong>&#26469;&#36716;&#25442;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-26_23-54-13.png" alt="images/download/attachments/1015822/image2021-6-26_23-54-13.png" width="600"  />
    </p>
<p   
>&#20294;&#26159;&#36825;&#20010;&#36825;&#20010;&#23454;&#38469;&#19978;&#19982;&#25105;&#20204;&#30340;&#21151;&#33021;&#24046;&#20102;&#19968;&#20123;&#65292;&#22240;&#20026;&#27169;&#24335;&#20026;<strong class=" ">MM_LOMETRIC</strong>&#65292;&#20854;x&#21521;&#21491;&#21017;&#21152;&#65292;y&#21521;&#19979;&#21017;&#20943;&#65292;&#25152;&#20197;&#22312;&#20195;&#30721;&#20013;&#30340;<strong class=" ">point.y+100</strong>&#38656;&#35201;&#25913;&#25104;<strong class=" ">point.y-100</strong>&#12290;</p>
<p   
>&#21516;&#29702;&#65292;&#25105;&#20204;&#24819;&#36716;&#25442;&#36923;&#36753;&#22352;&#26631;&#20026;&#35774;&#22791;&#22352;&#26631;&#21487;&#20197;&#20351;&#29992;&#20989;&#25968;<strong class=" ">LPtoDP</strong>&#12290;</p>
    </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeabtOaUueWOn-eCuQ">
        <h2 class="heading "><span>&#26356;&#25913;&#21407;&#28857;</span></h2>
<p   
>&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;<strong class=" ">SetWindowOrg</strong>&#20989;&#25968;&#26469;&#26356;&#25913;&#31383;&#21475;&#30340;&#21407;&#28857;&#65292;&#25152;&#20197;&#21576;&#29616;&#32473;&#25105;&#20204;&#30340;100,100&#37027;&#19968;&#37096;&#20998;&#23454;&#38469;&#19978;&#23601;&#26159;&#19968;&#20010;&#32570;&#22833;&#30340;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-27_0-5-42.png" alt="images/download/attachments/1015822/image2021-6-27_0-5-42.png" width="600"  />
    </p>
<p   
>&#25105;&#20204;&#24819;&#35201;&#30011;&#19968;&#20010;&#27491;&#24120;&#30340;&#21407;&#23601;&#38656;&#35201;&#22312;&#30011;&#22278;&#30340;&#26102;&#20505;&#25351;&#23450;&#22352;&#26631;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-27_0-16-50.png" alt="images/download/attachments/1015822/image2021-6-27_0-16-50.png" width="600"  />
    </p>
<p   
>&#21516;&#26679;&#25105;&#20204;&#21487;&#20197;&#26356;&#25913;&#35774;&#22791;&#31354;&#38388;&#30340;&#21407;&#28857;&#65292;&#20351;&#29992;&#20989;&#25968;<strong class=" ">SetViewportOrg</strong>&#65306;</p>
<p   
><strong class=" "><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-27_0-19-29.png" alt="images/download/attachments/1015822/image2021-6-27_0-19-29.png" width="600"  />
</strong></p>
<p   
>&#22312;&#36825;&#37324;&#23601;&#26159;&#23558;&#39029;&#38754;&#31354;&#38388;&#30340;0,0&#26144;&#23556;&#21040;&#35774;&#22791;&#31354;&#38388;&#30340;100,100&#65292;&#20063;&#23601;&#34920;&#31034;&#25105;&#20204;&#21518;&#32493;&#30011;&#22278;&#20174;100,100&#24320;&#22987;&#20063;&#23601;&#26159;&#20174;&#35774;&#22791;&#31354;&#38388;&#30340;200&#24320;&#22987;&#12290;</p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeiuvuWkh-epuumXtOS4i-eahOWdkOagh-ezuw">
        <h2 class="heading "><span>&#35774;&#22791;&#31354;&#38388;&#19979;&#30340;&#22352;&#26631;&#31995;</span></h2>
<p   
>&#35774;&#22791;&#31354;&#38388;&#19979;&#30340;&#22352;&#26631;&#31995;&#20998;&#20026;&#19977;&#31867;&#65306;1. &#23458;&#25143;&#21306;&#22352;&#26631; 2. &#23631;&#24149;&#22352;&#26631; 3. &#20840;&#31383;&#21475;&#22352;&#26631;&#65292;&#22914;&#19979;&#22270;&#25152;&#31034;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-27_0-27-19.png" alt="images/download/attachments/1015822/image2021-6-27_0-27-19.png" width="600"  />
    </p>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLUdESee7mOWbvg">
        <h1 class="heading "><span>GDI&#32472;&#22270;</span></h1>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS44">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<ol class=" "><li class=" "><p   
>&#23545;GDI&#30340;&#24120;&#29992;&#32472;&#22270;&#20989;&#25968;&#26377;&#19968;&#20010;&#22522;&#26412;&#30340;&#20102;&#35299;</p>
</li><li class=" "><p   
>&#20102;&#35299;GDI&#30340;&#30011;&#31508;&#12289;&#30011;&#21047;&#20197;&#21450;&#23383;&#20307;</p>
</li></ol>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeW4uOeUqOeahOe7mOWbvuWHveaVsA">
        <h2 class="heading "><span>&#24120;&#29992;&#30340;&#32472;&#22270;&#20989;&#25968;</span></h2>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>&#20989;&#25968;&#21517;</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>&#20316;&#29992;</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>MoveTo</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#22312;&#30011;&#32447;&#21069;&#35774;&#23450;&#24403;&#21069;&#20301;&#32622;&#65288;&#36215;&#22987;&#20301;&#32622;&#65289;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>LineTo</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#20174;&#24403;&#21069;&#20301;&#32622;&#30011;&#19968;&#26465;&#32447;&#21040;&#25351;&#23450;&#20301;&#32622;&#65288;&#32456;&#27490;&#20301;&#32622;&#65289;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Polyline</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#23558;&#19968;&#31995;&#21015;&#28857;&#29992;&#32447;&#27573;&#36830;&#25509;&#36215;&#26469;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>PolylineTo</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#20174;&#24403;&#21069;&#20301;&#32622;&#24320;&#22987;&#23558;&#19968;&#31995;&#21015;&#28857;&#29992;&#32447;&#27573;&#36830;&#25509;&#36215;&#26469;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Ellipse</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#30011;&#19968;&#20010;&#22278;&#25110;&#32773;&#26925;&#22278;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Rectangle</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#30011;&#19968;&#20010;&#24102;&#30452;&#35282;&#30340;&#30697;&#24418;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>FillRect</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#29992;&#25351;&#23450;&#30340;&#30011;&#21047;&#22635;&#20805;&#30697;&#24418;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Draw3dRect</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#29992;&#26469;&#23454;&#29616;3D&#31435;&#20307;&#24863;</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLUxpbmVUb-WHveaVsOeUu-e6vw">
        <h3 class="heading "><span>LineTo&#20989;&#25968;&#30011;&#32447;</span></h3>
<p   
>&#20351;&#29992;<strong class=" ">LineTo</strong>&#20989;&#25968;&#30011;&#32447;&#38656;&#35201;&#25645;&#37197;<strong class=" ">MoveTo</strong>&#20989;&#25968;&#65292;<strong class=" ">MoveTo</strong>&#20989;&#25968;&#20915;&#23450;&#20102;&#30011;&#19968;&#26465;&#32447;&#30340;&#20854;&#23454;&#20301;&#32622;&#65292;<strong class=" ">LineTo</strong>&#20989;&#25968;&#21017;&#26159;&#24320;&#22987;&#30011;&#19968;&#26465;&#32447;&#28982;&#21518;&#21040;&#32456;&#27490;&#20301;&#32622;&#65292;&#32780;&#21518;&#22914;&#26524;&#20320;&#24819;&#20877;&#30011;&#19968;&#26465;&#32447;&#23454;&#38469;&#19978;&#23601;&#35201;&#36981;&#24490;&#26368;&#21518;&#19968;&#27425;<strong class=" ">LineTo</strong>&#20989;&#25968;&#32456;&#27490;&#20301;&#32622;&#24320;&#22987;&#30011;&#12290;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnPaint() {</code></div>
<div class="line"><code class="plain">    CPaintDC dc(</code><code class="keyword">this</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    dc.MoveTo(</code><code class="value">10</code><code class="plain">,</code><code class="value">10</code><code class="plain">); </code><code class="comments">// x=10 y=10开始</code></div>
<div class="line"><code class="plain">    dc.LineTo(</code><code class="value">30</code><code class="plain">,</code><code class="value">10</code><code class="plain">); </code><code class="comments">// 横着画，x增加，y不变</code></div>
<div class="line"><code class="plain">    dc.LineTo(</code><code class="value">30</code><code class="plain">,</code><code class="value">30</code><code class="plain">); </code><code class="comments">// 竖着画，遵循上一LineTo的x，y坐标为起点，x不变，y增加</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-27_23-20-50.png" alt="images/download/attachments/1015822/image2021-6-27_23-20-50.png" width="600"  />
    </p>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLVBvbHlsaW5l5Ye95pWw57q_5q616L-e5o6l">
        <h3 class="heading "><span>Polyline&#20989;&#25968;&#32447;&#27573;&#36830;&#25509;</span></h3>
<p   
><strong class=" ">Polyline</strong>&#20989;&#25968;&#23601;&#26159;&#23558;&#19968;&#31995;&#21015;&#28857;&#29992;&#32447;&#27573;&#36830;&#25509;&#36215;&#26469;&#65292;&#20854;&#21442;&#25968;&#23601;&#26159;&#19968;&#20010;<strong class=" ">LPPOINT</strong>&#30340;&#25351;&#38024;&#65288;&#30452;&#25509;&#20351;&#29992;&#25968;&#32452;&#21517;&#23601;&#34920;&#31034;&#26159;&#25968;&#32452;&#39318;&#22320;&#22336;&#65292;&#25152;&#20197;&#25105;&#20204;&#21487;&#20197;&#30452;&#25509;&#20351;&#29992;POINT&#26469;&#23450;&#20041;&#19968;&#20010;&#25968;&#32452;&#20256;&#20837;&#36827;&#21435;&#65289;&#21644;&#19968;&#20010;int&#31867;&#22411;&#30340;&#21442;&#25968;&#65288;&#36825;&#20010;&#34920;&#31034;&#26377;&#22810;&#23569;&#20010;&#28857;&#65292;&#27599;&#20010;&#28857;&#37117;&#26159;&#22522;&#20110;x, y&#22352;&#26631;&#30340;&#65289;&#12290;</p>
<p   
>&#22914;&#19979;&#20195;&#30721;&#25105;&#20204;&#21487;&#20197;&#26500;&#24314;&#36830;&#25509;&#28857;&#32472;&#21046;&#19968;&#20010;&#27491;&#26041;&#24418;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnPaint() {</code></div>
<div class="line"><code class="plain">    CPaintDC dc(</code><code class="keyword">this</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    POINT pt[</code><code class="value">5</code><code class="plain">] = {{</code><code class="value">40</code><code class="plain">, </code><code class="value">40</code><code class="plain">}, {</code><code class="value">100</code><code class="plain">, </code><code class="value">40</code><code class="plain">}, {</code><code class="value">100</code><code class="plain">, </code><code class="value">100</code><code class="plain">}, {</code><code class="value">40</code><code class="plain">, </code><code class="value">100</code><code class="plain">}, {</code><code class="value">40</code><code class="plain">, </code><code class="value">40</code><code class="plain">}}; </code><code class="comments">// 定义数组 x, y</code></div>
<div class="line"><code class="plain">    dc.Polyline(pt, </code><code class="value">5</code><code class="plain">); </code><code class="comments">// 连接成一个正方形，</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-27_23-40-39.png" alt="images/download/attachments/1015822/image2021-6-27_23-40-39.png" width="600"  />
    </p>
<p   
>&#26377;&#24456;&#22810;&#20154;&#21487;&#33021;&#20250;&#22909;&#22855;&#20026;&#20160;&#20040;&#36830;&#25509;4&#20010;&#28857;&#38656;&#35201;5&#32452;x, y&#22352;&#26631;&#65292;&#22914;&#19979;&#22270;&#23601;&#26159;&#20854;&#32472;&#21046;&#27491;&#26041;&#24418;&#30340;&#27969;&#31243;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-27_23-40-10.png" alt="images/download/attachments/1015822/image2021-6-27_23-40-10.png" width="600"  />
    </p>
<p   
>&#22914;&#26524;&#20320;&#19981;&#24819;&#36825;&#20040;&#22797;&#26434;&#65292;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;<strong class=" ">PolylineTo</strong>&#20989;&#25968;&#12290;</p>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLVBvbHlsaW5lVG_lh73mlbDnur_mrrXov57mjqU">
        <h3 class="heading "><span>PolylineTo&#20989;&#25968;&#32447;&#27573;&#36830;&#25509;</span></h3>
<p   
><strong class=" ">PolylineTo</strong>&#20989;&#25968;&#21644;<strong class=" ">Polyline</strong>&#20989;&#25968;&#27809;&#26377;&#26412;&#36136;&#21306;&#21035;&#65292;&#21807;&#19968;&#30340;&#21306;&#21035;&#20854;&#22312;&#20351;&#29992;&#19978;&#38656;&#35201;&#25351;&#23450;&#19968;&#20010;&#36215;&#22987;&#20301;&#32622;&#65292;&#24182;&#19988;&#19981;&#38656;&#35201;5&#32452;x, y&#22352;&#26631;&#65292;&#21482;&#38656;&#35201;4&#32452;&#23601;&#21487;&#20197;&#20102;&#12290;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnPaint() {</code></div>
<div class="line"><code class="plain">    CPaintDC dc(</code><code class="keyword">this</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    POINT pt[</code><code class="value">5</code><code class="plain">] = {{</code><code class="value">100</code><code class="plain">, </code><code class="value">40</code><code class="plain">}, {</code><code class="value">100</code><code class="plain">, </code><code class="value">100</code><code class="plain">}, {</code><code class="value">40</code><code class="plain">, </code><code class="value">100</code><code class="plain">}, {</code><code class="value">40</code><code class="plain">, </code><code class="value">40</code><code class="plain">}}; </code><code class="comments">// 定义数组 x, y</code></div>
<div class="line"><code class="plain">    dc.MoveTo(</code><code class="value">40</code><code class="plain">, </code><code class="value">40</code><code class="plain">); </code><code class="comments">// 指定一个起始位置</code></div>
<div class="line"><code class="plain">    dc.PolylineTo(pt, </code><code class="value">4</code><code class="plain">); </code><code class="comments">// 连接成一个正方形</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-27_23-45-3.png" alt="images/download/attachments/1015822/image2021-6-27_23-45-3.png" width="600"  />
    </p>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLUVsbGlwc2Xlh73mlbDnlLvlnIY">
        <h3 class="heading "><span>Ellipse&#20989;&#25968;&#30011;&#22278;</span></h3>
<p   
><strong class=" ">Ellipse</strong>&#20989;&#25968;&#29992;&#26469;&#30011;&#22278;&#65292;&#20043;&#21069;&#20063;&#20351;&#29992;&#21040;&#36807;&#20294;&#26159;&#27809;&#26377;&#20180;&#32454;&#35762;&#35299;&#20854;&#32454;&#33410;&#65292;&#39318;&#20808;&#25105;&#20204;&#30475;&#19979;&#23427;&#21487;&#20197;&#25509;&#21463;&#30340;&#20256;&#21442;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-27_23-50-6.png" alt="images/download/attachments/1015822/image2021-6-27_23-50-6.png" width="600"  />
    </p>
<p   
>4&#20010;int&#31867;&#22411;&#30340;&#21442;&#25968;&#65292;&#25110;&#32773;&#19968;&#20010;<strong class=" ">LPCRECT</strong>&#31867;&#22411;&#30340;&#21442;&#25968;&#65288;&#36825;&#20010;&#21487;&#20197;&#36890;&#36807;<strong class=" ">CRect</strong>&#26469;&#21019;&#24314;&#65292;&#21407;&#22240;&#22914;&#19979;&#22270;&#25152;&#31034;&#65292;<strong class=" ">LPCRECT</strong>&#26412;&#36136;&#19978;&#23601;&#26159;&#19968;&#20010;&#23439;&#65292;&#20854;&#29992;&#20110;&#34920;&#31034;<strong class=" ">RECT&#25351;&#38024;</strong>&#65292;&#32780;<strong class=" ">RECT</strong>&#21017;&#26159;<strong class=" ">tagRECT</strong>&#23454;&#20363;&#21270;&#30340;&#23545;&#35937;&#65292;<strong class=" ">CRect</strong>&#21448;&#32487;&#25215;&#20110;<strong class=" ">tagRECT</strong>&#65292;&#25152;&#20197;&#25105;&#20204;&#21487;&#20197;&#30452;&#25509;&#20351;&#29992;<strong class=" ">CRect</strong>&#26469;&#21019;&#24314;&#65289;&#65292;&#32780;&#22914;&#26524;&#20320;&#20351;&#29992;<strong class=" ">CRect</strong>&#21019;&#24314;&#23545;&#35937;&#20256;&#20837;&#30340;&#36824;&#26159;&#22235;&#20010;int&#31867;&#22411;&#30340;&#21442;&#25968;&#65292;&#20854;&#23454;&#26412;&#36136;&#19978;&#21644;&#30452;&#25509;&#20256;&#20837;4&#20010;int&#31867;&#22411;&#30340;&#21442;&#25968;&#27809;&#26377;&#21306;&#21035;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-28_0-49-56.png" alt="images/download/attachments/1015822/image2021-6-28_0-49-56.png" width="600"  />
    </p>
<p   
>&#22235;&#20010;&#21442;&#25968;&#20381;&#27425;&#37117;&#20998;&#21035;&#34920;&#31034;&#24038;&#12289;&#19978;&#12289;&#21491;&#12289;&#19979;&#65292;&#23454;&#38469;&#19978;&#20063;&#21487;&#20197;&#29702;&#35299;&#20026;&#21069;2&#20010;&#21442;&#25968;&#20026;&#24038;&#19978;&#35282;&#30340;x, y&#22352;&#26631;&#65292;&#21518;2&#20010;&#21442;&#25968;&#20026;&#21491;&#19979;&#35282;&#30340;x, y&#22352;&#26631;&#12290;</p>
<p   
>&#20363;&#22914;&#22914;&#19979;&#20195;&#30721;&#65292;&#25105;&#20204;&#25351;&#23450;&#24038;&#19978;&#35282;&#22352;&#26631;&#20026;&#65306;<strong class=" "><u class=" ">10, 10</u></strong>&#65292;&#25351;&#23450;&#21491;&#19979;&#35282;&#22352;&#26631;&#20026;&#65306;<u class=" "><strong class=" ">20, 20</strong></u>&#28982;&#21518;&#30011;&#22278;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnPaint() {</code></div>
<div class="line"><code class="plain">    CPaintDC dc(</code><code class="keyword">this</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    dc.Ellipse(</code><code class="value">10</code><code class="plain">,</code><code class="value">10</code><code class="plain">,</code><code class="value">20</code><code class="plain">,</code><code class="value">20</code><code class="plain">);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-28_0-7-34.png" alt="images/download/attachments/1015822/image2021-6-28_0-7-34.png" width="600"  />
    </p>
<p   
>&#20854;&#21407;&#29702;&#22914;&#19979;&#22270;&#25152;&#31034;&#65288;<strong class=" ">&#20010;&#20154;&#35265;&#35299;</strong>&#65289;&#65292;&#20174;10, 10&#21040;20, 20&#30011;&#19968;&#26465;&#30452;&#32447;&#65292;&#32780;&#21518;&#21462;&#20013;&#24515;&#28857;&#65292;&#22312;&#20013;&#24515;&#28857;&#24320;&#22987;&#30011;&#22278;&#65288;&#31867;&#20284;&#22278;&#35268;&#65289;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-28_0-2-48.png" alt="images/download/attachments/1015822/image2021-6-28_0-2-48.png" width="600"  />
    </p>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLVJlY3RhbmdsZeWHveaVsOeUu-ebtOinkuefqeW9og">
        <h3 class="heading "><span>Rectangle&#20989;&#25968;&#30011;&#30452;&#35282;&#30697;&#24418;</span></h3>
<p   
><strong class=" ">Rectangle</strong>&#20989;&#25968;&#30011;&#30452;&#35282;&#30697;&#24418;&#65292;&#20854;&#21442;&#25968;&#19982;<strong class=" ">Ellipse</strong>&#20989;&#25968;&#26159;&#19968;&#26679;&#30340;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-28_0-11-37.png" alt="images/download/attachments/1015822/image2021-6-28_0-11-37.png" width="600"  />
    </p>
<p   
>&#25152;&#20197;&#20351;&#29992;&#26041;&#27861;&#20063;&#26159;&#19968;&#26679;&#30340;&#65292;&#22914;&#19979;&#20195;&#30721;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnPaint() {</code></div>
<div class="line"><code class="plain">    CPaintDC dc(</code><code class="keyword">this</code><code class="plain">);</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    dc.Rectangle(</code><code class="value">10</code><code class="plain">,</code><code class="value">10</code><code class="plain">,</code><code class="value">20</code><code class="plain">,</code><code class="value">20</code><code class="plain">);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-28_0-12-29.png" alt="images/download/attachments/1015822/image2021-6-28_0-12-29.png" width="600"  />
    </p>
<p   
>&#20854;&#21407;&#29702;&#22914;&#19979;&#22270;&#25152;&#31034;&#65288;<strong class=" ">&#20010;&#20154;&#35265;&#35299;</strong>&#65289;&#65292;<strong class=" ">10, 10&#21644;20, 20&#23601;&#26159;&#20026;&#20102;&#30830;&#23450;&#20301;&#32622;&#65292;&#21478;&#22806;&#20004;&#20010;&#28857;&#23601;&#26159;10, 20&#21644;20, 10&#20102;</strong>&#65292;&#36825;&#20010;&#23601;&#21487;&#20197;&#36890;&#36807;&#32473;&#30340;&#23545;&#35282;&#32447;&#30340;&#20004;&#20010;&#28857;&#26469;&#30830;&#23450;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-28_0-17-18.png" alt="images/download/attachments/1015822/image2021-6-28_0-17-18.png" width="600"  />
    </p>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLUZpbGxSZWN05Ye95pWw5oyH5a6a55S75Yi35aGr5YWF55-p5b2i">
        <h3 class="heading "><span>FillRect&#20989;&#25968;&#25351;&#23450;&#30011;&#21047;&#22635;&#20805;&#30697;&#24418;</span></h3>
<p   
>&#25105;&#20204;&#20043;&#21069;&#30011;&#30340;&#30697;&#24418;&#37117;&#27809;&#26377;&#20219;&#20309;&#39068;&#33394;&#65292;&#40664;&#35748;&#30340;&#23601;&#26159;&#19968;&#20849;&#36319;&#24213;&#33394;&#19968;&#26679;&#30340;&#39068;&#33394;&#65292;&#25152;&#20197;&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;<strong class=" ">FillRect</strong>&#20989;&#25968;&#25351;&#23450;&#30011;&#21047;&#26469;&#22635;&#20805;&#30697;&#24418;&#12290;</p>
<p   
><strong class=" ">FillRect</strong>&#20989;&#25968;&#30340;&#35821;&#27861;&#26684;&#24335;&#22914;&#19979;&#25152;&#31034;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> FillRect(LPCRECT lpRect, CBrush* pBrush)</code></div>
</div>
    </div>
<p   
>&#35813;&#20989;&#25968;&#31532;&#19968;&#20010;&#21442;&#25968;&#20026;LPCRECT&#65292;&#25152;&#20197;&#25105;&#20204;Rectangle&#20989;&#25968;&#20063;&#20351;&#29992;LPCRECT&#65292;&#36825;&#26679;&#20415;&#20110;&#20351;&#29992;&#65307;&#31532;&#20108;&#20010;&#21442;&#25968;&#26159;&#19968;&#20010;CBrush&#31867;&#25351;&#38024;&#65292;&#20063;&#23601;&#26159;&#25105;&#20204;&#30340;&#30011;&#21047;&#12290;</p>
<p   
>&#22914;&#19979;&#20195;&#30721;&#65292;&#25105;&#20204;&#20351;&#29992;&#20142;&#28784;&#33394;&#30011;&#21047;&#26469;&#22635;&#20805;&#30697;&#24418;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnPaint() {</code></div>
<div class="line"><code class="plain">    CPaintDC dc(</code><code class="keyword">this</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    CRect rect(</code><code class="value">10</code><code class="plain">,</code><code class="value">10</code><code class="plain">,</code><code class="value">20</code><code class="plain">,</code><code class="value">20</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    CBrush brush;</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    dc.Rectangle(rect);</code></div>
<div class="line"><code class="plain">    brush.CreateStockObject(LTGRAY_BRUSH); </code><code class="comments">// 初始化画刷，LTGRAY_BRUSH -&gt; 亮灰色画刷</code></div>
<div class="line"><code class="plain">    dc.FillRect(rect, &amp;brush); </code><code class="comments">// 由于该函数第一个参数为LPCRECT，所以我们Rectangle函数也使用LPCRECT，这样便于使用。</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-28_0-44-44.png" alt="images/download/attachments/1015822/image2021-6-28_0-44-44.png" width="600"  />
    </p>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLURyYXczZFJlY3Tlh73mlbDlrp7njrAzROeri-S9k-aEnw">
        <h3 class="heading "><span>Draw3dRect&#20989;&#25968;&#23454;&#29616;3D&#31435;&#20307;&#24863;</span></h3>
<p   
>&#20026;&#20102;&#35753;&#31243;&#24207;&#30475;&#36215;&#26469;&#26356;&#21152;&#20016;&#28385;&#65292;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;Draw3dRect&#20989;&#25968;&#23454;&#29616;3D&#31435;&#20307;&#24863;&#65292;&#20854;&#31532;&#19968;&#20010;&#21442;&#25968;&#19982;<strong class=" ">Ellipse</strong>&#20989;&#25968;&#12289;<strong class=" ">Rectangle</strong>&#20989;&#25968;&#19968;&#26679;&#65292;&#21487;&#20197;&#20026;&#22235;&#20010;int&#31867;&#22411;&#30340;&#21442;&#25968;&#65292;&#20063;&#21487;&#20197;&#26159;&#19968;&#20010;<strong class=" ">LPCRECT</strong>&#65292;&#21478;&#22806;&#20004;&#20010;&#21442;&#25968;&#23601;&#26159;3D&#23454;&#20307;&#22270;&#24418;&#24038;&#36793;&#19982;&#19978;&#36793;&#30340;&#39068;&#33394;&#21644;&#21491;&#36793;&#21644;&#19979;&#36793;&#30340;&#39068;&#33394;&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-28_0-45-58.png" alt="images/download/attachments/1015822/image2021-6-28_0-45-58.png" width="600"  />
    </p>
<p   
>&#22914;&#19979;&#20195;&#30721;&#65292;&#25105;&#20204;&#21019;&#24314;&#19968;&#20010;200x200&#30340;&#30697;&#24418;&#65292;&#20854;&#24038;&#36793;&#19982;&#19978;&#36793;&#30340;&#39068;&#33394;&#20026;&#32511;&#33394;&#65292;&#21491;&#36793;&#21644;&#19979;&#36793;&#30340;&#39068;&#33394;&#20026;&#32418;&#33394;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnPaint() {</code></div>
<div class="line"><code class="plain">    CPaintDC dc(</code><code class="keyword">this</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    CRect rect(</code><code class="value">10</code><code class="plain">,</code><code class="value">10</code><code class="plain">,</code><code class="value">200</code><code class="plain">,</code><code class="value">200</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    CBrush brush;</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    dc.Rectangle(&amp;rect);</code></div>
<div class="line"><code class="plain">    brush.CreateStockObject(LTGRAY_BRUSH); </code><code class="comments">// 初始化画刷，LTGRAY_BRUSH -&gt; 亮灰色画刷</code></div>
<div class="line"><code class="plain">    dc.FillRect(&amp;rect, &amp;brush); </code><code class="comments">// 由于该函数第一个参数为LPCRECT，所以我们Rectangle函数也使用LPCRECT，这样便于使用。</code></div>
<div class="line"><code class="plain">    dc.Draw3dRect(&amp;rect, RGB(</code><code class="value">255</code><code class="plain">,</code><code class="value">255</code><code class="plain">,</code><code class="value">0</code><code class="plain">), RGB(</code><code class="value">255</code><code class="plain">,</code><code class="value">0</code><code class="plain">,</code><code class="value">255</code><code class="plain">));</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-28_1-6-48.png" alt="images/download/attachments/1015822/image2021-6-28_1-6-48.png" width="600"  />
    </p>
<p   
><strong class=" ">&#27880;&#24847;&#65306;</strong>&#36825;&#37324;&#30340;rect&#23545;&#35937;&#21517;&#65292;&#22914;&#26524;&#25105;&#20204;&#30452;&#25509;&#20889;&#23545;&#35937;&#21517;&#31216;&#19981;&#35201;&#37027;&#20010;&#21462;&#22320;&#22336;&#31526;&#20063;&#26159;&#21487;&#20197;&#30340;&#65292;&#22240;&#20026;&#36825;&#26679;&#23454;&#38469;&#19978;&#23601;&#26159;&#25335;&#36125;&#19968;&#20221;&#36807;&#21435;&#65292;&#32780;&#22914;&#26524;&#20256;&#20837;&#25351;&#38024;&#23454;&#38469;&#19978;&#23601;&#26159;&#23558;&#24403;&#21069;&#23545;&#35937;&#30340;&#22320;&#22336;&#20256;&#36807;&#21435;&#65292;&#20004;&#32773;&#21807;&#19968;&#21306;&#21035;&#23601;&#26159;&#21069;&#32773;&#25335;&#36125;&#36807;&#21435;&#30340;&#23545;&#35937;&#34987;&#20462;&#25913;&#20102;&#19981;&#20250;&#24433;&#21709;&#26412;&#36523;&#65292;&#20294;&#21518;&#32773;&#21017;&#20250;&#24433;&#21709;&#26412;&#36523;&#65292;&#21069;&#32773;&#38656;&#35201;&#37325;&#26032;&#24320;&#36767;&#19968;&#22359;&#31354;&#38388;&#65292;&#20854;&#23454;&#20063;&#26159;&#19968;&#31181;&#36164;&#28304;&#28010;&#36153;&#65292;&#25105;&#20204;&#36825;&#20123;&#20195;&#30721;&#29702;&#35770;&#19978;&#20063;&#19981;&#20250;&#20462;&#25913;&#25105;&#20204;&#30340;&#22352;&#26631;&#28857;&#65292;&#25152;&#20197;&#25105;&#20204;&#36824;&#26159;&#30452;&#25509;&#20351;&#29992;&#21462;&#22320;&#22336;&#31526;&#20256;&#25351;&#38024;&#36827;&#21435;&#36739;&#22909;&#12290;</p>
    <div class="section section-4" id="src-1015822_safe-id-TUZDLeWunueOsOaMiemSruWKn-iDvQ">
        <h4 class="heading "><span>&#23454;&#29616;&#25353;&#38062;&#21151;&#33021;</span></h4>
<p   
>&#22914;&#19979;&#20195;&#30721;&#65292;&#25105;&#20204;&#21487;&#20197;&#20511;&#21161;3D&#31435;&#20307;&#21270;&#35753;&#25105;&#20204;&#30340;&#30697;&#24418;&#30475;&#36215;&#26469;&#20687;&#19968;&#20010;&#25353;&#38062;&#65292;&#28982;&#21518;&#22312;&#24038;&#38190;&#25353;&#19979;&#20107;&#20214;&#20013;&#28155;&#21152;&#23545;&#24212;&#30340;&#24377;&#26694;&#65292;&#23454;&#29616;&#19968;&#20010;&#31616;&#21333;&#30340;&#25353;&#38062;&#21333;&#20987;&#35302;&#21457;&#21151;&#33021;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnPaint() {</code></div>
<div class="line"><code class="plain">    CPaintDC dc(</code><code class="keyword">this</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    CRect rect(</code><code class="value">10</code><code class="plain">,</code><code class="value">10</code><code class="plain">,</code><code class="value">100</code><code class="plain">,</code><code class="value">50</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    CBrush brush;</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    dc.Rectangle(&amp;rect);</code></div>
<div class="line"><code class="plain">    brush.CreateStockObject(LTGRAY_BRUSH); </code><code class="comments">// 初始化画刷，LTGRAY_BRUSH -&gt; 亮灰色画刷</code></div>
<div class="line"><code class="plain">    dc.FillRect(&amp;rect, &amp;brush); </code><code class="comments">// 由于该函数第一个参数为LPCRECT，所以我们Rectangle函数也使用LPCRECT，这样便于使用。</code></div>
<div class="line"><code class="plain">    rect.top++;</code></div>
<div class="line"><code class="plain">    rect.left++;</code></div>
<div class="line"><code class="plain">    dc.Draw3dRect(&amp;rect, RGB(</code><code class="value">255</code><code class="plain">,</code><code class="value">255</code><code class="plain">,</code><code class="value">255</code><code class="plain">), RGB(</code><code class="value">128</code><code class="plain">,</code><code class="value">128</code><code class="plain">,</code><code class="value">128</code><code class="plain">)); </code><code class="comments">// 3D</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    dc.SetBkMode(TRANSPARENT); </code><code class="comments">// SetBkMode函数来设置DrawText函数的输出方式</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/*</code></div>
<div class="line"><code class="comments">        显示设备共有两种输出方式：OPAQUE和TRANSPARENT。</code></div>
<div class="line"><code class="comments">        OPAQUE是使用当前背景的画刷的颜色输出显示文字的背景</code></div>
<div class="line"><code class="comments">        TRANSPARENT是使用透明的输出，也就是文字的背景是不改变的。</code></div>
<div class="line"><code class="comments">    */</code></div>
<div class="line"><code class="plain">    dc.DrawText(</code><code class="string">"Click"</code><code class="plain">, &amp;rect, DT_CENTER|DT_VCENTER|DT_SINGLELINE); </code><code class="comments">// 该函数在指定的矩形里写入格式化的正文</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/*</code></div>
<div class="line"><code class="comments">        DT_CENTER：文本水平居中显示</code></div>
<div class="line"><code class="comments">        DT_VCENTER：文本垂直居中显示</code></div>
<div class="line"><code class="comments">        DT_SINGLELINE：文本单行显示</code></div>
<div class="line"><code class="comments">    */</code></div>
<div class="line"><code class="plain">}</code></div>
<div class="line"> </div>
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnLButtonDown(UINT nFlags, CPoint point) {</code></div>
<div class="line"><code class="plain">    </code><code class="comments">// 判断point的点是否在当前CRect的范围中</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">if</code><code class="plain"> (rect.PtInRect(point)) {</code></div>
<div class="line"><code class="plain">        dc.Draw3dRect(&amp;rect, RGB(</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">), RGB(</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">)); </code><code class="comments">// 增加动画效果</code></div>
<div class="line"><code class="plain">        AfxMessageBox(</code><code class="string">"Click"</code><code class="plain">);</code></div>
<div class="line"><code class="plain">        dc.Draw3dRect(&amp;rect, RGB(</code><code class="value">255</code><code class="plain">,</code><code class="value">255</code><code class="plain">,</code><code class="value">255</code><code class="plain">), RGB(</code><code class="value">128</code><code class="plain">,</code><code class="value">128</code><code class="plain">,</code><code class="value">128</code><code class="plain">)); </code><code class="comments">// 复原</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-28_1-26-1.png" alt="images/download/attachments/1015822/image2021-6-28_1-26-1.png" width="600"  />
    </p>
    </div>
    </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeS9v-eUqOeUu-WIt-OAgeeUu-eslOOAgeWtl-S9kw">
        <h2 class="heading "><span>&#20351;&#29992;&#30011;&#21047;&#12289;&#30011;&#31508;&#12289;&#23383;&#20307;</span></h2>
<p   
>&#22312;GDI&#20013;&#25105;&#20204;&#26377;&#30011;&#21047;&#65288;CBrush&#31867;&#65289;&#12289;&#30011;&#31508;&#65288;CPen&#31867;&#65289;&#12289;&#23383;&#20307;&#65288;CFont&#31867;&#65289;&#65292;&#22914;&#19978;&#26696;&#20363;&#20013;&#25105;&#20204;&#20351;&#29992;&#20102;&#30011;&#21047;&#26469;&#22635;&#20805;&#30697;&#24418;&#65292;&#37027;&#20040;&#20551;&#35774;&#35201;&#25913;&#21035;&#19968;&#20010;&#30697;&#24418;&#22235;&#36793;&#30340;&#32447;&#26465;&#65292;&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;&#30011;&#31508;&#26469;&#23436;&#25104;&#12290;</p>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLeeUu-eslO-8iOeUu-WIt-WQjOeQhuWPr-W-l--8iQ">
        <h3 class="heading "><span>&#30011;&#31508;&#65288;&#30011;&#21047;&#21516;&#29702;&#21487;&#24471;&#65289;</span></h3>
<p   
>&#30011;&#31508;&#20351;&#29992;<strong class=" ">CPen</strong>&#31867;&#21019;&#24314;&#65292;&#25105;&#20204;&#21487;&#20197;&#30452;&#25509;&#36890;&#36807;&#26500;&#36896;&#20989;&#25968;&#21435;&#21019;&#24314;&#19968;&#20010;&#30011;&#31508;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">CPen pen(PS_DASH, </code><code class="value">1</code><code class="plain">, RGB(</code><code class="value">255</code><code class="plain">,</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">));</code></div>
</div>
    </div>
<p   
>&#20854;&#19977;&#20010;&#21442;&#25968;&#20998;&#21035;&#26159;&#30011;&#31508;&#26679;&#24335;&#65306;&#34394;&#32447;&#12289;&#32447;&#26465;&#23485;&#24230;&#65306;1&#65288;<strong class=" ">&#27880;&#24847;&#20351;&#29992;&#38750;&#23454;&#32447;&#21482;&#33021;&#20351;&#29992;1</strong>&#65289;&#12289;&#30011;&#31508;&#39068;&#33394;&#65306;&#32418;&#33394;&#12290;</p>
<p   
>&#38500;&#20102;&#26500;&#36896;&#20989;&#25968;&#22806;&#25105;&#20204;&#36824;&#21487;&#20197;&#20351;&#29992;&#25104;&#21592;&#26041;&#27861;<strong class=" ">CreatePen</strong>&#26469;&#21019;&#24314;&#30011;&#31508;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">CPen pen;</code></div>
<div class="line"><code class="plain">pen.CreatePen(PS_DASH, </code><code class="value">1</code><code class="plain">, RGB(</code><code class="value">255</code><code class="plain">,</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">))</code></div>
</div>
    </div>
<p   
>&#21019;&#24314;&#30011;&#31508;&#24182;&#19981;&#20195;&#34920;&#30011;&#31508;&#34987;&#25105;&#20204;&#25152;&#20351;&#29992;&#20102;&#65292;&#35201;&#20351;&#29992;&#30340;&#35805;&#21017;&#38656;&#35201;<strong class=" ">SelectObject</strong>&#26469;&#20351;&#29992;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-28_1-43-9.png" alt="images/download/attachments/1015822/image2021-6-28_1-43-9.png" width="600"  />
    </p>
<p   
>&#24403;&#25105;&#20204;&#20351;&#29992;&#35813;&#20989;&#25968;&#26469;&#35774;&#32622;&#20102;&#30011;&#31508;&#65292;&#25105;&#20204;&#36824;&#38656;&#35201;&#20445;&#23384;&#19968;&#20010;&#21407;&#26469;&#30340;&#30011;&#31508;&#65292;&#22312;&#20351;&#29992;&#23436;&#20043;&#21518;&#24674;&#22797;&#21407;&#30011;&#31508;&#65288;<strong class=" ">&#21482;&#35201;&#20320;&#20351;&#29992;&#20102;SelectObject&#26041;&#27861;&#23601;&#19968;&#23450;&#35201;&#20445;&#23384;&#21407;&#20869;&#23481;&#26368;&#21518;&#36824;&#21407;</strong>&#65289;&#65292;&#36825;&#26159;&#22240;&#20026;&#65306;</p>
<ol class=" "><li class=" "><p   
>&#31383;&#21475;&#65288;&#35270;&#22270;&#65289;&#31867;&#65292;&#22312;&#20219;&#20309;&#22320;&#26041;&#65288;&#21253;&#25324;&#22522;&#30784;&#20195;&#30721;&#65289;&#37117;&#33021;&#33719;&#21462;DC&#24182;&#35843;&#25972;&#30011;&#31508;&#65292;&#20320;&#26080;&#27861;&#30830;&#35748;&#19978;&#27425;&#20351;&#29992;&#30340;&#30011;&#31508;&#26159;&#21542;&#34987;&#26356;&#25442;&#20102;</p>
</li><li class=" "><p   
>&#36890;&#24120;&#30011;&#31508;&#37117;&#26159;&#20351;&#29992;&#20020;&#26102;&#21464;&#37327;<strong class=" ">CPen</strong>&#65292;&#36825;&#26679;&#22312;&#20989;&#25968;&#25191;&#34892;&#21518;&#65292;&#36825;&#20010;&#30011;&#31508;&#20250;&#22833;&#25928;&#65292;&#22914;&#26524;&#19981;&#23558;OldPen&#25918;&#22238;&#21435;&#65292;&#20250;&#36896;&#25104;&#20869;&#23384;&#27844;&#38706;&#65288;&#24212;&#35813;&#37322;&#25918;&#20294;&#22240;DC&#32465;&#23450;&#32780;&#26080;&#27861;&#37322;&#25918;&#65292;&#19979;&#27425;&#25918;&#24323;&#20351;&#29992;&#30340;&#26102;&#20505;&#21448;&#26080;&#27861;&#21028;&#26029;&#26159;&#21542;&#24212;&#35813;&#37322;&#25918;&#65289;</p>
</li></ol><p   
>&#22240;&#20026;<strong class=" ">SelectObject</strong>&#26041;&#27861;&#36820;&#22238;&#30340;&#32467;&#26524;&#26159;&#26410;&#34987;&#26367;&#20195;&#21069;&#30340;<strong class=" ">CPen</strong>&#23545;&#35937;&#65288;&#25351;&#38024;&#65289;&#65292;&#25152;&#20197;&#25105;&#20204;&#21487;&#20197;&#36825;&#26679;&#20889;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnPaint() {</code></div>
<div class="line"><code class="plain">    CPaintDC dc(</code><code class="keyword">this</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    CRect rect(</code><code class="value">10</code><code class="plain">,</code><code class="value">10</code><code class="plain">,</code><code class="value">100</code><code class="plain">,</code><code class="value">50</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    CPen pen;</code></div>
<div class="line"><code class="plain">    CPen* oldPen;</code></div>
<div class="line"><code class="plain">    pen.CreatePen(PS_DASH, </code><code class="value">1</code><code class="plain">, RGB(</code><code class="value">255</code><code class="plain">,</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">)); </code><code class="comments">// 创建画笔，画笔样式为虚线，线条宽度(使用非实线只能使用1)，颜色为红色</code></div>
<div class="line"><code class="plain">    oldPen = dc.SelectObject(&amp;pen);</code></div>
<div class="line"><code class="plain">    dc.Rectangle(&amp;rect);</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    </code><code class="comments">// end</code></div>
<div class="line"><code class="plain">    dc.SelectObject(oldPen);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    <div class="section section-4" id="src-1015822_safe-id-TUZDLVRleHRPdXTlh73mlbDovpPlh7rmlofmnKw">
        <h4 class="heading "><span>TextOut&#20989;&#25968;&#36755;&#20986;&#25991;&#26412;</span></h4>
<p   
>&#25105;&#20204;&#20043;&#21069;&#20351;&#29992;<strong class=" ">DrawText</strong>&#20989;&#25968;&#36755;&#20986;&#25991;&#26412;&#65292;&#20854;&#21442;&#25968;&#36739;&#22810;&#65292;&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;<strong class=" ">TextOut</strong>&#20989;&#25968;&#26469;&#30465;&#30053;&#19968;&#20123;&#21442;&#25968;&#65292;&#20294;&#21516;&#26102;&#25105;&#20204;&#36824;&#38656;&#35201;&#20351;&#29992;<strong class=" ">SetTextAlign</strong>&#20989;&#25968;&#26469;&#35774;&#32622;&#25991;&#26412;&#23545;&#40784;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">dc.SetTextAlign(TA_CENTER); </code><code class="comments">// 设置文本对齐</code></div>
<div class="line"><code class="plain">dc.TextOut(rect.left, rect.top, </code><code class="string">"Test"</code><code class="plain">); </code><code class="comments">// x, y, 文字</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-28_2-1-42.png" alt="images/download/attachments/1015822/image2021-6-28_2-1-42.png" width="600"  />
    </p>
<p   
><strong class=" ">&#20010;&#20154;&#35265;&#35299;</strong>&#65306;&#35828;&#23454;&#35805;&#65292;&#36825;&#26679;&#30340;&#25928;&#26524;&#26377;&#20123;&#24046;&#24378;&#20154;&#24847;&#65292;&#36824;&#38656;&#35201;&#25105;&#20204;&#25163;&#21160;&#21435;&#35843;&#25972;&#65292;&#25165;&#33021;&#22312;&#30697;&#24418;&#20013;&#23545;&#40784;&#65292;&#25152;&#20197;&#22914;&#26524;&#20320;&#24819;&#22312;&#30697;&#24418;&#20013;&#23621;&#20013;&#23545;&#40784;&#24314;&#35758;&#20351;&#29992;<strong class=" ">DrawText</strong>&#20989;&#25968;&#12290;</p>
    </div>
    </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeWtl-S9kw">
        <h2 class="heading "><span>&#23383;&#20307;</span></h2>
<p   
>&#23383;&#20307;&#20351;&#29992;<strong class=" ">CFont</strong>&#31867;&#21019;&#24314;&#65292;&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;&#20854;&#25104;&#21592;&#26041;&#27861;<strong class=" ">CreatePointFont</strong>&#21435;&#21019;&#24314;&#19968;&#20010;&#23383;&#20307;&#26679;&#24335;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">CFont font;</code></div>
<div class="line"><code class="plain">font.CreatePointFont(</code><code class="value">2000</code><code class="plain">, </code><code class="string">"Tahoma"</code><code class="plain">);</code></div>
</div>
    </div>
<p   
>&#20854;&#21442;&#25968;&#20998;&#21035;&#20026;&#23383;&#20307;&#22823;&#23567;&#12289;&#23383;&#20307;&#21517;&#31216;&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-28_2-16-29.png" alt="images/download/attachments/1015822/image2021-6-28_2-16-29.png" width="600"  />
    </p>
<p   
>&#22914;&#26524;&#20320;&#24819;&#23383;&#20307;&#26679;&#24335;&#26356;&#33457;&#21736;&#19968;&#28857;&#65292;&#20363;&#22914;&#25903;&#25345;&#26012;&#20307;&#20043;&#31867;&#30340;&#65292;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;&#25104;&#21592;&#26041;&#27861;<strong class=" ">CreatePointFontIndirect</strong>&#65292;&#20854;&#21442;&#25968;&#26159;&#19968;&#20010;LOGFONT&#32467;&#26500;&#20307;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">CFont font;</code></div>
<div class="line"><code class="plain">LOGFONT lf;</code></div>
<div class="line"><code class="plain">memset(&amp;lf, </code><code class="value">0</code><code class="plain">, sizeof(lf)); </code><code class="comments">// 初始化，用0填充</code></div>
<div class="line"><code class="plain">lf.lfWeight = </code><code class="value">120</code><code class="plain">; </code><code class="comments">// 字体大小</code></div>
<div class="line"><code class="plain">lf.lfHeight = FW_BOLD; </code><code class="comments">// 字体宽度</code></div>
<div class="line"><code class="plain">lf.lfItalic = TRUE; </code><code class="comments">// 字体是否倾斜</code></div>
<div class="line"><code class="plain">strcpy(lf.lfFaceName, </code><code class="string">"Tahoma"</code><code class="plain">); </code><code class="comments">// 字体名称</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">font.CreatePointFontIndirect(&amp;lf);</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeivvuWQjuS9nOS4mi4z">
        <h2 class="heading "><span>&#35838;&#21518;&#20316;&#19994;</span></h2>
<p   
>&#30011;&#19968;&#20010;Excel&#34920;&#26684;&#30340;UI&#65292;&#26377;&#19968;&#35828;&#19968;&#36825;&#20010;&#35838;&#21518;&#20316;&#19994;&#30340;&#30446;&#26631;&#36824;&#26159;&#24456;&#26377;&#25361;&#25112;&#24615;&#30340;&#65292;&#20102;&#35299;&#20102;MFC&#30340;&#19968;&#20123;&#32454;&#33410;&#12290;</p>
<p   
>&#20195;&#30721;&#22914;&#19979;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnPaint() {</code></div>
<div class="line"><code class="plain">    CPaintDC dc(</code><code class="keyword">this</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    CBrush brush(RGB(</code><code class="value">128</code><code class="plain">, </code><code class="value">128</code><code class="plain">, </code><code class="value">128</code><code class="plain">));</code></div>
<div class="line"><code class="plain">    CBrush brushA(RGB(</code><code class="value">245</code><code class="plain">, </code><code class="value">245</code><code class="plain">, </code><code class="value">245</code><code class="plain">));</code></div>
<div class="line"><code class="plain">    CBrush* oldBrush = dc.SelectObject(&amp;brush);</code></div>
<div class="line"><code class="plain">    CRect clientRect;</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    GetClientRect(&amp;clientRect);</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    </code><code class="keyword">int</code><code class="plain"> i = </code><code class="value">0</code><code class="plain">;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">int</code><code class="plain"> tabWidth = </code><code class="value">100</code><code class="plain">;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">int</code><code class="plain"> tabHeight = </code><code class="value">20</code><code class="plain">;</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    CRect tableRect(</code><code class="value">25</code><code class="plain">,</code><code class="value">0</code><code class="plain">,</code><code class="value">125</code><code class="plain">,</code><code class="value">20</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    CRect rightTableRect(</code><code class="value">0</code><code class="plain">, </code><code class="value">0</code><code class="plain">, </code><code class="value">25</code><code class="plain">, </code><code class="value">20</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">char</code><code class="plain"> test[] = </code><code class="string">"ABCDEFGHIJKLMNOPQRSTUVWXYZ"</code><code class="plain">;</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="comments">// 设置字体</code></div>
<div class="line"><code class="plain">    dc.SetBkMode(TRANSPARENT);</code></div>
<div class="line"><code class="plain">    dc.SetTextAlign(TA_CENTER);</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="comments">// 设置表坐上角</code></div>
<div class="line"><code class="plain">    dc.Rectangle(&amp;rightTableRect);</code></div>
<div class="line"><code class="plain">    dc.Draw3dRect(&amp;rightTableRect, RGB(</code><code class="value">255</code><code class="plain">,</code><code class="value">255</code><code class="plain">,</code><code class="value">255</code><code class="plain">), RGB(</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">));</code></div>
<div class="line"><code class="plain">    dc.TextOut(rightTableRect.right/</code><code class="value">2</code><code class="plain">, </code><code class="value">1</code><code class="plain">, </code><code class="string">"\\"</code><code class="plain">);</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="keyword">do</code><code class="plain"> {</code></div>
<div class="line"><code class="plain">        </code><code class="comments">// 列、行循环创建</code></div>
<div class="line"><code class="plain">        tableRect.top = </code><code class="value">0</code><code class="plain">;</code></div>
<div class="line"><code class="plain">        tableRect.bottom = </code><code class="value">20</code><code class="plain">;</code></div>
<div class="line"><code class="plain">        dc.Rectangle(&amp;tableRect);</code></div>
<div class="line"><code class="plain">        dc.Draw3dRect(&amp;tableRect, RGB(</code><code class="value">255</code><code class="plain">,</code><code class="value">255</code><code class="plain">,</code><code class="value">255</code><code class="plain">), RGB(</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">));</code></div>
<div class="line"><code class="plain">        dc.SelectObject(&amp;brush);</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">int</code><code class="plain"> x = </code><code class="value">0</code><code class="plain">;</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">do</code><code class="plain"> {</code></div>
<div class="line"><code class="plain">            dc.Rectangle(&amp;tableRect);</code></div>
<div class="line"><code class="plain">            dc.Draw3dRect(&amp;tableRect, RGB(</code><code class="value">255</code><code class="plain">,</code><code class="value">255</code><code class="plain">,</code><code class="value">255</code><code class="plain">), RGB(</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">));</code></div>
<div class="line"><code class="plain">            tableRect.top += tabHeight;</code></div>
<div class="line"><code class="plain">            tableRect.bottom += tabHeight;</code></div>
<div class="line"><code class="plain">            dc.SelectObject(&amp;brushA);</code></div>
<div class="line"><code class="plain">            x++;</code></div>
<div class="line"><code class="plain">        } </code><code class="keyword">while</code><code class="plain"> (clientRect.bottom / x / tabHeight != </code><code class="value">0</code><code class="plain">);</code></div>
<div class="line"><code class="plain">        tableRect.left += tabWidth;</code></div>
<div class="line"><code class="plain">        tableRect.right += tabWidth;</code></div>
<div class="line"><code class="plain">        </code><code class="comments">// 写入表头字母</code></div>
<div class="line"><code class="plain">        dc.TextOut(</code><code class="value">75</code><code class="plain">+(i*tabWidth), </code><code class="value">1</code><code class="plain">, test[i]);</code></div>
<div class="line"><code class="plain">        i++;</code></div>
<div class="line"><code class="plain">    } </code><code class="keyword">while</code><code class="plain"> (clientRect.right / i / tabWidth != </code><code class="value">0</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    </code><code class="comments">// 行号</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">for</code><code class="plain"> (</code><code class="keyword">int</code><code class="plain"> b = </code><code class="value">1</code><code class="plain">; clientRect.right / b / tabHeight != </code><code class="value">0</code><code class="plain">; b++) {</code></div>
<div class="line"><code class="plain">        rightTableRect.top += tabHeight;</code></div>
<div class="line"><code class="plain">        rightTableRect.bottom += </code><code class="value">25</code><code class="plain">;</code></div>
<div class="line"><code class="plain">        dc.Rectangle(&amp;rightTableRect);</code></div>
<div class="line"><code class="plain">        dc.Draw3dRect(&amp;rightTableRect, RGB(</code><code class="value">255</code><code class="plain">,</code><code class="value">255</code><code class="plain">,</code><code class="value">255</code><code class="plain">), RGB(</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">,</code><code class="value">0</code><code class="plain">));</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">char</code><code class="plain"> c[</code><code class="value">2</code><code class="plain">];</code></div>
<div class="line"><code class="plain">        sprintf(c, </code><code class="string">"%d"</code><code class="plain">, b);</code></div>
<div class="line"><code class="plain">        dc.TextOut(</code><code class="value">12</code><code class="plain">, </code><code class="value">1</code><code class="plain">+(b*tabHeight), c);</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    dc.SelectObject(oldBrush);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-29_13-17-28.png" alt="images/download/attachments/1015822/image2021-6-29_13-17-28.png" width="600"  />
    </p>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLem8oOagh-a2iOaBrw">
        <h1 class="heading "><span>&#40736;&#26631;&#28040;&#24687;</span></h1>
<p   
>Window&#26377;20&#22810;&#31181;&#19981;&#21516;&#30340;&#28040;&#24687;&#29992;&#26469;&#25253;&#21578;&#19982;&#40736;&#26631;&#26377;&#20851;&#30340;&#36755;&#20837;&#20107;&#20214;&#65292;&#36825;&#20123;&#28040;&#24687;&#20998;&#20026;&#31383;&#21475;&#23458;&#25143;&#21306;&#28040;&#24687;&#21644;&#38750;&#23458;&#25143;&#21306;&#28040;&#24687;&#65292;&#36890;&#24120;&#25105;&#20204;&#21482;&#38656;&#35201;&#20851;&#24515;&#23458;&#25143;&#21306;&#28040;&#24687;&#12290;</p>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS45">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<ol class=" "><li class=" "><p   
>&#29702;&#35299;&#23458;&#25143;&#21306;&#40736;&#26631;&#28040;&#24687;&#21644;&#38750;&#23458;&#25143;&#21306;&#40736;&#26631;&#28040;&#24687;</p>
</li></ol>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeWuouaIt-WMuum8oOagh-a2iOaBrw">
        <h2 class="heading "><span>&#23458;&#25143;&#21306;&#40736;&#26631;&#28040;&#24687;</span></h2>
<p   
>&#22914;&#19979;&#34920;&#26684;&#20013;&#23601;&#26159;&#19968;&#20123;&#40736;&#26631;&#28040;&#24687;&#30340;&#21517;&#31216;&#21644;&#20854;&#23545;&#24212;&#21547;&#20041;&#65306;</p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>&#21517;&#31216;</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>&#21547;&#20041;</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>WM_LBUTTONDOWN</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#40736;&#26631;&#24038;&#38190;&#25353;&#19979;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>WM_LBUTTONUP</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#40736;&#26631;&#24038;&#38190;&#25260;&#36215;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>WM_LBUTTONDBLCLK</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#40736;&#26631;&#24038;&#38190;&#21452;&#20987;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>WM_MBUTTONDOWN</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#40736;&#26631;&#20013;&#38190;&#34987;&#25353;&#19979;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>WM_MBUTTONUP</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#40736;&#26631;&#20013;&#38190;&#25260;&#36215;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>WM_MBUTTONDBLCLK</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#40736;&#26631;&#20013;&#38190;&#21452;&#20987;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>WM_RBUTTONDOWN</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#40736;&#26631;&#21491;&#38190;&#25353;&#19979;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&hellip;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>..</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>WM_MOUSEMOVE</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#22312;&#31383;&#21475;&#23458;&#25143;&#21306;&#31227;&#21160;&#20102;&#20809;&#26631;</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
<p   
>&#25105;&#20204;&#20043;&#21069;&#23601;&#24050;&#32463;&#20351;&#29992;&#36807;&#40736;&#26631;&#24038;&#38190;&#25353;&#19979;&#36825;&#20010;&#28040;&#24687;&#20102;&#65292;&#21482;&#35201;&#20102;&#35299;&#40736;&#26631;&#23601;&#30693;&#36947;&#23545;&#24212;&#30340;&#28040;&#24687;&#26159;&#20160;&#20040;&#20102;&#12290;</p>
<p   
>&#40736;&#26631;&#28040;&#24687;&#20063;&#26377;&#23545;&#24212;&#30340;&#28040;&#24687;&#22788;&#29702;&#20989;&#25968;&#65292;&#36825;&#31181;&#20989;&#25968;&#37117;&#26159;&#22266;&#23450;&#30340;&#21517;&#31216;&#21644;&#21442;&#25968;&#65292;&#20854;&#20013;&#21442;&#25968;&#20026;&#65306;<u class=" "><strong class=" ">UINT nFlags, CPoint point</strong></u>&#65292;&#31532;&#20108;&#20010;&#21442;&#25968;&#25105;&#20204;&#24050;&#32463;&#20351;&#29992;&#36807;&#20102;&#65292;&#20854;&#23601;&#26159;&#19968;&#20010;&#35774;&#22791;&#22352;&#26631;&#65288;&#35270;&#21475;&#65289;&#65292;&#31532;&#19968;&#20010;&#21442;&#25968;&#34920;&#31034;&#25511;&#21046;&#38190;&#29366;&#24577;&#65292;&#20854;&#21487;&#20197;&#34920;&#31034;&#65306;ctrl&#38190;&#25353;&#19979;&#12289;&#40736;&#26631;&#24038;&#38190;&#25353;&#19979;&#12289;&#40736;&#26631;&#20013;&#38190;&#25353;&#19979;&#12289;&#40736;&#26631;&#21491;&#38190;&#25353;&#19979;&#12289;shift&#38190;&#25353;&#19979;&#12290;</p>
<p   
>&#22914;&#19979;&#22270;&#20013;&#26377;&#20854;&#23545;&#24212;&#35299;&#37322;&#21644;&#30456;&#20851;&#30340;&#23439;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-29_13-52-5.png" alt="images/download/attachments/1015822/image2021-6-29_13-52-5.png" width="600"  />
    </p>
<p   
>&#20551;&#35774;&#29616;&#22312;&#25105;&#20204;&#24819;&#35201;&#22312;&#40736;&#26631;&#24038;&#38190;&#25353;&#19979;&#30340;&#28040;&#24687;&#22788;&#29702;&#20989;&#25968;&#20013;&#21028;&#26029;&#24403;shift&#38190;&#25353;&#19979;&#21017;&#35302;&#21457;&#24377;&#26694;&#65292;&#21487;&#20197;&#36825;&#26679;&#20889;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnLButtonDown(UINT nFlags, CPoint point) {</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">if</code><code class="plain"> (nFlags &amp; MK_SHIFT) {</code></div>
<div class="line"><code class="plain">        AfxMessageBox(</code><code class="string">"123"</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLemdnuWuouaIt-WMuum8oOagh-a2iOaBrw">
        <h2 class="heading "><span>&#38750;&#23458;&#25143;&#21306;&#40736;&#26631;&#28040;&#24687;</span></h2>
<p   
>&#25105;&#20204;&#20102;&#35299;&#20102;&#23458;&#25143;&#21306;&#28040;&#24687;&#20043;&#21518;&#65292;&#23601;&#38656;&#35201;&#20102;&#35299;&#19968;&#19979;&#38750;&#23458;&#25143;&#21306;&#65292;&#38750;&#23458;&#25143;&#21306;&#23601;&#26159;&#22914;&#19979;&#22270;&#25152;&#31034;&#32418;&#26694;&#20043;&#22806;&#30340;&#21306;&#22495;&#23601;&#26159;&#38750;&#23458;&#25143;&#21306;&#65292;&#25105;&#20204;&#36825;&#31456;&#25152;&#20351;&#29992;&#30340;&#23454;&#38469;&#19978;&#26159;&#22522;&#20110;&#31383;&#21475;&#30340;&#38750;&#23458;&#25143;&#21306;&#65292;&#20063;&#23601;&#26159;&#32043;&#26694;&#21644;&#32418;&#26694;&#20013;&#38388;&#37027;&#19968;&#37096;&#20998;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-27_0-27-19.png" alt="images/download/attachments/1015822/image2021-6-27_0-27-19.png" width="600"  />
    </p>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLemdnuWuouaIt-WMuum8oOagh-a2iOaBr-WkhOeQhg">
        <h3 class="heading "><span>&#38750;&#23458;&#25143;&#21306;&#40736;&#26631;&#28040;&#24687;&#22788;&#29702;</span></h3>
<p   
>&#38750;&#23458;&#25143;&#21306;&#40736;&#26631;&#28040;&#24687;&#22788;&#29702;&#20854;&#23454;&#36319;&#25105;&#20204;&#20043;&#21069;&#20351;&#29992;&#30340;&#40736;&#26631;&#28040;&#24687;&#22788;&#29702;&#27809;&#26377;&#26412;&#36136;&#21306;&#21035;&#65292;&#21807;&#19968;&#30340;&#23601;&#26159;&#21517;&#23383;&#37324;&#22836;&#22810;&#20102;NC&#36825;&#20004;&#20010;&#23383;&#27597;&#65288;<strong class=" ">&#20010;&#20154;&#29702;&#35299;</strong>&#20026;&#38750;&#23458;&#25143;&#21306;&#33521;&#25991;<strong class=" ">Not Client Area</strong>&#30340;&#39318;&#23383;&#27597;&#32553;&#20889;&#65289;&#65292;&#20363;&#22914;&#38750;&#23458;&#25143;&#21306;&#30340;&#40736;&#26631;&#24038;&#38190;&#30456;&#20851;&#30340;&#23439;&#21644;&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image confluence-thumbnail"  src="images/download/thumbnails/1015822/image2021-6-29_14-18-24.png" alt="images/download/thumbnails/1015822/image2021-6-29_14-18-24.png" width="200"  />
 <img  class="confluence-embedded-image confluence-thumbnail"  src="images/download/thumbnails/1015822/image2021-6-29_14-18-38.png" alt="images/download/thumbnails/1015822/image2021-6-29_14-18-38.png" width="150"  />
</p>
<p   
>&#23454;&#38469;&#20351;&#29992;&#20063;&#27809;&#26377;&#26412;&#36136;&#24046;&#21035;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-29_14-23-28.png" alt="images/download/attachments/1015822/image2021-6-29_14-23-28.png" width="600"  />
    </p>
<p   
>&#20294;&#38656;&#35201;&#27880;&#24847;&#30340;&#26159;&#65292;&#36825;&#37324;&#25105;&#20204;&#38656;&#35201;&#21152;&#20837;&#19968;&#20010;&#29238;&#31867;&#30340;<strong class=" ">CFrameWnd::OnNcLButtonDown</strong>&#65292;&#36825;&#26159;&#22240;&#20026;&#22914;&#26524;&#19981;&#21152;&#20837;&#30340;&#35805;&#65292;&#24403;&#21069;&#28040;&#24687;&#22788;&#29702;&#20989;&#25968;&#23601;&#27809;&#27861;&#22788;&#29702;&#25918;&#22823;&#12289;&#32553;&#23567;&#12289;&#20851;&#38381;&#36825;&#20123;&#25353;&#38062;&#65292;&#32780;&#20250;&#19968;&#30452;&#35302;&#21457;&#24377;&#26694;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-29_14-28-38.png" alt="images/download/attachments/1015822/image2021-6-29_14-28-38.png" width="600"  />
    </p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-29_15-38-17.png" alt="images/download/attachments/1015822/image2021-6-29_15-38-17.png" width="600"  />
    </p>
<p   
>&#38750;&#23458;&#25143;&#21435;&#40736;&#26631;&#28040;&#24687;&#22788;&#29702;&#20989;&#25968;&#30340;&#31532;&#19968;&#20010;&#21442;&#25968;&#21487;&#20197;&#21028;&#26029;&#24456;&#22810;&#19996;&#35199;&#65292;&#20363;&#22914;&#31383;&#21475;&#32553;&#23567;&#12289;&#25918;&#22823;&#12289;&#20851;&#38381;&#25353;&#38062;&#20043;&#31867;&#30340;&#37117;&#26159;&#21487;&#20197;&#30340;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-29_15-48-19.png" alt="images/download/attachments/1015822/image2021-6-29_15-48-19.png" width="600"  />
    </p>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLVdNX05DSElUVEVTVOa2iOaBrw">
        <h3 class="heading "><span>WM_NCHITTEST&#28040;&#24687;</span></h3>
<p   
>&#36890;&#36807;&#19978;&#25991;&#22270;&#29255;&#20013;&#30340;&#20195;&#30721;&#27880;&#37322;&#21487;&#20197;&#21457;&#29616;&#36825;&#20123;&#23439;&#26159;&#23646;&#20110;<strong class=" ">WM_NCHITTEST</strong>&#21644;<strong class=" ">MOUSEHOOKSTRUCT</strong>&#30340;&#65292;&#31532;&#20108;&#20010;&#25105;&#20204;&#19981;&#29992;&#31649;&#65292;&#26469;&#30475;&#19979;&#31532;&#19968;&#20010;&#65292;&#20174;&#21629;&#21517;&#19978;&#23601;&#21487;&#20197;&#30475;&#30340;&#20986;&#26469;&#20854;&#26159;&#19968;&#20010;&#28040;&#24687;&#65292;&#20854;&#20195;&#34920;&#30340;&#20855;&#20307;&#28040;&#24687;&#20026;&#65306;&#20809;&#26631;&#31227;&#21160;&#21040;&#31383;&#20307;&#25110;&#40736;&#26631;&#25353;&#19979;&#12289;&#25260;&#36215;&#12290;</p>
<p   
>&#36825;&#20010;&#28040;&#24687;&#20248;&#20808;&#20110;&#25152;&#26377;&#20854;&#20182;&#30340;&#23458;&#25143;&#21306;&#22495;&#21644;&#38750;&#23458;&#25143;&#21306;&#22495;&#40736;&#26631;&#28040;&#24687;&#65292;Windows&#24212;&#29992;&#31243;&#24207;&#36890;&#24120;&#25226;&#28040;&#24687;&#20256;&#36865;&#32473;<strong class=" ">DefWindowProc</strong>&#20989;&#25968;&#65292;&#28982;&#21518;Windows&#29992;<strong class=" ">WM_NCHITTEST</strong>&#28040;&#24687;&#20135;&#29983;&#19982;&#40736;&#26631;&#20301;&#32622;&#30456;&#20851;&#30340;&#25152;&#26377;&#20854;&#20182;&#40736;&#26631;&#28040;&#24687;&#65292;&#36890;&#20439;&#30340;&#35762;&#23601;&#26159;<strong class=" ">&#20174;&#28040;&#24687;&#20135;&#29983;&#28040;&#24687;</strong>&#12290;</p>
<p   
>&#25105;&#20204;&#21487;&#20197;&#26469;&#23454;&#38469;&#20351;&#29992;&#19968;&#19979;&#36825;&#20010;&#28040;&#24687;&#65292;&#39318;&#20808;&#22312;&#28040;&#24687;&#26144;&#23556;&#34920;&#20013;&#21152;&#20837;&#35813;&#28040;&#24687;&#30340;&#26144;&#23556;&#65292;&#20854;&#27425;&#22312;&#31867;&#20013;&#22768;&#26126;&#23545;&#24212;&#28040;&#24687;&#22788;&#29702;&#20989;&#25968;&#65292;&#32780;&#21518;&#23454;&#29616;&#35813;&#20989;&#25968;&#21363;&#21487;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-29_17-7-3.png" alt="images/download/attachments/1015822/image2021-6-29_17-7-3.png" width="600"  />
    </p>
<p   
>&#25105;&#20204;&#21487;&#20197;&#23558;&#23458;&#25143;&#21306;&#21644;&#38750;&#23458;&#25143;&#21306;&#20570;&#19968;&#20010;&#36716;&#25442;&#20197;&#27492;&#23454;&#29616;&#22312;&#23458;&#25143;&#21306;&#20063;&#21487;&#20197;&#25302;&#21160;&#31383;&#21475;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">UINT CMainWindow::OnNcHitTest(CPoint point) {</code></div>
<div class="line"><code class="plain">    UINT ret;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">// 通过父类获取消息</code></div>
<div class="line"><code class="plain">    ret = CFrameWnd::OnNcHitTest(point);</code></div>
<div class="line"><code class="plain">    </code><code class="comments">// 判断消息是否是客户区，是的话则将该消息转为非客户区消息</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">if</code><code class="plain"> (ret &amp; HTCLIENT) {</code></div>
<div class="line"><code class="plain">        ret = HTCAPTION;</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">return</code><code class="plain"> ret;</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLem8oOagh-eUu-e6vw">
        <h2 class="heading "><span>&#40736;&#26631;&#30011;&#32447;</span></h2>
<p   
>&#25105;&#20204;&#21487;&#20197;&#20808;&#23454;&#29616;&#19968;&#20010;&#40736;&#26631;&#30011;&#32447;&#30340;&#38656;&#27714;&#65292;&#35201;&#27714;&#40736;&#26631;&#24038;&#38190;&#25353;&#19979;&#20026;&#36215;&#28857;&#30452;&#21040;&#40736;&#26631;&#25260;&#36215;&#20026;&#32456;&#28857;&#65292;&#20004;&#28857;&#19968;&#26465;&#30452;&#32447;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">CPoint testPoint; </code><code class="comments">// 定义一个全局的CPoint，用于存放鼠标左键按下时的坐标</code></div>
<div class="line"> </div>
<div class="line"><code class="comments">// 鼠标左键按下的消息处理函数，给全局的CPoint赋值</code></div>
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnLButtonDown(UINT nFlags, CPoint point) {</code></div>
<div class="line"><code class="plain">    testPoint = point;</code></div>
<div class="line"><code class="plain">}</code></div>
<div class="line"> </div>
<div class="line"><code class="comments">// 鼠标左键按下抬起的消息处理函数，MoveTo移动起始位置到testPoint的坐标，而后LineTo画线为鼠标左键抬起的位置</code></div>
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnLButtonUp(UINT nFlags, CPoint point) {</code></div>
<div class="line"><code class="plain">    CClientDC dc(</code><code class="keyword">this</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    dc.MoveTo(testPoint.x, testPoint.y);</code></div>
<div class="line"><code class="plain">    dc.LineTo(point.x, point.y);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
>&#27491;&#24120;&#30011;&#26159;&#27809;&#26377;&#38382;&#39064;&#30340;&#65292;&#20294;&#26159;&#25105;&#20204;&#40736;&#26631;&#25353;&#19979;&#20043;&#21518;&#22312;&#38750;&#23458;&#25143;&#21306;&#25260;&#36215;&#65292;&#36825;&#26679;&#23601;&#19981;&#20250;&#26377;&#19968;&#26465;&#30452;&#32447;&#20986;&#29616;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-30_15-1-20.png" alt="images/download/attachments/1015822/image2021-6-30_15-1-20.png" width="600"  />
    </p>
<p   
>&#22240;&#20026;&#25105;&#20204;&#20809;&#26631;&#24050;&#32463;&#31163;&#24320;&#23458;&#25143;&#21306;&#22495;&#20102;&#65292;&#25152;&#20197;&#35828;&#23427;&#25509;&#25910;&#19981;&#21040;&#40736;&#26631;&#24038;&#38190;&#25260;&#36215;&#30340;&#20449;&#24687;&#65292;&#25105;&#20204;&#21487;&#20197;&#20511;&#21161;&#20989;&#25968;<strong class=" ">SetCapture</strong>&#65292;&#35813;&#20989;&#25968;&#30340;&#24847;&#24605;&#23601;&#26159;&#22312;&#23646;&#20110;&#24403;&#21069;&#32447;&#31243;&#30340;&#25351;&#23450;&#31383;&#21475;&#37324;&#35774;&#32622;&#40736;&#26631;&#25429;&#33719;&#65292;&#19968;&#26086;&#31383;&#21475;&#25429;&#33719;&#20102;&#40736;&#26631;&#65292;&#25152;&#26377;&#40736;&#26631;&#36755;&#20837;&#37117;&#38024;&#23545;&#35813;&#31383;&#21475;&#65292;&#26080;&#35770;&#20809;&#26631;&#26159;&#21542;&#22312;&#23458;&#25143;&#21306;&#20869;&#65307;&#21516;&#26679;&#65292;&#23545;&#24212;&#30340;&#19968;&#20010;&#20989;&#25968;&#23601;&#26159;<strong class=" ">ReleaseCapture</strong>&#20989;&#25968;&#65292;&#24403;&#20320;&#19981;&#22312;&#38656;&#35201;&#32487;&#32493;&#33719;&#24471;&#40736;&#26631;&#28040;&#24687;&#23601;&#35201;&#24212;&#35813;&#35843;&#29992;&#23427;&#26469;&#37322;&#25918;&#65292;&#20294;&#22312;&#36825;&#37324;&#20320;&#35201;&#36890;&#36807;<strong class=" ">GetCapture</strong>&#26469;&#33719;&#21462;&#24403;&#21069;&#25429;&#33719;&#40736;&#26631;&#20449;&#24687;&#30340;&#31383;&#21475;&#30340;&#21477;&#26564;&#26469;&#21028;&#26029;&#26159;&#21542;&#26159;&#24403;&#21069;&#31383;&#21475;&#30340;&#21477;&#26564;&#65292;&#22914;&#26524;&#26159;&#21017;&#37322;&#25918;&#12290;</p>
<p   
>&#22914;&#19979;&#20026;&#25913;&#20889;&#21518;&#30340;&#20195;&#30721;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">CPoint testPoint;</code></div>
<div class="line"> </div>
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnLButtonDown(UINT nFlags, CPoint point) {</code></div>
<div class="line"><code class="plain">    SetCapture();</code></div>
<div class="line"><code class="plain">    testPoint = point;</code></div>
<div class="line"><code class="plain">}</code></div>
<div class="line"> </div>
<div class="line"><code class="keyword">void</code><code class="plain"> CMainWindow::OnLButtonUp(UINT nFlags, CPoint point) {</code></div>
<div class="line"><code class="plain">    CClientDC dc(</code><code class="keyword">this</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    dc.MoveTo(testPoint.x, testPoint.y);</code></div>
<div class="line"><code class="plain">    dc.LineTo(point.x, point.y);</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">if</code><code class="plain"> (GetCapture() == </code><code class="keyword">this</code><code class="plain">) {</code></div>
<div class="line"><code class="plain">        ReleaseCapture();</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-30_15-11-9.png" alt="images/download/attachments/1015822/image2021-6-30_15-11-9.png" width="600"  />
    </p>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLemUruebmOa2iOaBrw">
        <h1 class="heading "><span>&#38190;&#30424;&#28040;&#24687;</span></h1>
<p   
>Windows&#36890;&#36807;&#32473;&#25317;&#26377;&#36755;&#20837;&#28966;&#28857;&#30340;&#31383;&#21475;&#21457;&#36865;<strong class=" ">WM_KEYDOWN</strong>&#21644;<strong class=" ">WM_KEYUP</strong>&#28040;&#24687;&#26469;&#25253;&#38752;&#25353;&#38190;&#34987;&#25353;&#19979;&#36824;&#26159;&#37322;&#25918;&#20107;&#20214;&#65307;&#36825;&#20123;&#28040;&#24687;&#34987;&#31216;&#20026;&#25353;&#38190;&#28040;&#24687;&#12290;&#38500;&#20102;ALT&#21644;F10&#20197;&#22806;&#30340;&#25152;&#26377;&#38190;&#37117;&#20135;&#29983;&#25353;&#19979;&#21644;&#25260;&#36215;&#28040;&#24687;&#65292;ALT&#21644;F10&#26159;&#31995;&#32479;&#38190;&#65292;&#23545;Windows&#26377;&#29305;&#27530;&#24847;&#20041;&#12290;</p>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS4xMA">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<ol class=" "><li class=" "><p   
>Windows&#30340;&#38190;&#30424;&#28040;&#24687;&#21644;&#22788;&#29702;</p>
</li></ol>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLemUruebmOa2iOaBr-WkhOeQhuWHveaVsA">
        <h2 class="heading "><span>&#38190;&#30424;&#28040;&#24687;&#22788;&#29702;&#20989;&#25968;</span></h2>
<p   
>&#38190;&#30424;&#28040;&#24687;&#22788;&#29702;&#20989;&#25968;&#30340;&#26684;&#24335;&#19968;&#33324;&#20026;&#22914;&#19979;&#25152;&#31034;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">afx_msg </code><code class="keyword">void</code><code class="plain"> On消息名(UINT nChar, UINT nRepCnt, UINT nFlags);</code></div>
</div>
    </div>
<p   
>&#20854;&#26377;&#19977;&#20010;&#21442;&#25968;&#65292;&#31532;&#19968;&#20010;&#21442;&#25968;&#34920;&#31034;&#34394;&#25311;&#38190;&#30721;&#65288;&#23601;&#26159;&#20320;&#38190;&#30424;&#26576;&#20010;&#38190;&#23545;&#24212;&#30340;&#20195;&#30721;&#65289;&#65292;&#31532;&#20108;&#20010;&#21442;&#25968;&#34920;&#31034;&#37325;&#22797;&#25968;&#65292;&#31532;&#19977;&#20010;&#21442;&#25968;&#34920;&#31034;&#36890;&#36807;&#21462;&#20301;&#30340;&#26041;&#24335;&#26469;&#21015;&#20986;&#38646;&#20010;&#21644;&#22810;&#20010;&#26631;&#24535;&#20301;&#12290;</p>
<p   
>&#31532;&#19977;&#20010;&#21442;&#25968;&#34920;&#31034;&#26631;&#24535;&#20301;&#65292;&#20854;&#20301;&#25968;&#20063;&#26377;&#30456;&#24212;&#21547;&#20041;&#65306;</p>
    <div  class="tablewrap">
        <table class="relative-table wrapped confluenceTable">
                    <colgroup>
                                    <col  width="30.9278%"/>
                                    <col  width="69.0722%"/>
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>&#20301;&#25968;</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>&#21547;&#20041;</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>0-7</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>OEM&#25195;&#25551;&#30721;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>8</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#25193;&#23637;&#38190;&#26631;&#24535;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>9-12</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#20445;&#30041;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>14</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#20808;&#21069;&#29366;&#24577;&#65292;&#20808;&#21069;&#38190;&#34987;&#25353;&#19979;&#20026;1&#65292;&#25260;&#36215;&#20026;0</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>15</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#36807;&#28193;&#29366;&#24577;&#65292;&#34987;&#25353;&#19979;&#20026;0&#65292;&#37322;&#25918;&#20026;1</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
<p   
>&#21069;&#20004;&#20010;&#21442;&#25968;&#27604;&#36739;&#22909;&#29702;&#35299;&#65292;&#25105;&#20204;&#21487;&#20197;&#20889;&#20195;&#30721;&#26469;&#30475;&#19968;&#19979;&#31532;&#19977;&#20010;&#21442;&#25968;&#65292;&#36825;&#37324;&#25105;&#20204;&#29992;&#21040;&#30340;&#26159;<strong class=" ">WM_KEYDOWN</strong>&#28040;&#24687;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-30_16-44-13.png" alt="images/download/attachments/1015822/image2021-6-30_16-44-13.png" width="600"  />
    </p>
<p   
>&#39318;&#20808;&#21028;&#26029;&#25353;&#19979;&#30340;&#38190;&#26159;&#21542;&#26159;CTRL&#38190;&#65292;&#20854;&#27425;&#24038;&#31227;14&#20301;&#26469;&#33719;&#21462;&#36825;&#20010;&#20540;&#65292;&#25105;&#20204;&#30693;&#36947;&#31532;14&#20301;&#33719;&#24471;&#30340;&#26159;&#20808;&#21069;&#29366;&#24577;&#65292;&#20808;&#21069;&#38190;&#34987;&#25353;&#19979;&#20026;1&#65292;&#25260;&#36215;&#20026;0&#65292;&#25105;&#20204;&#25353;&#19968;&#19979;CTRL&#38190;&#28982;&#21518;&#25260;&#36215;&#30475;&#30475;&#32467;&#26524;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-30_16-46-37.png" alt="images/download/attachments/1015822/image2021-6-30_16-46-37.png" width="600"  />
    </p>
<p   
>&#32467;&#26524;&#20026;0&#65292;&#37027;&#25105;&#20204;&#19968;&#30452;&#25353;&#30528;CTRL&#38190;&#19981;&#25260;&#36215;&#22312;&#30475;&#19968;&#19979;&#65292;&#32467;&#26524;&#23601;&#20026;1&#20102;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-30_16-47-23.png" alt="images/download/attachments/1015822/image2021-6-30_16-47-23.png" width="600"  />
    </p>
<p   
>&#25152;&#20197;&#25105;&#20204;&#21487;&#20197;&#26681;&#25454;&#36825;&#20010;&#26469;&#21028;&#26029;&#35813;&#38190;&#26377;&#27809;&#26377;&#26494;&#24320;&#12290;</p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLVdNX0NIQVLmtojmga8">
        <h2 class="heading "><span>WM_CHAR&#28040;&#24687;</span></h2>
<p   
>&#20043;&#21069;&#25105;&#20204;&#21487;&#20197;&#20102;&#35299;&#20102;&#38190;&#30424;&#28040;&#24687;&#22788;&#29702;&#20989;&#25968;&#30340;&#20960;&#20010;&#21442;&#25968;&#65292;&#31532;&#19968;&#20010;&#21442;&#25968;&#21487;&#20197;&#29992;&#26469;&#33719;&#21462;&#38190;&#30424;&#25353;&#19979;&#30340;&#38190;&#65292;&#24182;&#19988;&#20351;&#29992;<strong class=" ">WM_KEYDOWN</strong>&#28040;&#24687;&#26469;&#20351;&#29992;&#20102;&#65292;&#20294;&#26159;&#36825;&#26377;&#19968;&#20010;&#38382;&#39064;&#65292;&#23601;&#26159;&#36890;&#36807;<strong class=" ">WM_KEYDOWN</strong>&#28040;&#24687;&#23545;&#24212;&#22788;&#29702;&#20989;&#25968;&#33719;&#21462;&#30340;&#38190;&#21482;&#26159;&#38024;&#23545;&#23383;&#31526;&#38190;&#30340;&#27704;&#36828;&#37117;&#26159;&#22823;&#20889;&#30340;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-30_16-54-5.png" alt="images/download/attachments/1015822/image2021-6-30_16-54-5.png" width="600"  />
    </p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-30_16-53-52.png" alt="images/download/attachments/1015822/image2021-6-30_16-53-52.png" width="600"  />
    </p>
<p   
>&#25152;&#20197;&#22914;&#26524;&#23545;&#22823;&#23567;&#20889;&#24456;&#20005;&#35880;&#30340;&#35805;&#21487;&#20197;&#20351;&#29992;<strong class=" ">WM_CHAR</strong>&#28040;&#24687;&#20197;&#21450;&#20854;&#23545;&#24212;&#28040;&#24687;&#22788;&#29702;&#20989;&#25968;&#26469;&#33719;&#21462;&#65292;&#25442;&#32780;&#35328;&#20043;&#65292;<strong class=" ">WM_CHAR</strong>&#28040;&#24687;&#23601;&#26159;&#19987;&#38376;&#26469;&#22788;&#29702;&#36825;&#31181;&#23383;&#31526;&#38190;&#30340;&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-30_16-59-41.png" alt="images/download/attachments/1015822/image2021-6-30_16-59-41.png" width="600"  />
    </p>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLeWvueivneahhg">
        <h1 class="heading "><span>&#23545;&#35805;&#26694;</span></h1>
<p   
>&#23545;&#35805;&#26694;&#23454;&#38469;&#19978;&#23601;&#26159;&#19968;&#20010;&#31383;&#21475;&#65292;&#23427;&#19981;&#20165;&#21487;&#20197;&#25509;&#25910;&#28040;&#24687;&#65292;&#32780;&#19988;&#36824;&#21487;&#20197;&#34987;&#31227;&#21160;&#12289;&#20851;&#38381;&#21644;&#22312;&#23427;&#30340;&#23458;&#25143;&#21306;&#22495;&#36827;&#34892;&#32472;&#22270;&#65307;&#25105;&#20204;&#21487;&#20197;&#25226;&#23427;&#30475;&#25104;&#26159;&#19968;&#20010;&#22823;&#23481;&#22120;&#65292;&#22312;&#23427;&#19978;&#38754;&#33021;&#22815;&#25918;&#32622;&#21508;&#31181;&#21508;&#26679;&#30340;&#25511;&#20214;&#65292;&#20351;&#31243;&#24207;&#25903;&#25345;&#29992;&#25143;&#36755;&#20837;&#30340;&#25163;&#27573;&#26356;&#20016;&#23500;&#12290;</p>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS4xMQ">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<ol class=" "><li class=" "><p   
>&#23545;&#21521;&#23548;&#29983;&#25104;&#30340;&#23545;&#35805;&#26694;&#24037;&#31243;&#36827;&#34892;&#32467;&#26500;&#20998;&#26512;</p>
</li><li class=" "><p   
>&#20102;&#35299;GDI&#30340;&#30011;&#31508;&#12289;&#30011;&#21047;&#20197;&#21450;&#23383;&#20307;</p>
</li></ol>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeWQkeWvvOeUn-aIkOeahOWvueivneahhuW3peeoiw">
        <h2 class="heading "><span>&#21521;&#23548;&#29983;&#25104;&#30340;&#23545;&#35805;&#26694;&#24037;&#31243;</span></h2>
<p   
>&#25353;&#22914;&#19979;&#22270;&#25152;&#31034;&#21019;&#24314;&#23545;&#35805;&#26694;&#24037;&#31243;&#21363;&#21487;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-30_17-56-43.png" alt="images/download/attachments/1015822/image2021-6-30_17-56-43.png" width="600"  />
    </p>
<p   
>&#38656;&#35201;&#27880;&#24847;&#30340;&#26159;&#25105;&#20204;&#29983;&#25104;&#20102;&#24037;&#31243;&#65292;&#20854;&#26377;&#19968;&#20010;&#22836;&#25991;&#20214;<strong class=" ">stdafx.h</strong>&#65292;&#35813;&#25991;&#20214;&#19968;&#23450;&#35201;&#25918;&#22312;&#31532;&#19968;&#34892;&#21435;&#20351;&#29992;&#65292;&#22240;&#20026;&#22312;&#20351;&#29992;&#35813;&#25991;&#20214;&#20043;&#21069;&#30340;&#65292;VC6&#32534;&#35793;&#22120;&#26159;&#19981;&#20250;&#23558;&#20854;&#21435;&#21442;&#19982;&#32534;&#35793;&#30340;&#65292;&#32780;&#26159;&#36873;&#25321;&#24573;&#35270;&#25481;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-30_18-2-55.png" alt="images/download/attachments/1015822/image2021-6-30_18-2-55.png" width="600"  />
    </p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-6-30_18-4-26.png" alt="images/download/attachments/1015822/image2021-6-30_18-4-26.png" width="600"  />
    </p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLee7k-aehOWIhuaekA">
        <h2 class="heading "><span>&#32467;&#26500;&#20998;&#26512;</span></h2>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLeWunuS-i-WMluWvueixoQ">
        <h3 class="heading "><span>&#23454;&#20363;&#21270;&#23545;&#35937;</span></h3>
<p   
>&#39318;&#20808;&#25105;&#20204;&#26469;&#30475;&#19979;<strong class=" ">HelloDialog.cpp</strong>&#25991;&#20214;&#65292;&#22312;&#36825;&#20010;&#25991;&#20214;&#20013;&#25105;&#20204;&#21487;&#20197;&#30475;&#35265;<strong class=" ">theApp</strong>&#36825;&#20040;&#19968;&#20010;&#29087;&#24713;&#30340;&#21517;&#23383;&#65292;&#36890;&#36807;&#35813;&#21517;&#23383;&#25105;&#20204;&#23601;&#21487;&#20197;&#30693;&#36947;&#36825;&#20010;&#25991;&#20214;&#23454;&#38469;&#19978;&#23601;&#26159;&#29992;&#26469;&#23454;&#20363;&#21270;&#30340;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_18-20-9.png" alt="images/download/attachments/1015822/image2021-7-1_18-20-9.png" width="600"  />
    </p>
<p   
>&#35813;&#20195;&#30721;&#21644;&#20197;&#21069;&#25105;&#20204;&#20889;&#30340;&#24037;&#31243;&#26159;&#27809;&#26377;&#21306;&#21035;&#30340;&#65292;&#23427;&#30340;<strong class=" ">CHelloDialogApp::InitInstance</strong>&#20989;&#25968;&#23601;&#26159;&#21021;&#22987;&#21270;&#19968;&#20010;&#23545;&#35805;&#26694;&#65292;&#21516;&#26679;&#25105;&#20204;&#21487;&#20197;&#26681;&#25454;MFC&#23618;&#27425;&#32467;&#26500;&#22270;&#30475;&#35265;&#20854;&#19982;<strong class=" ">CFrameWnd</strong>&#36890;&#29992;&#32487;&#25215;&#20110;CWnd&#65292;&#25442;&#32780;&#35328;&#20043;&#20854;&#23454;&#20004;&#32773;&#27809;&#26377;&#20160;&#20040;&#21306;&#21035;&#65292;&#26080;&#38750;&#23601;&#26159;&#34920;&#29616;&#20986;&#26469;&#30340;&#24418;&#24335;&#19981;&#19968;&#26679;&#32610;&#20102;&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_18-25-45.png" alt="images/download/attachments/1015822/image2021-7-1_18-25-45.png" width="600"  />
    </p>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLeS4u-eql-WPow">
        <h3 class="heading "><span>&#20027;&#31383;&#21475;</span></h3>
<p   
>&#20027;&#31383;&#21475;&#25991;&#20214;&#26159;<strong class=" ">HelloDialogDlg.cpp</strong>&#65292;&#22312;&#37324;&#38754;&#25105;&#20204;&#21487;&#20197;&#30475;&#35265;&#29087;&#24713;&#30340;&#28040;&#24687;&#26144;&#23556;&#20197;&#21450;&#30456;&#20851;&#30340;&#28040;&#24687;&#22788;&#29702;&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_18-29-5.png" alt="images/download/attachments/1015822/image2021-7-1_18-29-5.png" width="600"  />
    </p>
<p   
>&#25509;&#30528;&#21521;&#19979;&#30475;&#23601;&#20250;&#21457;&#29616;&#19968;&#20010;&#27880;&#37322;&#20889;&#30528;&#22312;&#36825;&#37324;&#28155;&#21152;&#39069;&#22806;&#30340;&#21021;&#22987;&#21270;&#20195;&#30721;&#65292;&#20063;&#23601;&#26159;<strong class=" ">CHelloDialogDlg::OnInitDialog</strong>&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_18-30-24.png" alt="images/download/attachments/1015822/image2021-7-1_18-30-24.png" width="600"  />
    </p>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLei1hOa6kOiEmuacrA">
        <h3 class="heading "><span>&#36164;&#28304;&#33050;&#26412;</span></h3>
<p   
>&#20854;&#23454;&#22312;&#21019;&#24314;&#23436;&#39033;&#30446;&#30340;&#26102;&#20505;&#23601;&#24212;&#35813;&#24863;&#35273;&#21040;&#26377;&#19968;&#20010;&#25991;&#20214;&#38750;&#24120;&#30340;&#26174;&#30524;&#65292;&#37027;&#23601;&#26159;<strong class=" ">HelloDialog.rc</strong>&#65292;&#36825;&#20010;&#25991;&#20214;&#20174;&#27809;&#35265;&#36807;&#65292;&#20854;&#34920;&#31034;&#30340;&#26159;&#36164;&#28304;&#33050;&#26412;&#25991;&#20214;&#65292;&#26377;&#20102;&#36825;&#20010;&#25991;&#20214;&#25105;&#20204;&#23601;&#21487;&#20197;&#28155;&#21152;&#22270;&#26631;&#12289;&#29256;&#26412;&#20449;&#24687;&#31561;&#31561;&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_18-32-48.png" alt="images/download/attachments/1015822/image2021-7-1_18-32-48.png" width="600"  />
    </p>
<p   
>&#22312;VC6&#20013;&#27809;&#27861;&#30452;&#25509;&#25171;&#24320;&#36825;&#20010;RC&#25991;&#20214;&#65292;&#20294;&#26159;&#25105;&#20204;&#21487;&#20197;&#22312;&#22806;&#37096;&#20351;&#29992;&#35760;&#20107;&#26412;&#21435;&#25171;&#24320;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_18-36-45.png" alt="images/download/attachments/1015822/image2021-7-1_18-36-45.png" width="600"  />
    </p>
<p   
>&#22312;&#36825;&#37324;&#25105;&#20204;&#23601;&#21487;&#20197;&#24456;&#28165;&#26224;&#30340;&#30475;&#35265;&#20351;&#29992;&#30340;&#23383;&#20307;&#65292;&#31383;&#21475;&#21517;&#23383;&#20043;&#31867;&#30340;&#20449;&#24687;&#65292;&#24403;&#28982;&#36825;&#20123;&#20449;&#24687;&#25105;&#20204;&#20063;&#21487;&#20197;&#36890;&#36807;VC6&#30452;&#25509;&#21435;&#30475;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_18-38-25.png" alt="images/download/attachments/1015822/image2021-7-1_18-38-25.png" width="600"  />
    </p>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLURvRGF0YUV4Y2hhbmdl5Ye95pWw">
        <h3 class="heading "><span>DoDataExchange&#20989;&#25968;</span></h3>
<p   
>&#22312;&#20027;&#31383;&#21475;&#25991;&#20214;&#20013;&#23384;&#22312;&#19968;&#20010;&#20989;&#25968;&#65292;&#20854;&#21517;&#20026;<strong class=" ">CHelloDialogDlg::DoDataExchange</strong>&#65292;&#36825;&#26159;&#29992;&#26469;&#23454;&#29616;&#21160;&#24577;&#32465;&#23450;&#30340;&#65292;&#25105;&#20204;&#21487;&#20197;&#26469;&#20030;&#20363;&#35828;&#26126;&#19979;&#21160;&#24577;&#32465;&#23450;&#30340;&#24847;&#24605;&#12290;</p>
<p   
>&#39318;&#20808;&#22312;VC6&#20013;&#21435;&#32472;&#30011;&#20004;&#20010;&#25511;&#20214;&#65306;&#32534;&#36753;&#26694;&#21644;&#25353;&#38062;&#65288;&#20174;&#26049;&#36793;&#30340;Controls&#25302;&#36807;&#21435;&#23601;&#34892;&#65289;&#65292;&#28982;&#21518;&#25105;&#38656;&#35201;&#21333;&#20987;&#25353;&#38062;&#23601;&#21487;&#20197;&#25913;&#21464;&#32534;&#36753;&#26694;&#30340;&#20869;&#23481;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_18-45-5.png" alt="images/download/attachments/1015822/image2021-7-1_18-45-5.png" width="600"  />
    </p>
<p   
>&#21452;&#20987;&#26032;&#24314;&#30340;&#36825;&#20010;&#25353;&#38062;&#65292;&#38543;&#20415;&#21462;&#20320;&#24819;&#35201;&#30340;&#25353;&#38062;&#20107;&#20214;&#22788;&#29702;&#20989;&#25968;&#21517;&#31216;&#28982;&#21518;&#20889;&#23545;&#24212;&#30340;&#20195;&#30721;&#65292;&#22914;&#19979;&#20195;&#30721;&#20013;&#20351;&#29992;&#20102;<strong class=" ">GetDlgItem</strong>&#20989;&#25968;&#65292;&#35813;&#20989;&#25968;&#26159;&#26681;&#25454;&#25511;&#20214;ID&#26469;&#33719;&#21462;&#25511;&#20214;&#30340;&#21477;&#26564;&#65292;&#32780;&#21518;&#20877;&#29992;&#20854;&#20869;&#37096;&#26041;&#27861;<strong class=" ">SetWindowText</strong>&#26469;&#25913;&#20889;&#32534;&#36753;&#26694;&#30340;&#20869;&#23481;&#65292;&#25511;&#20214;ID&#25105;&#20204;&#21487;&#20197;&#28857;<strong class=" ">&#21491;&#38190;&#36873;&#25321;&#25511;&#20214;&rarr;Properties</strong>&#26469;&#33719;&#21462;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_18-49-54.png" alt="images/download/attachments/1015822/image2021-7-1_18-49-54.png" width="600"  />
    </p>
<p   
>&#38500;&#27492;&#20043;&#22806;&#25105;&#20204;&#35774;&#32622;&#32534;&#36753;&#26694;&#30340;&#20869;&#23481;&#65292;&#25105;&#20204;&#36824;&#21487;&#20197;&#29992;&#21035;&#30340;&#26041;&#27861;&#20063;&#23601;&#26159;&#21160;&#24577;&#32465;&#23450;&#30340;&#24605;&#36335;&#26469;&#20462;&#25913;&#12290;</p>
<p   
>&#39318;&#20808;&#28857;<strong class=" ">&#21491;&#38190;&#36873;&#25321;&#25511;&#20214;&rarr;ClassWizard</strong>&#65292;&#25353;&#19979;&#22270;&#25805;&#20316;&#21363;&#21487;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_19-2-36.png" alt="images/download/attachments/1015822/image2021-7-1_19-2-36.png" width="600"  />
    </p>
<p   
>&#32780;&#21518;&#23601;&#21487;&#20197;&#30452;&#25509;&#22312;&#20195;&#30721;&#20013;&#20351;&#29992;&#35813;&#21464;&#37327;&#21363;&#21487;&#29992;<strong class=" ">SetWindowText</strong>&#20989;&#25968;&#26469;&#20462;&#25913;&#32534;&#36753;&#26694;&#20869;&#23481;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_19-3-30.png" alt="images/download/attachments/1015822/image2021-7-1_19-3-30.png" width="600"  />
    </p>
<p   
>&#28982;&#21518;&#25105;&#20204;&#22238;&#21040;<strong class=" ">DoDataExchange</strong>&#20989;&#25968;&#65292;&#20195;&#30721;&#20013;&#22810;&#20102;&#19968;&#20010;<strong class=" ">DDX_Control</strong>&#20989;&#25968;&#65292;&#36825;&#26159;&#36825;&#26159;&#22240;&#20026;&#25105;&#20204;&#21018;&#21018;&#23450;&#20041;&#30340;&#26102;&#20505;<strong class=" ">Category</strong>&#36873;&#25321;&#30340;&#23601;&#26159;<strong class=" ">Control</strong>&#31867;&#22411;&#65292;&#20854;&#20316;&#29992;&#23601;&#26159;&#23558;&#25105;&#20204;&#30340;<strong class=" ">IDC_EDIT1</strong>&#25511;&#20214;&#21644;<strong class=" ">m_edit1</strong>&#21464;&#37327;&#20851;&#32852;&#36215;&#26469;&#65292;&#36825;&#26102;&#20505;&#25105;&#20204;&#25805;&#20316;<strong class=" ">m_edit1</strong>&#23601;&#20250;&#25913;&#21464;<strong class=" ">IDC_EDIT1</strong>&#36825;&#20010;&#25511;&#20214;&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_19-4-43.png" alt="images/download/attachments/1015822/image2021-7-1_19-4-43.png" width="600"  />
    </p>
<p   
>&#38500;&#20102;&#21487;&#20197;&#22312;&#23450;&#20041;&#30340;&#26102;&#20505;<strong class=" ">Category</strong>&#36873;&#25321;&#20026;<strong class=" ">Control</strong>&#31867;&#22411;&#65292;&#25105;&#20204;&#36824;&#21487;&#20197;&#30452;&#25509;&#35753;&#20854;&#25104;&#20026;&#19968;&#20010;&#23383;&#31526;&#20018;<strong class=" ">CString</strong>&#31867;&#22411;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_19-9-59.png" alt="images/download/attachments/1015822/image2021-7-1_19-9-59.png" width="600"  />
    </p>
<p   
>&#36825;&#26679;&#25105;&#20204;&#22312;&#20195;&#30721;&#20013;&#23601;&#21487;&#20197;&#30452;&#25509;&#21435;&#36171;&#20540;&#20462;&#25913;&#32534;&#36753;&#26694;&#20869;&#23481;&#65292;&#20294;&#38656;&#27880;&#24847;&#25105;&#20204;&#22312;&#20195;&#30721;&#20043;&#21518;&#35201;&#21152;&#19978;<strong class=" ">UpdateData</strong>&#20989;&#25968;&#25165;&#21487;&#20197;&#29983;&#25928;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_19-11-12.png" alt="images/download/attachments/1015822/image2021-7-1_19-11-12.png" width="600"  />
    </p>
<p   
><strong class=" ">UpdateData</strong>&#20989;&#25968;&#30340;&#21442;&#25968;&#20540;&#20026;&#24067;&#23572;&#31867;&#22411;&#65292;&#20063;&#23601;&#26159;&#38750;<strong class=" ">TRUE</strong>&#21363;<strong class=" ">FALSE</strong>&#65292;&#20026;&#20160;&#20040;&#36825;&#37324;&#26159;<strong class=" ">FALSE</strong>&#21602;&#65292;&#36825;&#26159;&#22240;&#20026;&#36825;&#20010;&#20540;&#20026;<strong class=" ">FALSE</strong>&#21017;&#34920;&#31034;&#20462;&#25913;&#32534;&#36753;&#26694;&#30340;&#20869;&#23481;&#65292;&#32780;&#20540;&#20026;<strong class=" ">TRUE</strong>&#21017;&#34920;&#31034;&#23558;&#32534;&#36753;&#26694;&#30340;&#20869;&#23481;&#32473;&#21040;&#21464;&#37327;&#12290;</p>
<p   
>&#21487;&#20197;&#36890;&#36807;&#36890;&#36807;&#20195;&#30721;&#26469;&#35777;&#26126;&#36825;&#19968;&#28857;&#65292;&#36825;&#20010;&#20540;&#37117;&#26159;&#30001;&#25105;&#20204;&#20043;&#21069;&#21019;&#24314;&#30340;<strong class=" ">m_edit1</strong>&#21464;&#37327;&#26469;&#20256;&#36882;&#30340;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_20-37-16.png" alt="images/download/attachments/1015822/image2021-7-1_20-37-16.png" width="600"  />
    </p>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLURvTW9kYWzlh73mlbA">
        <h3 class="heading "><span>DoModal&#20989;&#25968;</span></h3>
<p   
>&#22238;&#21040;&#23454;&#20363;&#21270;&#23545;&#35937;&#30340;&#30456;&#20851;CPP&#25991;&#20214;&#65292;&#26469;&#30475;&#19968;&#19979;<strong class=" ">DoModal</strong>&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_18-20-9.png" alt="images/download/attachments/1015822/image2021-7-1_18-20-9.png" width="600"  />
    </p>
<p   
>&#35813;&#20989;&#25968;&#23601;&#26159;&#19968;&#20010;&#27169;&#24577;&#23545;&#35805;&#26694;&#65292;&#35813;&#20989;&#25968;&#23601;&#23454;&#29616;&#20102;&#19968;&#20010;&#23545;&#35805;&#26694;&#30340;&#21021;&#22987;&#21270;&#12289;&#21628;&#20986;&#23545;&#35805;&#26694;&#20197;&#21450;&#19968;&#20010;&#28040;&#24687;&#24490;&#29615;&#12290;</p>
<p   
><strong class=" ">&#27169;&#24577;&#23545;&#35805;&#26694;&#30340;&#24847;&#24605;</strong>&#65306;&#26159;&#25351;&#22312;&#29992;&#25143;&#24819;&#35201;&#23545;&#23545;&#35805;&#26694;&#20197;&#22806;&#30340;&#24212;&#29992;&#31243;&#24207;&#36827;&#34892;&#25805;&#20316;&#26102;&#65292;&#24517;&#39035;&#39318;&#20808;&#23545;&#35813;&#23545;&#35805;&#26694;&#36827;&#34892;&#21709;&#24212;&#65292;&#22914;&#21333;&#20987;&#12304;&#30830;&#23450;&#12305;&#25110;&#12304;&#21462;&#28040;&#12305;&#25353;&#38062;&#20043;&#21518;&#65292;&#23558;&#35813;&#23545;&#35805;&#26694;&#20851;&#38381;&#12290;</p>
<p   
>&#20854;&#20250;&#36820;&#22238;&#19968;&#20010;&#20540;&#65292;&#20063;&#23601;&#26159;&#36825;&#37324;&#30340;&#30830;&#23450;&#65288;IDOK&#65289;&#21644;&#21462;&#28040;&#65288;IDCANCEL&#65289;&#65292;&#25105;&#20204;&#23601;&#21487;&#20197;&#29992;&#23427;&#26469;&#22312;&#25105;&#20204;&#31243;&#24207;&#20986;&#29616;&#30340;&#26102;&#20505;&#20570;&#19968;&#20010;&#39564;&#35777;&#26469;&#36820;&#22238;&#29992;&#25143;&#30830;&#23450;&#25110;&#21462;&#28040;&#30340;&#32467;&#26524;&#12290;</p>
<p   
>&#27169;&#24577;&#23545;&#35805;&#26694;&#26377;&#19968;&#20010;&#29305;&#28857;&#65292;&#24403;&#25105;&#20204;&#35843;&#29992;&#20102;&#19968;&#20010;&#26032;&#30340;&#23545;&#35805;&#26694;&#20043;&#21518;&#65292;&#25105;&#20204;&#26159;&#27809;&#27861;&#20877;&#21435;&#28857;&#20987;&#31532;&#19968;&#20010;&#23545;&#35805;&#26694;&#30340;&#65292;&#21482;&#33021;&#31561;&#26032;&#30340;&#23545;&#35805;&#26694;&#32467;&#26463;&#25165;&#21487;&#20197;&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_21-4-7.png" alt="images/download/attachments/1015822/image2021-7-1_21-4-7.png" width="600"  />
    </p>
<p   
>&#22914;&#26524;&#20320;&#24819;&#21019;&#24314;&#19968;&#20010;&#38750;&#27169;&#24577;&#23545;&#35805;&#26694;&#21487;&#20197;&#20351;&#29992;&#25105;&#20204;&#20043;&#21069;&#20889;&#30340;CFrameWnd&#30340;&#26041;&#24335;&#65292;&#20808;&#25191;&#34892;Create&#20989;&#25968;&#28982;&#21518;ShowWindow&#65292;&#20294;&#26159;&#36825;&#26679;&#26159;&#19981;&#34892;&#30340;&#65292;&#22240;&#20026;&#25105;&#20204;&#36825;&#26679;&#21019;&#24314;&#30340;&#26159;&#19968;&#20010;&#23616;&#37096;&#21464;&#37327;&#65292;&#34429;&#28982;&#20250;&#21019;&#24314;&#36825;&#20010;&#31383;&#21475;&#20294;&#26159;&#20989;&#25968;&#25191;&#34892;&#23436;&#65292;<strong class=" ">&#26632;</strong>&#20013;&#23601;&#27809;&#26377;&#36825;&#20010;&#20102;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CHelloDialogDlg::OnButton1() </code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    CDialog1 cDlg;</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    cDlg.Create(IDD_DIALOG1, </code><code class="keyword">this</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    cDlg.ShowWindow(SW_SHOW);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
>&#25152;&#20197;&#25105;&#20204;&#38656;&#35201;&#22312;&#22534;&#20013;&#21019;&#24314;&#65292;&#20351;&#29992;new&#20851;&#38190;&#35789;&#23601;&#21487;&#20197;&#20102;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CHelloDialogDlg::OnButton1() </code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    CDialog1* cDlg;</code></div>
<div class="line"><code class="plain">    cDlg = </code><code class="keyword">new</code><code class="plain"> CDialog1;</code></div>
<div class="line"><code class="plain">    cDlg-&gt;Create(IDD_DIALOG1, </code><code class="keyword">this</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    cDlg-&gt;ShowWindow(SW_SHOW);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
>&#38656;&#35201;&#27880;&#24847;&#65292;&#25105;&#20204;&#26159;&#22312;&#22534;&#20013;&#21019;&#24314;&#30340;&#65292;&#24403;&#31243;&#24207;&#25191;&#34892;&#23436;&#24182;&#19981;&#20250;&#33258;&#24049;&#21024;&#38500;&#65292;&#25152;&#20197;&#25105;&#20204;&#35201;&#22312;&#20195;&#30721;&#20013;&#21435;&#20889;&#65292;&#36825;&#37324;&#23601;&#20889;&#22312;&#21462;&#28040;&#25353;&#38062;&#30340;&#22788;&#29702;&#20989;&#25968;&#20869;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CDialog1::OnCancel() </code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">    </code><code class="comments">// TODO: Add extra cleanup here</code></div>
<div class="line"><code class="plain">    delete </code><code class="keyword">this</code><code class="plain">;</code></div>
<div class="line"><code class="plain">    CDialog::OnCancel();</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLU1GQ-aOp-S7tg">
        <h1 class="heading "><span>MFC&#25511;&#20214;</span></h1>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS4xMg">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<ol class=" "><li class=" "><p   
>Button&#12289;Edit&#12289;Static&#25511;&#20214;&#30340;&#23646;&#24615;&#21644;&#26041;&#27861;</p>
</li></ol>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLVdpbmRvd3PkvKDnu5_mjqfku7Y">
        <h2 class="heading "><span>Windows&#20256;&#32479;&#25511;&#20214;</span></h2>
<p   
>Windows&#20256;&#32479;&#25511;&#20214;&#22914;&#19979;&#34920;&#65292;&#20854;&#19982;&#31383;&#21475;&#20043;&#38388;&#30340;&#20851;&#31995;&#26159;&#29238;&#23376;&#20851;&#31995;&#65292;&#24403;&#31383;&#21475;&#65288;&#29238;&#20146;&#65289;&#31227;&#21160;&#65292;&#25511;&#20214;&#65288;&#20799;&#23376;&#65289;&#20063;&#20250;&#36319;&#38543;&#12290;</p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>&#25511;&#20214;&#31867;&#22411;</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>WNDCLASS</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>MFC&#23545;&#24212;&#30340;&#31867;</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#25353;&#25197;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&quot;BUTTON&quot;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CButton</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#21015;&#34920;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&quot;ListBox&quot;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CListBox</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#32534;&#36753;&#26694;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&quot;EDIT&quot;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CEdit</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#32452;&#21512;&#26694;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&quot;COMBOBOX&quot;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CCbomboBox</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#28378;&#21160;&#26465;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&quot;SCROLLBAR&quot;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CScrollBar</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#38745;&#24577;&#25991;&#26412;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&quot;STATIC&quot;</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CStatic</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLUJ1dHRvbuaOp-S7tg">
        <h3 class="heading "><span>Button&#25511;&#20214;</span></h3>
<p   
>&#25163;&#21160;&#26032;&#24314;&#19968;&#20010;&#25353;&#38062;&#25511;&#20214;&#65292;&#22522;&#20110;Create&#20989;&#25968;&#21363;&#21487;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_22-34-23.png" alt="images/download/attachments/1015822/image2021-7-1_22-34-23.png" width="600"  />
    </p>
<p   
>&#25105;&#20204;&#20063;&#21487;&#20197;&#25163;&#21160;&#32473;&#21019;&#24314;&#30340;&#36825;&#20010;&#25353;&#38062;&#28155;&#21152;&#19968;&#20010;&#22788;&#29702;&#20989;&#25968;&#65288;&#36824;&#26159;&#37027;&#19968;&#22871;&#27969;&#31243;&#65289;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_22-43-22.png" alt="images/download/attachments/1015822/image2021-7-1_22-43-22.png" width="600"  />
    </p>
<p   
>&#25105;&#20204;&#20877;&#26469;&#30475;&#30475;&#20462;&#25913;&#25353;&#38062;&#30340;&#21517;&#31216;&#65292;&#36319;&#32534;&#36753;&#26694;&#26159;&#19968;&#26679;&#30340;&#20351;&#29992;SetWindowText&#20989;&#25968;&#23601;&#21487;&#20197;&#65292;&#20294;&#26159;&#36825;&#37324;&#25105;&#20204;&#30340;<strong class=" ">m_btn1</strong>&#27809;&#27861;&#30452;&#25509;&#29992;&#22240;&#20026;&#23427;&#26159;&#21019;&#24314;&#22312;&#23616;&#37096;&#21464;&#37327;&#37324;&#30340;&#65292;&#25105;&#20204;&#21487;&#20197;&#25226;&#23427;&#25918;&#21040;&#31867;&#30340;&#22768;&#26126;&#37324;&#38754;&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_22-51-21.png" alt="images/download/attachments/1015822/image2021-7-1_22-51-21.png" width="600"  />
    </p>
<p   
>&#28982;&#21518;&#23601;&#21487;&#20197;&#30452;&#25509;&#20351;&#29992;&#23427;&#20102;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_22-52-5.png" alt="images/download/attachments/1015822/image2021-7-1_22-52-5.png" width="600"  />
    </p>
<p   
>&#22914;&#26524;&#20320;&#19981;&#24819;&#20351;&#29992;&#36825;&#31181;&#26041;&#24335;&#20063;&#21487;&#20197;&#36890;&#36807;<strong class=" ">GetDlgItem</strong>&#20989;&#25968;&#26469;&#35843;&#29992;&#12290;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">GetDlgItem(IDC_BUTTON2)-&gt;SetWindowText(</code><code class="string">"Changed"</code><code class="plain">);</code></div>
</div>
    </div>
<p   
>&#25353;&#38062;&#25511;&#20214;&#36824;&#26377;&#24456;&#22810;&#26041;&#27861;&#65292;&#27604;&#22914;&#35828;&#20320;&#21487;&#20197;&#36890;&#36807;<strong class=" ">EnableWindow</strong>&#26041;&#27861;&#35753;&#19968;&#20010;&#25353;&#38062;&#21464;&#28784;&#65288;<strong class=" ">TRUE</strong>&#23601;&#26159;&#21551;&#29992;&#25353;&#38062;&#65292;<strong class=" ">FALSE</strong>&#23601;&#26159;&#19981;&#21551;&#29992;&#65289;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_22-54-8.png" alt="images/download/attachments/1015822/image2021-7-1_22-54-8.png" width="600"  />
    </p>
<p   
>&#38500;&#20102;&#19968;&#20123;&#26041;&#27861;&#36824;&#21487;&#20197;&#35774;&#32622;&#26679;&#24335;&#65292;&#20363;&#22914;&#20320;&#21487;&#20197;&#35774;&#32622;&#25353;&#38062;&#25511;&#20214;&#20026;&#19968;&#20010;&#21333;&#36873;&#26694;&#12289;&#22797;&#36873;&#26694;&#65292;&#36825;&#37117;&#21487;&#20197;&#22312;<strong class=" ">Create</strong>&#20989;&#25968;&#20013;&#21435;&#35774;&#32622;&#12290;</p>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLVN0YXRpY-aOp-S7tg">
        <h3 class="heading "><span>Static&#25511;&#20214;</span></h3>
<p   
>CStatic&#25511;&#20214;&#26159;&#19968;&#20010;&#38745;&#24577;&#25991;&#26412;&#65292;&#20854;&#26159;MFC&#20013;&#26368;&#31616;&#21333;&#30340;&#25511;&#20214;&#65292;&#21019;&#24314;&#26041;&#24335;&#36319;&#25353;&#38062;&#25511;&#20214;&#26159;&#19968;&#26679;&#30340;&#65292;&#25152;&#20197;&#25105;&#20204;&#36825;&#37324;&#20026;&#20102;&#26041;&#20415;&#30452;&#25509;&#20351;&#29992;MFC&#25511;&#20214;&#26639;&#21306;&#21019;&#24314;&#21363;&#21487;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_23-17-22.png" alt="images/download/attachments/1015822/image2021-7-1_23-17-22.png" width="600"  />
    </p>
<p   
>&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;<strong class=" ">Properties</strong>&#21435;&#20462;&#25913;&#25991;&#26412;&#20869;&#23481;&#12289;&#26679;&#24335;...</p>
<p   
>&#40664;&#35748;&#24773;&#20917;&#19979;&#38745;&#24577;&#25991;&#26412;&#25511;&#20214;&#26159;&#27809;&#26377;&#22788;&#29702;&#20989;&#25968;&#30340;&#65292;&#20294;&#26159;&#25105;&#20204;&#21487;&#20197;&#33258;&#24049;&#28155;&#21152;&#65306;1.&#21462;&#20010;&#26032;ID 2.&#22312;&#26679;&#24335;&#37324;&#36873;&#20013;Notify 3.&#21452;&#20987;&#38745;&#24577;&#25991;&#26412;&#21019;&#24314;&#20989;&#25968;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-1_23-31-41.png" alt="images/download/attachments/1015822/image2021-7-1_23-31-41.png" width="600"  />
    </p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CHelloDialogDlg::OnStatic1() </code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">    </code><code class="comments">// TODO: Add your control notification handler code here</code></div>
<div class="line"><code class="plain">    GetDlgItem(IDC_STATIC_1)-&gt;SetWindowText(</code><code class="string">"123123123123"</code><code class="plain">);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLUVkaXTmjqfku7Y">
        <h3 class="heading "><span>Edit&#25511;&#20214;</span></h3>
<p   
>Edit&#25511;&#20214;&#23601;&#26159;&#19968;&#20010;&#32534;&#36753;&#26694;&#65292;&#19982;&#20854;&#20182;&#25511;&#20214;&#19968;&#26679;&#20320;&#21487;&#20197;&#36890;&#36807;<strong class=" ">Properties</strong>&#21435;&#20462;&#25913;&#26679;&#24335;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_0-6-6.png" alt="images/download/attachments/1015822/image2021-7-2_0-6-6.png" width="600"  />
    </p>
<p   
>&#25105;&#20204;&#21487;&#20197;&#36873;&#20013;Multiline&#28982;&#21518;&#36873;&#20013;Horizontal Scroll&#12289;Vertical Scroll&#65292;&#36825;&#26679;&#23601;&#21487;&#20197;&#35753;&#36825;&#20010;&#32534;&#36753;&#26694;&#25903;&#25345;&#22810;&#34892;&#24182;&#19988;&#26377;&#33258;&#21160;&#30340;&#19978;&#19979;&#12289;&#24038;&#21491;&#30340;&#28378;&#21160;&#26465;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_0-10-18.png" alt="images/download/attachments/1015822/image2021-7-2_0-10-18.png" width="600"  />
    </p>
<p   
>&#20854;&#20182;&#30340;&#26041;&#27861;&#37117;&#24456;&#24120;&#35265;&#65292;&#20294;&#26159;&#23545;&#32534;&#36753;&#26694;&#26469;&#35828;&#65292;&#36824;&#26377;&#24403;&#32534;&#36753;&#26694;&#20869;&#23481;&#21457;&#29983;&#25913;&#21464;&#30340;&#22788;&#29702;&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_0-13-55.png" alt="images/download/attachments/1015822/image2021-7-2_0-13-55.png" width="600"  />
    </p>
<p   
>&#24403;&#20869;&#23481;&#21457;&#29983;&#21464;&#21270;&#23601;&#20250;&#35302;&#21457;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_0-14-42.png" alt="images/download/attachments/1015822/image2021-7-2_0-14-42.png" width="600"  />
    </p>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLee7hOWQiOahhuS4juWIl-ihqOahhuaOp-S7tg">
        <h1 class="heading "><span>&#32452;&#21512;&#26694;&#19982;&#21015;&#34920;&#26694;&#25511;&#20214;</span></h1>
<p   
><strong class=" ">&#22312;&#20102;&#35299;&#20102;&#37027;&#20040;&#22810;&#25511;&#20214;&#30340;&#20351;&#29992;&#26041;&#27861;&#20043;&#21518;&#65292;&#25105;&#21457;&#29616;&#20854;&#23454;&#24456;&#22810;&#37117;&#26159;&#22914;&#20986;&#19968;&#36761;&#65292;&#25152;&#20197;&#25509;&#19979;&#26469;&#30340;&#31508;&#35760;&#35760;&#24405;&#19981;&#20250;&#37027;&#20040;&#35814;&#32454;&#12290;</strong></p>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLUNvbWJvQm945o6n5Lu2">
        <h2 class="heading "><span>ComboBox&#25511;&#20214;</span></h2>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS4xMw">
        <h3 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h3>
<ol class=" "><li class=" "><p   
>ComboBox&#25511;&#20214;</p>
</li></ol>    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLUNvbWJvQm945o6n5Lu2LjE">
        <h3 class="heading "><span>ComboBox&#25511;&#20214;</span></h3>
<p   
>ComboBox&#25511;&#20214;&#20063;&#23601;&#26159;&#32452;&#21512;&#26694;&#65292;&#36319;&#20854;&#20182;&#25511;&#20214;&#27809;&#20160;&#20040;&#21306;&#21035;&#65292;&#21807;&#19968;&#30340;&#21306;&#21035;&#22312;&#20110;&#23427;&#30340;&#35774;&#32622;&#20013;&#22810;&#20102;&#19968;&#20010;Data&#30340;&#26631;&#31614;&#26639;&#65292;&#22914;&#19979;&#22270;&#26159;&#20351;&#29992;&#26041;&#27861;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_0-47-51.png" alt="images/download/attachments/1015822/image2021-7-2_0-47-51.png" width="600"  />
    </p>
<p   
>&#20854;&#20182;&#30340;&#23646;&#24615;&#21487;&#20197;&#33258;&#34892;&#21435;&#30740;&#31350;&#65292;&#37117;&#38750;&#24120;&#31616;&#21333;&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_1-1-18.png" alt="images/download/attachments/1015822/image2021-7-2_1-1-18.png" width="600"  />
    </p>
    </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLUxpc3RCb3jmjqfku7Y">
        <h2 class="heading "><span>ListBox&#25511;&#20214;</span></h2>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS4xNA">
        <h3 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h3>
<ol class=" "><li class=" "><p   
>ListBox &#25511;&#20214;</p>
</li><li class=" "><p   
>Menu&#33756;&#21333;&#30340;&#28155;&#21152;</p>
</li></ol>    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLUNMaXN0Qm945bi455So6aOO5qC8">
        <h3 class="heading "><span>CListBox&#24120;&#29992;&#39118;&#26684;</span></h3>
<p   
>ListBox&#25511;&#20214;&#23601;&#26159;&#21015;&#34920;&#26694;&#65292;&#22914;&#19979;&#34920;&#26159;&#20854;&#30340;&#24120;&#29992;&#39118;&#26684;&#65306;</p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
><strong class=" ">&#39118;&#26684;</strong></p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
><strong class=" ">&#20171;&#32461;</strong></p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>LBS_EXTENDEDSEL</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#25903;&#25345;&#22810;&#37325;&#36873;&#25321;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>LBS_MULTICOLUMN</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#25351;&#23450;&#19968;&#20010;&#27700;&#24179;&#28378;&#21160;&#30340;&#22810;&#21015;&#21015;&#34920;&#26694;&#65292; &#36890;&#36807;&#35843;&#29992; CListBox::SetColumnWidth &#26469;&#35774;&#32622;&#27599;&#21015;&#30340;&#23485;&#24230;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>LBS_MULTIPLESEL</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#25903;&#25345;&#22810;&#37325;&#36873;&#25321;&#65292;&#21015;&#34920;&#39033;&#30340;&#36873;&#25321;&#29366;&#24577;&#38543;&#30528;&#29992;&#25143;&#23545;&#35813;&#39033;&#21333;&#20987;&#25110;&#21452;&#20987;&#40736;&#26631;&#32780;&#32763;&#36716;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>LBS_NOTIFY</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#24403;&#29992;&#25143;&#21333;&#20987;&#25110;&#21452;&#20987;&#40736;&#26631;&#26102;&#36890;&#30693;&#29238;&#31383;&#21475;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>LBS_USETABSTOPS</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#20351;&#21015;&#34920;&#26694;&#22312;&#26174;&#31034;&#21015;&#34920;&#39033;&#26102;&#35782;&#21035;&#24182;&#25193;&#23637;&#21046;&#34920;&#31526;(&#39;\t&#39;)&#65292;&#40664;&#35748;&#30340;&#21046;&#34920;&#23485;&#24230;&#26159;32&#20010;&#23545;&#35805;&#26694;&#21333;&#20301;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>LBS_DISABLENOSCROLL</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#20351;&#21015;&#34920;&#26694;&#22312;&#19981;&#38656;&#35201;&#28378;&#21160;&#26102;&#26174;&#31034;&#19968;&#20010;&#31105;&#27490;&#30340;&#22402;&#30452;&#28378;&#21160;&#26465;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>LBS_NOREDRAW</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#24403;&#36873;&#25321;&#21457;&#29983;&#21464;&#21270;&#26102;&#38450;&#27490;&#21015;&#34920;&#26694;&#34987;&#26356;&#26032;&#65292;&#21487;&#21457;&#36865;&#28040;&#24687;&#25913;&#21464;&#35813;&#39118;&#26684;</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeW4uOeUqOeahOaWueazlQ">
        <h2 class="heading "><span>&#24120;&#29992;&#30340;&#26041;&#27861;</span></h2>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">AddString() </code><code class="comments">// 添加一个字符串选项，放到最后面</code></div>
<div class="line"><code class="plain">DeleteString() </code><code class="comments">// 删除指定索引的字符串选项</code></div>
<div class="line"><code class="plain">GetCurSel() </code><code class="comments">// 获取当前选中选项的索引，返回值小于0则没有选中</code></div>
<div class="line"><code class="plain">SetCursel() </code><code class="comments">// 设置当前索引，如果填写0，那么就是设置第一个选中</code></div>
<div class="line"><code class="plain">GetCount() </code><code class="comments">// 获取组合框或者列表框当前的项的个数</code></div>
<div class="line"><code class="plain">SetItemData() </code><code class="comments">// 设置指定索引的位置的值</code></div>
<div class="line"><code class="plain">GetItemData() </code><code class="comments">// 获取指定索引位置的值</code></div>
<div class="line"><code class="plain">InsertString() </code><code class="comments">// 在指定索引处插入字符串</code></div>
<div class="line"><code class="plain">GetTopIndex() </code><code class="comments">// 返回组合框或者列表框第一个可见项的下标，相应的也有设置下标的</code></div>
<div class="line"><code class="plain">FindString() </code><code class="comments">// 寻找字符串，找到则返回值大于0，并且返回的是寻找到的字符串的下标</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLUxpc3RDdHJs5o6n5Lu2">
        <h1 class="heading "><span>ListCtrl&#25511;&#20214;</span></h1>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS4xNQ">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<ol class=" "><li class=" "><p   
>ListCtrl&#25511;&#20214;</p>
</li></ol>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLUNMaXN0Q3RybOW4uOeUqOmjjuagvA">
        <h2 class="heading "><span>CListCtrl&#24120;&#29992;&#39118;&#26684;</span></h2>
<p   
>ListCtrl&#25511;&#20214;&#26159;&#21015;&#34920;&#35270;&#22270;&#25511;&#20214;&#65292;&#20854;&#24120;&#29992;&#39118;&#26684;&#22914;&#19979;&#34920;&#65306;</p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
><strong class=" ">&#39118;&#26684;</strong></p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
><strong class=" ">&#20171;&#32461;</strong></p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>LVS_ICON</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#20026;&#27599;&#20010;&#36873;&#39033;&#26174;&#31034;&#22823;&#22270;&#26631;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>LVS_SMALLICON</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#20026;&#27599;&#20010;&#36873;&#39033;&#26174;&#31034;&#23567;&#22270;&#26631;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>LVS_LIST</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#26174;&#31034;&#19968;&#21015;&#24102;&#26377;&#23567;&#22270;&#26631;&#30340;&#36873;&#39033;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>LVS_REPORT</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#26174;&#31034;&#36873;&#39033;&#35814;&#32454;&#36164;&#26009;&#65292;&#24182;&#19988;&#20854;&#20250;&#21019;&#24314;&#19968;&#20010;&#34920;&#22836;&#65292;&#36825;&#20063;&#26159;&#25105;&#20204;&#29992;&#30340;&#26368;&#22810;&#30340;&#19968;&#20010;&#39118;&#26684;</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_1-22-29.png" alt="images/download/attachments/1015822/image2021-7-2_1-22-29.png" width="600"  />
    </p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_1-27-12.png" alt="images/download/attachments/1015822/image2021-7-2_1-27-12.png" width="600"  />
    </p>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeS9v-eUqExpc3RDdHJs">
        <h2 class="heading "><span>&#20351;&#29992;ListCtrl</span></h2>
<p   
>&#39318;&#20808;&#25105;&#20204;&#21019;&#24314;&#19968;&#20010;&#20851;&#32852;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_1-33-9.png" alt="images/download/attachments/1015822/image2021-7-2_1-33-9.png" width="600"  />
    </p>
<p   
>&#22312;&#25105;&#20204;&#27491;&#24335;&#20351;&#29992;&#20043;&#21069;&#65292;&#25105;&#20204;&#35201;&#30693;&#36947;&#19968;&#20123;&#25193;&#23637;&#26679;&#24335;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">LONG lStyle;</code></div>
<div class="line"><code class="plain">lStyle = GetWindowLong(m_list.m_hWnd, GWL_STYLE); </code><code class="comments">// 获取当前窗口样式</code></div>
<div class="line"><code class="plain">lStyle &amp;= ~LVS_TYPEMASK; </code><code class="comments">// 清除显示方式位</code></div>
<div class="line"><code class="plain">lStyle |= LVS_REPORT; </code><code class="comments">// 设置样式</code></div>
<div class="line"><code class="plain">SetWindowLong(m_list.m_hWnd, GWL_STYLE, lStyle); </code><code class="comments">// 设置样式</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">DWORD dwStyle = m_list.GetExtendedStyle(); </code><code class="comments">// 获取原来的一个扩展风格</code></div>
<div class="line"><code class="plain">dwStyle |= LVS_EX_FULLROWSELECT; </code><code class="comments">// 选中某行使整行高亮（只适用与report风格的listctrl）</code></div>
<div class="line"><code class="plain">dwStyle |= LVS_EX_GRIDLINES; </code><code class="comments">// 网格线（只适用与report风格的listctrl）</code></div>
<div class="line"><code class="plain">dwStyle |= LVS_EX_CHECKBOXES; </code><code class="comments">// 在选项前面生成checkbox控件</code></div>
<div class="line"><code class="plain">m_list.SetExtendedStyle(dwStyle); </code><code class="comments">// 设置扩展样式</code></div>
</div>
    </div>
<p   
>&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;&#36825;&#20010;&#39118;&#26684;&#65292;&#22312;<strong class=" ">OnInitDialog</strong>&#20989;&#25968;&#20013;&#21435;&#35774;&#32622;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_15-17-14.png" alt="images/download/attachments/1015822/image2021-7-2_15-17-14.png" width="600"  />
    </p>
<p   
>&#22240;&#20026;&#36825;&#26159;&#19968;&#20010;<strong class=" ">Report</strong>&#39118;&#26684;&#30340;<strong class=" ">ListCtrl</strong>&#25511;&#20214;&#65292;&#35813;&#39118;&#26684;&#26159;&#26377;&#19968;&#20010;&#34920;&#22836;&#30340;&#65292;&#25152;&#20197;&#25105;&#20204;&#38656;&#35201;&#20351;&#29992;<strong class=" ">InsertColumn</strong>&#20989;&#25968;&#21435;&#28155;&#21152;&#19968;&#20010;&#34920;&#22836;&#65288;<strong class=" ">&#38752;&#24038;&#23545;&#40784;&#65292;&#23485;&#24230;&#20026;60</strong>&#65289;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_15-21-19.png" alt="images/download/attachments/1015822/image2021-7-2_15-21-19.png" width="600"  />
    </p>
<p   
>&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;<strong class=" ">InsertItem</strong>&#20989;&#25968;&#21435;&#28155;&#21152;&#34920;&#26684;&#30340;&#25968;&#25454;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_15-23-26.png" alt="images/download/attachments/1015822/image2021-7-2_15-23-26.png" width="600"  />
    </p>
<p   
>&#22312;&#25968;&#25454;&#24320;&#22836;&#26377;&#36825;&#20010;&#22797;&#36873;&#26694;&#26159;&#22240;&#20026;&#25105;&#20204;&#30340;&#25193;&#23637;&#26679;&#24335;&#35774;&#32622;&#20102;<strong class=" ">CheckBox</strong>&#12290;</p>
<p   
><strong class=" ">InsertItem</strong>&#20989;&#25968;&#26368;&#32456;&#36820;&#22238;&#30340;&#32467;&#26524;&#26159;&#19968;&#20010;int&#31867;&#22411;&#65292;&#20854;&#34920;&#31034;&#24403;&#21069;&#25968;&#25454;&#30340;&#24207;&#21495;&#65292;&#25105;&#20204;&#21487;&#20197;&#26681;&#25454;&#36825;&#20010;&#36820;&#22238;&#20540;&#20351;&#29992;<strong class=" ">SetItemText</strong>&#20989;&#25968;&#21435;&#20462;&#25913;&#23545;&#24212;&#30340;&#25968;&#25454;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_15-26-37.png" alt="images/download/attachments/1015822/image2021-7-2_15-26-37.png" width="600"  />
    </p>
<p   
>&#22914;&#19978;&#22270;&#25105;&#20204;&#21487;&#20197;&#24471;&#30693;&#65292;<strong class=" ">InsertItem</strong>&#20989;&#25968;&#23454;&#38469;&#19978;&#25554;&#20837;&#30340;&#25968;&#25454;&#23601;&#26159;&#19968;&#34892;&#65292;&#32780;&#20854;&#31532;&#19968;&#20010;&#21442;&#25968;0&#21017;&#34920;&#31034;&#22312;&#31532;1&#34892;&#30340;&#31532;1&#21015;&#28155;&#21152;&#19968;&#20010;&#25968;&#25454;&#65292;&#25152;&#20197;&#25105;&#20204;&#20351;&#29992;<strong class=" ">SetItemText</strong>&#20989;&#25968;&#26681;&#25454;&#23545;&#24212;&#36820;&#22238;&#20540;&#21435;&#28155;&#21152;&#25968;&#25454;&#21017;&#21487;&#20197;&#36873;&#25321;&#28155;&#21152;&#20854;&#20182;&#21015;&#30340;&#25968;&#25454;&#12290;</p>
<p   
>&#25152;&#20197;&#65292;&#25105;&#20204;&#28155;&#21152;&#25968;&#25454;&#30340;&#26102;&#20505;&#20808;&#24212;&#35813;&#26377;<strong class=" ">InsertItem</strong>&#20989;&#25968;&#65292;&#32780;&#21518;&#20877;&#26159;<strong class=" ">SetItemText</strong>&#20989;&#25968;&#12290;</p>
<p   
>&#21516;&#26679;&#65292;&#25105;&#20204;&#20063;&#21487;&#20197;&#36890;&#36807;<strong class=" ">GetItemText</strong>&#20989;&#25968;&#21435;&#33719;&#21462;&#25968;&#25454;&#65292;&#22914;&#19979;&#22270;&#25152;&#31034;&#23601;&#26159;&#33719;&#21462;&#31532;2&#34892;&#30340;&#31532;2&#21015;&#30340;&#25968;&#25454;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_15-32-2.png" alt="images/download/attachments/1015822/image2021-7-2_15-32-2.png" width="600"  />
    </p>
<p   
>&#37027;&#20040;&#22312;&#36825;&#37324;&#25105;&#20204;&#20351;&#29992;&#20102;CheckBox&#30340;&#25193;&#23637;&#26679;&#24335;&#65292;&#25105;&#20204;&#35201;&#33719;&#21462;&#36825;&#22797;&#36873;&#26694;&#26377;&#27809;&#26377;&#34987;&#36873;&#20013;&#24590;&#20040;&#21150;&#65311;&#36825;&#26102;&#20505;&#23601;&#21487;&#20197;&#36890;&#36807;&#20989;&#25968;<strong class=" ">GetCheck</strong>&#26469;&#33719;&#21462;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_15-34-55.png" alt="images/download/attachments/1015822/image2021-7-2_15-34-55.png" width="600"  />
    </p>
<p   
>&#35813;&#20989;&#25968;&#36820;&#22238;&#20540;&#23601;&#26159;&#36873;&#20013;&#20026;1&#65292;&#27809;&#36873;&#20013;&#21017;&#20026;0&#65292;&#21442;&#25968;&#20063;&#23601;&#34920;&#31034;&#33719;&#21462;&#31532;&#20960;&#20010;&#22797;&#36873;&#26694;&#30340;&#36873;&#20013;&#29366;&#24577;&#12290;</p>
<p   
>&#25105;&#20204;&#21487;&#20197;&#22312;<strong class=" ">Resource</strong>&#37324;&#28155;&#21152;&#19968;&#20010;&#22270;&#26631;&#65292;&#28982;&#21518;&#22312;&#25968;&#25454;&#24320;&#22836;&#28155;&#21152;&#36825;&#20010;&#22270;&#26631;&#19978;&#21435;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_15-40-59.png" alt="images/download/attachments/1015822/image2021-7-2_15-40-59.png" width="600"  />
    </p>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLea3u-WKoOWPs-mUruiPnOWNlQ">
        <h3 class="heading "><span>&#28155;&#21152;&#21491;&#38190;&#33756;&#21333;</span></h3>
<p   
>&#25105;&#20204;&#21487;&#20197;&#22522;&#20110;&#34920;&#26684;&#28155;&#21152;&#19968;&#20010;&#21491;&#38190;&#33756;&#21333;&#65292;&#39318;&#20808;&#26159;&#21019;&#24314;&#25511;&#20214;&#12289;&#28155;&#21152;&#36873;&#39033;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_15-48-26.png" alt="images/download/attachments/1015822/image2021-7-2_15-48-26.png" width="600"  />
    </p>
<p   
>&#20854;&#27425;&#21487;&#20197;&#28155;&#21152;&#21491;&#20987;&#20107;&#20214;&#26174;&#31034;&#33756;&#21333;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_15-54-9.png" alt="images/download/attachments/1015822/image2021-7-2_15-54-9.png" width="600"  />
    </p>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLVRyZWVDdHJs5o6n5Lu2">
        <h1 class="heading "><span>TreeCtrl&#25511;&#20214;</span></h1>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS4xNg">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<ol class=" "><li class=" "><p   
>&#26641;&#24418;&#35270;&#22270;&#25511;&#20214;TreeCtrl</p>
</li></ol>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLUNUcmVlTGlzdOW4uOeUqOmjjuagvA">
        <h2 class="heading "><span>CTreeList&#24120;&#29992;&#39118;&#26684;</span></h2>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
><strong class=" ">&#39118;&#26684;</strong></p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
><strong class=" ">&#20171;&#32461;</strong></p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>TVS_HASLINES</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#28155;&#21152;&#32447;&#27573;&#65292;&#23558;&#23376;&#39033;&#30446;&#21644;&#20854;&#29238;&#39033;&#30446;&#36830;&#25509;&#36215;&#26469;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>TVS_LINESTROOT</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#28155;&#21152;&#32447;&#27573;&#65292;&#23558;&#20998;&#23618;&#32467;&#26500;&#30340;&#39030;&#23618;&#25110;&#32773;&#31216;&#20026;&#26681;&#30340;&#39033;&#30446;&#36830;&#25509;&#36215;&#26469;&#65292;&#21482;&#26377;&#25351;&#23450;&#20102;TVS_HASLINES&#65292;&#27492;&#26679;&#24335;&#25165;&#26377;&#25928;&#26524;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>TVS_HASBUTTONS</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#32473;&#20855;&#26377;&#23376;&#39033;&#30446;&#30340;&#39033;&#30446;&#28155;&#21152;&#24102;&#26377;&#21152;&#21495;&#25110;&#32773;&#20943;&#21495;&#30340;&#25353;&#38062;&#65292;&#21333;&#20987;&#35813;&#25353;&#25197;&#21487;&#20197;&#23637;&#24320;&#21644;&#25240;&#21472;&#30456;&#20851;&#23376;&#26641;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>TVS_EDITLABELS</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#20351;&#32622;&#25442;&#24335;&#26631;&#31614;&#32534;&#36753;&#36890;&#30693;&#26377;&#25928;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>TVS_DISABLEDRAGDROP</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#20351;&#25302;&#25918;&#26080;&#25928;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>TVS_SHOWSELALWAY</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#25351;&#23450;&#24403;&#21069;&#36873;&#20013;&#30340;&#39033;&#30446;&#24635;&#26159;&#34987;&#21152;&#20142;&#65292;&#40664;&#35748;&#19979;&#22833;&#21435;&#36755;&#20837;&#28966;&#28857;&#26102;&#21152;&#20142;&#26174;&#31034;&#20250;&#34987;&#21462;&#28040;</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_MFC-">
        <h1 class="heading "><span></span></h1>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeS9v-eUqFRyZWVDdHJs">
        <h2 class="heading "><span>&#20351;&#29992;TreeCtrl</span></h2>
<p   
>&#32769;&#35268;&#30697;&#65292;&#25105;&#20204;&#36824;&#26159;&#28155;&#21152;&#19968;&#20010;&#20851;&#32852;&#21442;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_16-13-9.png" alt="images/download/attachments/1015822/image2021-7-2_16-13-9.png" width="600"  />
    </p>
<p   
>&#28982;&#21518;&#26032;&#24314;&#19968;&#20010;&#25353;&#38062;&#26469;&#20854;&#26469;&#20351;&#29992;&#19968;&#20123;&#24120;&#35265;&#30340;&#20989;&#25968;&#65307;&#36890;&#36807;<strong class=" ">InsertItem</strong>&#20989;&#25968;&#25105;&#20204;&#21487;&#20197;&#28155;&#21152;&#33410;&#28857;&#65288;&#35813;&#26041;&#27861;&#37325;&#36733;&#30340;&#26377;&#24456;&#22810;&#31181;&#65292;&#26597;&#35810;MSDN Library&#21363;&#21487;&#65289;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_16-17-11.png" alt="images/download/attachments/1015822/image2021-7-2_16-17-11.png" width="600"  />
    </p>
<p   
>&#25105;&#20204;&#20808;&#29992;<strong class=" ">InsertItem</strong>&#20989;&#25968;&#28155;&#21152;&#19968;&#20010;&#29238;&#33410;&#28857;&#65292;&#28982;&#21518;&#26681;&#25454;&#36825;&#20010;&#20989;&#25968;&#36820;&#22238;&#30340;&#21477;&#26564;&#21435;&#21019;&#24314;&#23376;&#33410;&#28857;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_16-20-4.png" alt="images/download/attachments/1015822/image2021-7-2_16-20-4.png" width="600"  />
    </p>
<p   
>&#22914;&#26524;&#20320;&#24819;&#25903;&#25345;&#33410;&#28857;&#33258;&#21160;&#25490;&#24207;&#30340;&#35805;&#21487;&#20197;&#20351;&#29992;&#26679;&#24335;<strong class=" ">TVI_SORT</strong>&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_16-20-50.png" alt="images/download/attachments/1015822/image2021-7-2_16-20-50.png" width="600"  />
    </p>
<p   
>&#21516;&#29702;&#65292;&#22914;&#26524;&#20320;&#24819;&#22312;&#23376;&#33410;&#28857;&#19979;&#38754;&#20877;&#21019;&#24314;&#23376;&#33410;&#28857;&#65292;&#20320;&#23601;&#21487;&#23558;&#24403;&#21069;&#23376;&#33410;&#28857;&#20316;&#20026;&#29238;&#33410;&#28857;&#21435;&#21019;&#24314;&#23376;&#33410;&#28857;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_16-23-0.png" alt="images/download/attachments/1015822/image2021-7-2_16-23-0.png" width="600"  />
    </p>
<p   
>&#26082;&#28982;&#21487;&#20197;&#21019;&#24314;&#33410;&#28857;&#65292;&#25105;&#20204;&#36824;&#21487;&#20197;&#21435;&#33719;&#21462;&#33410;&#28857;&#65292;&#20363;&#22914;&#25105;&#21487;&#20197;&#21435;&#33719;&#21462;&#19968;&#20010;&#29238;&#33410;&#28857;&#65292;&#20063;&#23601;&#26159;&#26368;&#39030;&#23618;&#30340;&#37027;&#20010;&#33410;&#28857;&#12290;</p>
<p   
>&#25105;&#20204;&#38656;&#35201;&#20351;&#29992;&#30340;&#26159;<strong class=" ">GetRootItem</strong>&#20989;&#25968;&#65292;&#20854;&#36820;&#22238;&#20540;&#20026;&#19968;&#20010;&#21477;&#26564;&#65292;&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;&#35813;&#21477;&#26564;&#21435;&#33719;&#21462;&#23545;&#24212;&#33410;&#28857;&#30340;&#20449;&#24687;&#65292;&#20363;&#22914;&#33410;&#28857;&#21517;&#23383;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_16-27-14.png" alt="images/download/attachments/1015822/image2021-7-2_16-27-14.png" width="600"  />
    </p>
<p   
>&#22312;&#26377;&#22810;&#20010;&#29238;&#33410;&#28857;&#30340;&#24773;&#20917;&#19979;&#65292;&#40664;&#35748;&#26159;&#33719;&#21462;&#31532;&#19968;&#20010;&#65292;&#20063;&#23601;&#26159;&#26368;&#19978;&#38754;&#37027;&#20010;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_16-28-24.png" alt="images/download/attachments/1015822/image2021-7-2_16-28-24.png" width="600"  />
    </p>
<p   
>&#22914;&#26524;&#20320;&#24819;&#33719;&#21462;&#20854;&#20182;&#30340;&#29238;&#33410;&#28857;&#65292;&#21487;&#20197;&#22312;&#27492;&#22522;&#30784;&#19978;&#20351;&#29992;&#20989;&#25968;<strong class=" ">GetNextSiblingItem</strong>&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_16-30-48.png" alt="images/download/attachments/1015822/image2021-7-2_16-30-48.png" width="600"  />
    </p>
<p   
>&#21516;&#29702;&#65292;&#20320;&#24819;&#33719;&#21462;&#29238;&#33410;&#28857;&#30340;&#23376;&#33410;&#28857;&#23601;&#21487;&#20197;&#20351;&#29992;<strong class=" ">GetChildItem</strong>&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_16-35-14.png" alt="images/download/attachments/1015822/image2021-7-2_16-35-14.png" width="600"  />
    </p>
<p   
>&#20294;&#26159;&#36825;&#26679;&#23601;&#20250;&#23384;&#22312;&#32570;&#28857;&#65292;&#25152;&#20197;&#25105;&#20204;&#21487;&#20197;&#20889;&#20010;&#24490;&#29615;&#21435;&#36941;&#21382;&#33719;&#21462;&#65292;&#36825;&#37324;&#23436;&#20840;&#21487;&#20197;&#26681;&#25454;<strong class=" ">GetNextSiblingItem</strong>&#20989;&#25968;&#12289;<strong class=" ">GetChildItem</strong>&#20989;&#25968;&#20004;&#32773;&#30340;&#36820;&#22238;&#20540;&#21435;&#24490;&#29615;&#21028;&#26029;&#36941;&#21382;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_16-41-48.png" alt="images/download/attachments/1015822/image2021-7-2_16-41-48.png" width="600"  />
    </p>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLU1GQ-aWh-S7tuWSjOi1hOa6kOaTjeS9nA">
        <h1 class="heading "><span>MFC&#25991;&#20214;&#21644;&#36164;&#28304;&#25805;&#20316;</span></h1>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS4xNw">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<ol class=" "><li class=" "><p   
>&#23398;&#20064;MFC&#30340;CFile&#31867;</p>
</li><li class=" "><p   
>&#23398;&#20064;MFC&#36164;&#28304;&#25171;&#21253;&#21644;&#36755;&#20986;&#30340;&#26041;&#27861;</p>
</li></ol>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLUNGaWxl57G75omT5byA5paH5Lu2">
        <h2 class="heading "><span>CFile&#31867;&#25171;&#24320;&#25991;&#20214;</span></h2>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLeaJk-W8gOaWh-S7tueahOaWueazlQ">
        <h3 class="heading "><span>&#25171;&#24320;&#25991;&#20214;&#30340;&#26041;&#27861;</span></h3>
<ol class=" "><li class=" "><p   
>&#26500;&#36896;&#19968;&#20010;&#27809;&#26377;&#21021;&#22987;&#21270;&#30340;CFile&#23545;&#35937;&#65292;&#23545;&#35937;&#35843;&#29992;CFile::Open&#20989;&#25968;&#65307;</p>
</li><li class=" "><p   
>&#29992;CFile&#30340;&#26500;&#36896;&#20989;&#25968;&#25171;&#24320;&#25991;&#20214;&#65307;</p>
</li><li class=" "><p   
>&#22914;&#26524;&#35201;&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;&#25991;&#20214;&#65292;&#32780;&#19981;&#26159;&#25171;&#24320;&#19968;&#20010;&#29616;&#23384;&#25991;&#20214;&#65292;&#21017;&#38656;&#35201;&#22312;CFile::Open&#20989;&#25968;&#25110;&#32773;CFile&#30340;&#26500;&#36896;&#20989;&#25968;&#30340;&#31532;&#20108;&#20010;&#21442;&#25968;&#21253;&#21547;&#19968;&#20010;CFile::modeCreate&#26631;&#24535;&#12290;</p>
</li></ol>    </div>
    <div class="section section-3" id="src-1015822_safe-id-TUZDLeWunumZheS9v-eUqA">
        <h3 class="heading "><span>&#23454;&#38469;&#20351;&#29992;</span></h3>
<p   
>&#22312;&#24403;&#21069;&#24037;&#31243;&#30446;&#24405;&#19979;&#21019;&#24314;&#19968;&#20010;1.txt&#25991;&#20214;&#65292;&#28982;&#21518;&#22312;&#20195;&#30721;&#20013;&#20889;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_17-6-34.png" alt="images/download/attachments/1015822/image2021-7-2_17-6-34.png" width="600"  />
    </p>
<p   
>&#22914;&#26524;&#20320;&#24819;&#21435;&#25171;&#24320;&#19968;&#20010;&#25991;&#20214;&#65292;&#20854;&#23384;&#22312;&#23601;&#27491;&#24120;&#25171;&#24320;&#65292;&#19981;&#23384;&#22312;&#23601;&#21019;&#24314;&#30340;&#26102;&#20505;&#21487;&#20197;&#25353;&#22914;&#19979;&#22270;&#21435;&#20889;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_17-40-26.png" alt="images/download/attachments/1015822/image2021-7-2_17-40-26.png" width="600"  />
    </p>
<p   
>&#24403;&#28982;&#65292;&#20320;&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;&#25991;&#20214;&#32943;&#23450;&#19981;&#33021;&#23601;&#32467;&#26463;&#20102;&#65292;&#26159;&#35201;&#20889;&#19996;&#35199;&#36827;&#21435;&#30340;&#65292;&#21487;&#20197;&#20351;&#29992;<strong class=" ">Write</strong>&#20989;&#25968;&#21435;&#20889;&#20837;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_17-41-28.png" alt="images/download/attachments/1015822/image2021-7-2_17-41-28.png" width="600"  />
    </p>
<p   
>&#22914;&#26524;&#20320;&#24819;&#22312;&#36825;&#20010;&#20889;&#20837;&#20043;&#21518;&#36319;&#30528;&#21435;&#22635;&#20889;&#30340;&#35805;&#30452;&#25509;&#20351;&#29992;<strong class=" ">Write</strong>&#20989;&#25968;&#26159;&#20250;&#34987;&#35206;&#30422;&#30340;&#65292;&#25105;&#20204;&#38656;&#35201;&#20351;&#29992;<strong class=" ">SeekToEnd</strong>&#20989;&#25968;&#23558;&#20889;&#20837;&#20301;&#32622;&#25351;&#21521;&#25991;&#20214;&#26411;&#23614;&#28982;&#21518;&#20877;&#20351;&#29992;<strong class=" ">Write</strong>&#20989;&#25968;&#65292;&#26368;&#21518;&#35760;&#24471;&#35201;&#20851;&#38381;&#36825;&#20010;&#25991;&#20214;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_17-44-26.png" alt="images/download/attachments/1015822/image2021-7-2_17-44-26.png" width="600"  />
    </p>
<p   
>&#24403;&#28982;&#20102;&#65292;&#22312;&#36825;&#37324;&#25105;&#20204;&#30340;&#26159;&#23616;&#37096;&#21464;&#37327;&#65292;&#20320;&#21487;&#20197;&#19981;&#20351;&#29992;<strong class=" ">Close</strong>&#20989;&#25968;&#21435;&#37322;&#25918;&#36825;&#20010;&#65292;&#36825;&#26159;&#22240;&#20026;&#22312;&#24403;&#21069;&#20989;&#25968;&#25191;&#34892;&#23436;&#20043;&#21518;&#26512;&#26500;&#20989;&#25968;&#20250;&#24110;&#25105;&#20204;&#37322;&#25918;&#65292;&#32780;&#22914;&#26524;&#20320;&#26159;&#22312;&#22534;&#20013;&#21435;&#21019;&#24314;&#30340;&#35805;&#23601;&#19968;&#23450;&#35201;&#25163;&#21160;&#30340;&#21435;&#20889;&#12290;</p>
<p   
>CFile&#36824;&#26377;&#24456;&#22810;&#23646;&#24615;&#65292;&#23601;&#19981;&#19968;&#19968;&#21435;&#20030;&#20363;&#20102;&#65292;&#21487;&#20197;&#21442;&#32771;&#22914;&#19979;&#34920;&#26684;&#21435;&#20351;&#29992;&#65306;</p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>&#23646;&#24615;</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>&#21547;&#20041;</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CFile::modeCreate</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#26500;&#36896;&#26032;&#25991;&#20214;&#65292;&#22914;&#26524;&#25991;&#20214;&#23384;&#22312;&#65292;&#21017;&#38271;&#24230;&#21464;&#20026;0</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CFile::modeNoTruncate</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#35813;&#23646;&#24615;&#21644;modeCreate&#32852;&#21512;&#20351;&#29992;&#65292;&#21487;&#20197;&#36798;&#21040;&#22914;&#19979;&#25928;&#26524;&#65306;&#22914;&#26524;&#25991;&#20214;&#23384;&#22312;&#65292;&#21017;&#19981;&#20250;&#23558;&#25991;&#20214;&#30340;&#38271;&#24230;&#32622;&#20026;0&#65292;&#22914;&#26524;&#19981;&#23384;&#22312;&#65292;&#21017;&#20250;&#30001;modeCreate&#23646;&#24615;&#26469;&#21019;&#24314;&#19968;&#20010;&#26032;&#25991;&#20214;&#12290;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CFile::modeRead</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#20197;&#21482;&#35835;&#26041;&#24335;&#25171;&#24320;&#25991;&#20214;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CFile::modeWrite</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#20197;&#20889;&#26041;&#24335;&#25171;&#24320;&#25991;&#20214;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CFile::modeReadWrite</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#20197;&#35835;&#12289;&#20889;&#26041;&#24335;&#25171;&#24320;&#25991;&#20214;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CFile::modeNoInherit</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#38459;&#27490;&#25991;&#20214;&#34987;&#23376;&#36827;&#31243;&#32487;&#25215;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CFile::shareDenyNone</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#19981;&#31105;&#27490;&#20854;&#23427;&#36827;&#31243;&#35835;&#20889;&#35775;&#38382;&#25991;&#20214;&#65292;&#20294;&#22914;&#26524;&#25991;&#20214;&#24050;&#32463;&#34987;&#20854;&#23427;&#36827;&#31243;&#20197;&#20860;&#23481;&#27169;&#24335;&#25171;&#24320;&#65292;&#21017;&#21019;&#24314;&#25991;&#20214;&#22833;&#36133;&#12290;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CFile::shareDenyRead</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#25171;&#24320;&#25991;&#20214;&#65292;&#31105;&#27490;&#20854;&#23427;&#36827;&#31243;&#20214;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CFile::shareDenyWrite</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#25171;&#24320;&#25991;&#20214;&#65292;&#31105;&#27490;&#20854;&#23427;&#36827;&#31243;&#20889;&#27492;&#25991;&#20214;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CFile::shareExclusive</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#20197;&#29420;&#21344;&#27169;&#24335;&#25171;&#24320;&#25991;&#20214;&#65292;&#31105;&#27490;&#20854;&#23427;&#36827;&#31243;&#23545;&#25991;&#20214;&#30340;&#35835;&#20889;&#65292;&#22914;&#26524;&#25991;&#20214;&#24050;&#32463;&#34987;&#20854;&#23427;&#27169;&#24335;&#25171;&#24320;&#35835;&#20889;&#65288;&#21363;&#20351;&#26159;&#24403;&#21069;&#36827;&#31243;&#65289;&#65292;&#21017;&#26500;&#36896;&#22833;&#36133;&#12290;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CFile::shareCompat</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#27492;&#27169;&#24335;&#22312;32&#20301;MFC&#20013;&#26080;&#25928;&#65292;&#27492;&#27169;&#24335;&#22312;&#20351;&#29992;CFile::Open&#26102;&#34987;&#26144;&#23556;&#20026;CFile::ShareExclusive&#12290;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CFile::typeText</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#23545;&#22238;&#36710;&#12289;&#25442;&#34892;&#35774;&#32622;&#29305;&#27530;&#36827;&#31243;&#65288;&#20165;&#29992;&#20110;&#27966;&#29983;&#31867;&#65289;</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CFile::typeBinary</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>&#35774;&#32622;&#20108;&#36827;&#21046;&#27169;&#24335;&#65288;&#20165;&#29992;&#20110;&#27966;&#29983;&#31867;&#65289;</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLei1hOa6kOaTjeS9nA">
        <h2 class="heading "><span>&#36164;&#28304;&#25805;&#20316;</span></h2>
<p   
>MFC&#30340;&#36164;&#28304;&#23601;&#26159;&#25105;&#20204;&#20043;&#21069;&#25152;&#35828;&#30340;&#23384;&#20648;&#19968;&#20123;&#22270;&#29255;&#12289;&#22270;&#26631;&#12289;&#20449;&#24687;&#30340;...&#25105;&#20204;&#21487;&#20197;&#21435;&#26597;&#25214;&#36164;&#28304;&#12289;&#33719;&#21462;&#36164;&#28304;&#30340;&#22823;&#23567;&#12289;&#21152;&#36733;&#36164;&#28304;&#12290;</p>
<p   
>&#39318;&#20808;&#25105;&#20204;&#21487;&#20197;&#22522;&#20110;VC6&#28155;&#21152;&#19968;&#20010;TXT&#25991;&#20214;&#21040;&#36164;&#28304;&#21015;&#34920;&#20013;&#65292;&#25353;&#22914;&#19979;&#22270;&#25805;&#20316;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_17-54-17.png" alt="images/download/attachments/1015822/image2021-7-2_17-54-17.png" width="600"  />
    </p>
<p   
>&#25509;&#19979;&#26469;&#25105;&#20204;&#23601;&#21487;&#20197;&#26597;&#25214;&#36164;&#28304;&#12289;&#33719;&#21462;&#36164;&#28304;&#12289;&#21152;&#36733;&#36164;&#28304;&#12289;&#35835;&#21462;&#25968;&#25454;&#65306;</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> CHelloComboBoxDlg::OnButton1() </code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">    </code><code class="comments">// 查找资源</code></div>
<div class="line"><code class="plain">    </code><code class="comments">// 第二个参数需要填写资源名称，这个是由MAKEINTRESOURCE(Id)去获取的，Id就是我们的资源ID</code></div>
<div class="line"><code class="plain">    </code><code class="comments">// 第三个参数是资源类型，就输入我们刚刚自定义的资源类型</code></div>
<div class="line"><code class="plain">    HRSRC hrSrc = FindResource(NULL, MAKEINTRESOURCE(IDR_TXT1), </code><code class="string">"TXT"</code><code class="plain">); </code><code class="comments">// 返回一个句柄</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    </code><code class="comments">// 获取资源大小</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">int</code><code class="plain"> rSize = SizeofResource(NULL, hrSrc);</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    </code><code class="comments">// 加载资源</code></div>
<div class="line"><code class="plain">    HGLOBAL hMap = LoadResource(NULL, hrSrc);</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    </code><code class="comments">// 读取数据</code></div>
<div class="line"><code class="plain">    CFile cf;</code></div>
<div class="line"><code class="plain">    cf.Open(</code><code class="string">"new.txt"</code><code class="plain">, CFile::modeCreate|CFile::modeWrite);</code></div>
<div class="line"><code class="plain">    cf.Write(hMap, rSize);</code></div>
<div class="line"><code class="plain">    cf.Close();</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_18-10-57.png" alt="images/download/attachments/1015822/image2021-7-2_18-10-57.png" width="600"  />
    </p>
<p   
>&#21516;&#29702;&#65292;&#25105;&#20204;&#20063;&#21487;&#20197;&#21152;&#36733;EXE&#25991;&#20214;&#65292;&#28982;&#21518;&#21435;&#35835;&#21462;&#37322;&#25918;&#12290;</p>
    </div>
    </div>
    <div class="section section-1" id="src-1015822_safe-id-TUZDLU1GQ-WkmumhtemdouiuvuiuoQ">
        <h1 class="heading "><span>MFC&#22810;&#39029;&#38754;&#35774;&#35745;</span></h1>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeacrOiKgumcgOimgeaOjOaPoeeahOefpeivhueCuS4xOA">
        <h2 class="heading "><span>&#26412;&#33410;&#38656;&#35201;&#25484;&#25569;&#30340;&#30693;&#35782;&#28857;</span></h2>
<ol class=" "><li class=" "><p   
>&#23398;&#20064;MFC&#30340;CTabCtrl&#31867;&#21644;&#22810;&#39029;&#38754;&#30340;&#35774;&#35745;&#26041;&#24335;</p>
</li></ol>    </div>
    <div class="section section-2" id="src-1015822_safe-id-TUZDLeS9v-eUqFRhYkN0cmw">
        <h2 class="heading "><span>&#20351;&#29992;TabCtrl</span></h2>
<p   
>&#36824;&#26159;&#32769;&#26679;&#23376;&#30452;&#25509;&#22312;VC6&#20013;&#25302;&#25341;&#21019;&#24314;&#25511;&#20214;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_19-54-21.png" alt="images/download/attachments/1015822/image2021-7-2_19-54-21.png" width="600"  />
    </p>
<p   
>&#21487;&#20197;&#21435;&#36873;&#25321;&#35774;&#32622;&#33258;&#24049;&#24819;&#35201;&#30340;&#39118;&#26684;&#26679;&#24335;&#65292;&#36825;&#37324;&#20063;&#19981;&#22810;&#35828;&#20102;&#65307;&#25105;&#20204;&#32487;&#32493;&#21019;&#24314;&#19968;&#20010;&#20851;&#32852;&#21464;&#37327;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_19-56-55.png" alt="images/download/attachments/1015822/image2021-7-2_19-56-55.png" width="600"  />
    </p>
<p   
>&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;<strong class=" ">InsertItem</strong>&#20989;&#25968;&#21435;&#28155;&#21152;&#26631;&#31614;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_19-57-37.png" alt="images/download/attachments/1015822/image2021-7-2_19-57-37.png" width="600"  />
    </p>
<p   
>&#36825;&#37324;&#25105;&#20204;&#21487;&#20197;&#22312;&#21021;&#22987;&#21270;&#20989;&#25968;&#37324;&#21435;&#21019;&#24314;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_19-58-44.png" alt="images/download/attachments/1015822/image2021-7-2_19-58-44.png" width="600"  />
    </p>
<p   
>&#22914;&#19979;&#22270;&#25152;&#31034;&#26159;&#25105;&#20204;&#30340;&#36816;&#34892;&#32467;&#26524;&#65292;&#36825;&#20063;&#23601;&#35828;&#26126;&#20102;&#25105;&#20204;MFC&#22810;&#39029;&#38754;&#30340;&#35774;&#35745;&#20063;&#26159;&#22522;&#20110;&#36825;&#20010;&#26631;&#31614;&#39029;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_19-59-29.png" alt="images/download/attachments/1015822/image2021-7-2_19-59-29.png" width="600"  />
    </p>
<p   
>&#20294;&#26159;&#29616;&#22312;&#25105;&#20204;&#36825;&#26159;&#21019;&#24314;&#22909;&#20102;&#26631;&#31614;&#39029;&#65292;&#23454;&#38469;&#19978;&#37324;&#38754;&#36824;&#27809;&#26377;&#20219;&#20309;&#19996;&#35199;&#65292;&#25105;&#20204;&#21487;&#20197;&#29616;&#22312;&#36164;&#28304;&#20013;&#21306;&#21019;&#24314;&#20960;&#20010;&#23545;&#35805;&#26694;&#65292;&#24182;&#19988;&#20026;&#20854;&#21019;&#24314;&#31383;&#21475;&#31867;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_20-1-45.png" alt="images/download/attachments/1015822/image2021-7-2_20-1-45.png" width="600"  />
    </p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_20-2-50.png" alt="images/download/attachments/1015822/image2021-7-2_20-2-50.png" width="600"  />
    </p>
<p   
>&#28982;&#21518;&#22312;&#31867;&#20013;&#21435;&#22768;&#26126;&#25105;&#20204;&#30340;&#19977;&#20010;Page&#25104;&#21592;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_20-4-30.png" alt="images/download/attachments/1015822/image2021-7-2_20-4-30.png" width="600"  />
    </p>
<p   
>&#25509;&#19979;&#26469;&#25105;&#20204;&#23601;&#21487;&#20197;&#21435;&#20351;&#29992;<strong class=" ">Create&#12289;ShowWindow</strong>&#20989;&#25968;&#21019;&#24314;&#31383;&#21475;&#20102;&#65292;&#20294;&#26159;&#20165;&#20165;&#36825;&#26679;&#26159;&#19981;&#22815;&#30340;&#65292;&#25105;&#20204;&#36824;&#38656;&#35201;&#35774;&#32622;&#19968;&#20010;&#24403;&#21069;&#39029;&#38754;&#30340;&#29238;&#31867;&#65288;&#25105;&#20204;&#35201;&#26174;&#31034;&#22312;&#26631;&#31614;&#39029;&#37324;&#25152;&#20197;&#36825;&#37324;&#23601;&#20889;&#26631;&#31614;&#39029;&#65289;&#65292;&#20351;&#29992;<strong class=" ">SetParent</strong>&#20989;&#25968;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_20-7-25.png" alt="images/download/attachments/1015822/image2021-7-2_20-7-25.png" width="600"  />
    </p>
<p   
>&#25105;&#20204;&#21487;&#20197;&#30475;&#19979;&#32467;&#26524;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_20-21-0.png" alt="images/download/attachments/1015822/image2021-7-2_20-21-0.png" width="600"  />
    </p>
<p   
>&#36825;&#20010;&#23376;&#39029;&#38754;&#26159;&#21487;&#20197;&#38543;&#24847;&#31227;&#21160;&#24182;&#19988;&#27809;&#26377;&#22635;&#28385;&#25105;&#20204;&#30340;&#26631;&#31614;&#39029;&#65292;&#25152;&#20197;&#25105;&#20204;&#21487;&#20197;&#20808;&#26681;&#25454;<strong class=" ">GetClientRect</strong>&#20989;&#25968;&#33719;&#21462;&#24403;&#21069;&#23458;&#25143;&#21306;&#30340;&#22352;&#26631;&#28982;&#21518;&#23558;&#35813;&#39029;&#38754;&#31227;&#21160;&#36807;&#21435;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_20-24-43.png" alt="images/download/attachments/1015822/image2021-7-2_20-24-43.png" width="600"  />
    </p>
<p   
>&#20294;&#26159;&#36825;&#26679;&#26174;&#28982;&#36824;&#19981;&#34892;&#65292;&#22240;&#20026;&#25105;&#20204;&#30340;&#26631;&#31614;&#39029;&#34987;&#36974;&#20303;&#20102;&#65292;&#25152;&#20197;&#25105;&#20204;&#38656;&#35201;&#25163;&#21160;&#30340;&#21435;&#35843;&#25972;&#19968;&#19979;&#22352;&#26631;&#35753;&#30475;&#36215;&#26469;&#26356;&#22909;&#19968;&#20123;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_20-28-2.png" alt="images/download/attachments/1015822/image2021-7-2_20-28-2.png" width="600"  />
    </p>
<p   
>&#20294;&#26159;&#25105;&#20204;&#28857;&#20987;&#20854;&#20182;&#30340;&#26631;&#31614;&#39029;&#30340;&#26102;&#20505;&#36824;&#26159;&#20250;&#30475;&#35265;&#36825;&#20010;&#23376;&#31383;&#21475;&#65292;&#37027;&#20040;&#25105;&#20204;&#24212;&#35813;&#29992;&#20854;&#20182;&#20107;&#20214;&#21435;&#35299;&#20915;&#36825;&#20010;&#38382;&#39064;&#65292;&#20808;&#20889;&#22909;&#20854;&#20182;&#39029;&#38754;&#30340;&#22635;&#20805;&#65292;&#28982;&#21518;&#36890;&#36807;&#31867;&#21521;&#23548;&#21435;&#21019;&#24314;<strong class=" ">TCN_SELECTCHANGE</strong>&#28040;&#24687;&#30456;&#20851;&#30340;&#22788;&#29702;&#20989;&#25968;&#65292;&#36825;&#20010;&#28040;&#24687;&#34920;&#31034;&#24403;&#36873;&#25321;&#34987;&#20462;&#25913;&#26102;&#24212;&#22914;&#20309;&#21435;&#22788;&#29702;&#12290;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_20-45-27.png" alt="images/download/attachments/1015822/image2021-7-2_20-45-27.png" width="600"  />
    </p>
<p   
>&#36825;&#26679;&#25105;&#20204;&#35299;&#20915;&#20102;&#39029;&#38754;&#26174;&#31034;&#30340;&#38382;&#39064;&#65292;&#20294;&#26159;&#24403;&#21069;&#36825;&#20010;&#23376;&#31383;&#21475;&#26159;&#21487;&#20197;&#25302;&#25341;&#30340;&#24182;&#19988;&#36824;&#26377;&#36793;&#26694;&#65292;&#19968;&#33324;&#26469;&#35828;&#24212;&#29992;&#31243;&#24207;&#19981;&#20250;&#36825;&#20040;&#21435;&#35774;&#35745;&#65292;&#25152;&#20197;&#25105;&#20204;&#38656;&#35201;&#20462;&#25913;&#23545;&#35805;&#26694;&#30340;&#26679;&#24335;&#65306;</p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/1015822/image2021-7-2_20-48-13.png" alt="images/download/attachments/1015822/image2021-7-2_20-48-13.png" width="600"  />
    </p>
<p   
><br/></p>
    </div>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="Win32.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Win32</span>
        </a>
                <a href="%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>&#32593;&#32476;&#32534;&#31243;</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
